(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c60a39a"],{2721:function(e,t,i){"use strict";i.d(t,"a",(function(){return q})),i.d(t,"b",(function(){return z}));var r=i("458b"),n=i("e504");class s{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const i=this.getUint32(e,t),r=this.getUint32(e+4,t);let n;if(t){if(n=i+2**32*r,!Number.isSafeInteger(n))throw new Error(n+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}if(n=2**32*i+r,!Number.isSafeInteger(n))throw new Error(n+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}getInt64(e,t){let i=0;const r=(128&this._dataView.getUint8(e+(t?7:0)))>0;let n=!0;for(let s=0;s<8;s++){let o=this._dataView.getUint8(e+(t?s:7-s));r&&(n?0!==o&&(o=255&~(o-1),n=!1):o=255&~o),i+=o*256**s}return r&&(i=-i),i}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return Object(n["getFloat16"])(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class o{constructor(e,t,i,r){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=i,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),i=this.readUint32(e+4);let r;if(this._littleEndian){if(r=t+2**32*i,!Number.isSafeInteger(r))throw new Error(r+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return r}if(r=2**32*t+i,!Number.isSafeInteger(r))throw new Error(r+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return r}readInt64(e){let t=0;const i=(128&this._dataView.getUint8(e+(this._littleEndian?7:0)))>0;let r=!0;for(let n=0;n<8;n++){let s=this._dataView.getUint8(e+(this._littleEndian?n:7-n));i&&(r?0!==s&&(s=255&~(s-1),r=!1):s=255&~s),t+=s*256**n}return i&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const a="\r\n\r\n";function l(e){if("undefined"!==typeof Object.fromEntries)return Object.fromEntries(e);const t={};for(const[i,r]of e)t[i.toLowerCase()]=r;return t}function h(e){const t=e.split("\r\n").map(e=>{const t=e.split(":").map(e=>e.trim());return t[0]=t[0].toLowerCase(),t});return l(t)}function c(e){const[t,...i]=e.split(";").map(e=>e.trim()),r=i.map(e=>e.split("="));return{type:t,params:l(r)}}function u(e){let t,i,r;return e&&([,t,i,r]=e.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),i=parseInt(i,10),r=parseInt(r,10)),{start:t,end:i,total:r}}function f(e,t){let i=null;const r=new TextDecoder("ascii"),n=[],s="--"+t,o=s+"--";for(let a=0;a<10;++a){const t=r.decode(new Uint8Array(e,a,s.length));t===s&&(i=a)}if(null===i)throw new Error("Could not find initial boundary");while(i<e.byteLength){const t=r.decode(new Uint8Array(e,i,Math.min(s.length+1024,e.byteLength-i)));if(0===t.length||t.startsWith(o))break;if(!t.startsWith(s))throw new Error("Part does not start with boundary");const l=t.substr(s.length+2);if(0===l.length)break;const c=l.indexOf(a),f=h(l.substr(0,c)),{start:g,end:d,total:p}=u(f["content-range"]),w=i+s.length+c+a.length,y=parseInt(d,10)+1-parseInt(g,10);n.push({headers:f,data:e.slice(w,w+y),offset:g,length:y,fileSize:p}),i=w+y+4}return n}var g=i("b39d"),d=i("9dd0"),p=i("ae75");class w{constructor(e,t,i=null){this.offset=e,this.length=t,this.data=i}get top(){return this.offset+this.length}}class y{constructor(e,t,i){this.offset=e,this.length=t,this.blockIds=i}}class m extends g["a"]{constructor(e,{blockSize:t=65536,cacheSize:i=100}={}){super(),this.source=e,this.blockSize=t,this.blockCache=new d["a"]({maxSize:i}),this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,t){const i=[],r=[],n=[];for(const{offset:u,length:f}of e){let e=u+f;const{fileSize:t}=this;null!==t&&(e=Math.min(e,t));const s=Math.floor(u/this.blockSize)*this.blockSize;for(let o=s;o<e;o+=this.blockSize){const e=Math.floor(o/this.blockSize);this.blockCache.has(e)||this.blockRequests.has(e)||(this.blockIdsToFetch.add(e),r.push(e)),this.blockRequests.has(e)&&i.push(this.blockRequests.get(e)),n.push(e)}}await Object(p["h"])(),this.fetchBlocks(t);const s=[];for(const u of r)this.blockRequests.has(u)&&s.push(this.blockRequests.get(u));await Promise.allSettled(i),await Promise.allSettled(s);const o=[],a=n.filter(e=>this.abortedBlockIds.has(e)||!this.blockCache.has(e));if(a.forEach(e=>this.blockIdsToFetch.add(e)),a.length>0&&t&&!t.aborted){this.fetchBlocks(null);for(const e of a){const t=this.blockRequests.get(e);if(!t)throw new Error(`Block ${e} is not in the block requests`);o.push(t)}await Promise.allSettled(o)}if(t&&t.aborted)throw new p["a"]("Request was aborted");const l=n.map(e=>this.blockCache.get(e)),h=l.filter(e=>!e);if(h.length)throw new p["b"](h,"Request failed");const c=new Map(Object(p["i"])(n,l));return this.readSliceData(e,c)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const t=this.groupBlocks(this.blockIdsToFetch),i=this.source.fetch(t,e);for(let r=0;r<t.length;++r){const n=t[r];for(const t of n.blockIds)this.blockRequests.set(t,(async()=>{try{const e=(await i)[r],n=t*this.blockSize,s=n-e.offset,o=Math.min(s+this.blockSize,e.data.byteLength),a=e.data.slice(s,o),l=new w(n,a.byteLength,a,t);this.blockCache.set(t,l),this.abortedBlockIds.delete(t)}catch(n){if("AbortError"!==n.name)throw n;n.signal=e,this.blockCache.delete(t),this.abortedBlockIds.add(t)}finally{this.blockRequests.delete(t)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const t=Array.from(e).sort((e,t)=>e-t);if(0===t.length)return[];let i=[],r=null;const n=[];for(const s of t)null===r||r+1===s?(i.push(s),r=s):(n.push(new y(i[0]*this.blockSize,i.length*this.blockSize,i)),i=[s],r=s);return n.push(new y(i[0]*this.blockSize,i.length*this.blockSize,i)),n}readSliceData(e,t){return e.map(e=>{let i=e.offset+e.length;null!==this.fileSize&&(i=Math.min(this.fileSize,i));const r=Math.floor(e.offset/this.blockSize),n=Math.floor(i/this.blockSize),s=new ArrayBuffer(e.length),o=new Uint8Array(s);for(let a=r;a<=n;++a){const r=t.get(a),n=r.offset-e.offset,s=r.top-i;let l,h=0,c=0;n<0?h=-n:n>0&&(c=n),l=s<0?r.length-h:i-r.offset-h;const u=new Uint8Array(r.data,h,l);o.set(u,c)}return s})}}var b=i("3005");class S extends b["b"]{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){const e=this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer;return e}}class I extends b["a"]{constructor(e,t){super(e),this.credentials=t}async request({headers:e,credentials:t,signal:i}={}){const r=await fetch(this.url,{headers:e,credentials:t,signal:i});return new S(r)}}class T extends b["b"]{constructor(e,t){super(),this.xhr=e,this.data=t}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class D extends b["a"]{constructRequest(e,t){return new Promise((i,r)=>{const n=new XMLHttpRequest;n.open("GET",this.url),n.responseType="arraybuffer";for(const[t,s]of Object.entries(e))n.setRequestHeader(t,s);n.onload=()=>{const e=n.response;i(new T(n,e))},n.onerror=r,n.onabort=()=>r(new p["a"]("Request aborted")),n.send(),t&&(t.aborted&&n.abort(),t.addEventListener("abort",()=>n.abort()))})}async request({headers:e,signal:t}={}){const i=await this.constructRequest(e,t);return i}}var A=i("698b");class O extends g["a"]{constructor(e,t,i,r){super(),this.client=e,this.headers=t,this.maxRanges=i,this.allowFullFile=r,this._fileSize=null}async fetch(e,t){return this.maxRanges>=e.length?this.fetchSlices(e,t):(this.maxRanges>0&&e.length,Promise.all(e.map(e=>this.fetchSlice(e,t))))}async fetchSlices(e,t){const i=await this.client.request({headers:{...this.headers,Range:"bytes="+e.map(({offset:e,length:t})=>`${e}-${e+t}`).join(",")},signal:t});if(i.ok){if(206===i.status){const{type:r,params:n}=c(i.getHeader("content-type"));if("multipart/byteranges"===r){const e=f(await i.getData(),n.boundary);return this._fileSize=e[0].fileSize||null,e}const s=await i.getData(),{start:o,end:a,total:l}=u(i.getHeader("content-range"));this._fileSize=l||null;const h=[{data:s,offset:o,length:a-o}];if(e.length>1){const i=await Promise.all(e.slice(1).map(e=>this.fetchSlice(e,t)));return h.concat(i)}return h}{if(!this.allowFullFile)throw new Error("Server responded with full file");const e=await i.getData();return this._fileSize=e.byteLength,[{data:e,offset:0,length:e.byteLength}]}}throw new Error("Error fetching data.")}async fetchSlice(e,t){const{offset:i,length:r}=e,n=await this.client.request({headers:{...this.headers,Range:`bytes=${i}-${i+r}`},signal:t});if(n.ok){if(206===n.status){const e=await n.getData(),{total:t}=u(n.getHeader("content-range"));return this._fileSize=t||null,{data:e,offset:i,length:r}}{if(!this.allowFullFile)throw new Error("Server responded with full file");const e=await n.getData();return this._fileSize=e.byteLength,{data:e,offset:0,length:e.byteLength}}}throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function P(e,{blockSize:t,cacheSize:i}){return null===t?e:new m(e,{blockSize:t,cacheSize:i})}function E(e,{headers:t={},credentials:i,maxRanges:r=0,allowFullFile:n=!1,...s}={}){const o=new I(e,i),a=new O(o,t,r,n);return P(a,s)}function F(e,{headers:t={},maxRanges:i=0,allowFullFile:r=!1,...n}={}){const s=new D(e),o=new O(s,t,i,r);return P(o,n)}function R(e,{headers:t={},maxRanges:i=0,allowFullFile:r=!1,...n}={}){const s=new A["a"](e),o=new O(s,t,i,r);return P(o,n)}function C(e,{forceXHR:t=!1,...i}={}){return"function"!==typeof fetch||t?"undefined"!==typeof XMLHttpRequest?F(e,i):R(e,i):E(e,i)}g["a"];g["a"];i("2d75");var M=i("aba6");const G=Object(p["f"])(M["e"]),k=Object(p["f"])(M["i"]),U={};Object(p["c"])(U,G),Object(p["c"])(U,k);Object(p["f"])(M["g"]);const L={nextZero:(e,t)=>{let i=t;while(0!==e[i])i++;return i},readUshort:(e,t)=>e[t]<<8|e[t+1],readShort:(e,t)=>{const i=L.ui8;return i[0]=e[t+1],i[1]=e[t+0],L.i16[0]},readInt:(e,t)=>{const i=L.ui8;return i[0]=e[t+3],i[1]=e[t+2],i[2]=e[t+1],i[3]=e[t+0],L.i32[0]},readUint:(e,t)=>{const i=L.ui8;return i[0]=e[t+3],i[1]=e[t+2],i[2]=e[t+1],i[3]=e[t+0],L.ui32[0]},readASCII:(e,t,i)=>i.map(i=>String.fromCharCode(e[t+i])).join(""),readFloat:(e,t)=>{const i=L.ui8;return Object(p["g"])(4,r=>{i[r]=e[t+3-r]}),L.fl32[0]},readDouble:(e,t)=>{const i=L.ui8;return Object(p["g"])(8,r=>{i[r]=e[t+7-r]}),L.fl64[0]},writeUshort:(e,t,i)=>{e[t]=i>>8&255,e[t+1]=255&i},writeUint:(e,t,i)=>{e[t]=i>>24&255,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=i>>0&255},writeASCII:(e,t,i)=>{Object(p["g"])(i.length,r=>{e[t+r]=i.charCodeAt(r)})},ui8:new Uint8Array(8)};L.fl64=new Float64Array(L.ui8.buffer),L.writeDouble=(e,t,i)=>{L.fl64[0]=i,Object(p["g"])(8,i=>{e[t+i]=L.ui8[7-i]})};function x(e){switch(e){case M["h"].BYTE:case M["h"].ASCII:case M["h"].SBYTE:case M["h"].UNDEFINED:return 1;case M["h"].SHORT:case M["h"].SSHORT:return 2;case M["h"].LONG:case M["h"].SLONG:case M["h"].FLOAT:case M["h"].IFD:return 4;case M["h"].RATIONAL:case M["h"].SRATIONAL:case M["h"].DOUBLE:case M["h"].LONG8:case M["h"].SLONG8:case M["h"].IFD8:return 8;default:throw new RangeError("Invalid field type: "+e)}}function _(e){const t=e.GeoKeyDirectory;if(!t)return null;const i={};for(let r=4;r<=4*t[3];r+=4){const n=M["i"][t[r]],s=t[r+1]?M["e"][t[r+1]]:null,o=t[r+2],a=t[r+3];let l=null;if(s){if(l=e[s],"undefined"===typeof l||null===l)throw new Error(`Could not get value of geoKey '${n}'.`);"string"===typeof l?l=l.substring(a,a+o-1):l.subarray&&(l=l.subarray(a,a+o),1===o&&(l=l[0]))}else l=a;i[n]=l}return i}function j(e,t,i,r){let n=null,s=null;const o=x(t);switch(t){case M["h"].BYTE:case M["h"].ASCII:case M["h"].UNDEFINED:n=new Uint8Array(i),s=e.readUint8;break;case M["h"].SBYTE:n=new Int8Array(i),s=e.readInt8;break;case M["h"].SHORT:n=new Uint16Array(i),s=e.readUint16;break;case M["h"].SSHORT:n=new Int16Array(i),s=e.readInt16;break;case M["h"].LONG:case M["h"].IFD:n=new Uint32Array(i),s=e.readUint32;break;case M["h"].SLONG:n=new Int32Array(i),s=e.readInt32;break;case M["h"].LONG8:case M["h"].IFD8:n=new Array(i),s=e.readUint64;break;case M["h"].SLONG8:n=new Array(i),s=e.readInt64;break;case M["h"].RATIONAL:n=new Uint32Array(2*i),s=e.readUint32;break;case M["h"].SRATIONAL:n=new Int32Array(2*i),s=e.readInt32;break;case M["h"].FLOAT:n=new Float32Array(i),s=e.readFloat32;break;case M["h"].DOUBLE:n=new Float64Array(i),s=e.readFloat64;break;default:throw new RangeError("Invalid field type: "+t)}if(t!==M["h"].RATIONAL&&t!==M["h"].SRATIONAL)for(let a=0;a<i;++a)n[a]=s.call(e,r+a*o);else for(let a=0;a<i;a+=2)n[a]=s.call(e,r+a*o),n[a+1]=s.call(e,r+(a*o+4));return t===M["h"].ASCII?new TextDecoder("utf-8").decode(n):n}class B{constructor(e,t,i){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=i}}class N extends Error{constructor(e){super("No image at index "+e),this.index=e}}class V{async readRasters(e={}){const{window:t,width:i,height:r}=e;let{resX:n,resY:s,bbox:o}=e;const a=await this.getImage();let l=a;const h=await this.getImageCount(),c=a.getBoundingBox();if(t&&o)throw new Error('Both "bbox" and "window" passed.');if(i||r){if(t){const[e,i]=a.getOrigin(),[r,n]=a.getResolution();o=[e+t[0]*r,i+t[1]*n,e+t[2]*r,i+t[3]*n]}const e=o||c;if(i){if(n)throw new Error("Both width and resX passed");n=(e[2]-e[0])/i}if(r){if(s)throw new Error("Both width and resY passed");s=(e[3]-e[1])/r}}if(n||s){const e=[];for(let t=0;t<h;++t){const i=await this.getImage(t),{SubfileType:r,NewSubfileType:n}=i.fileDirectory;(0===t||2===r||1&n)&&e.push(i)}e.sort((e,t)=>e.getWidth()-t.getWidth());for(let t=0;t<e.length;++t){const i=e[t],r=(c[2]-c[0])/i.getWidth(),o=(c[3]-c[1])/i.getHeight();if(l=i,n&&n>r||s&&s>o)break}}let u=t;if(o){const[e,t]=a.getOrigin(),[i,r]=l.getResolution(a);u=[Math.round((o[0]-e)/i),Math.round((o[1]-t)/r),Math.round((o[2]-e)/i),Math.round((o[3]-t)/r)],u=[Math.min(u[0],u[2]),Math.min(u[1],u[3]),Math.max(u[0],u[2]),Math.max(u[1],u[3])]}return l.readRasters({...e,window:u})}}class H extends V{constructor(e,t,i,r,n={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=i,this.firstIFDOffset=r,this.cache=n.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const i=this.bigTiff?4048:1024;return new o((await this.source.fetch([{offset:e,length:"undefined"!==typeof t?t:i}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,i=this.bigTiff?8:2;let r=await this.getSlice(e);const n=this.bigTiff?r.readUint64(e):r.readUint16(e),s=n*t+(this.bigTiff?16:6);r.covers(e,s)||(r=await this.getSlice(e,s));const o={};let a=e+(this.bigTiff?8:2);for(let c=0;c<n;a+=t,++c){const e=r.readUint16(a),t=r.readUint16(a+2),i=this.bigTiff?r.readUint64(a+4):r.readUint32(a+4);let n,s;const l=x(t),h=a+(this.bigTiff?12:8);if(l*i<=(this.bigTiff?8:4))n=j(r,t,i,h);else{const e=r.readOffset(h),s=x(t)*i;if(r.covers(e,s))n=j(r,t,i,e);else{const r=await this.getSlice(e,s);n=j(r,t,i,e)}}s=1===i&&-1===M["d"].indexOf(e)&&t!==M["h"].RATIONAL&&t!==M["h"].SRATIONAL?n[0]:n,o[M["e"][e]]=s}const l=_(o),h=r.readOffset(e+i+t*n);return new B(o,l,h)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(0===e)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){if(t instanceof N)throw new N(e);throw t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(0===t.nextIFDByteOffset)throw new N(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new r["a"](t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;while(t)try{await this.requestIFD(e),++e}catch(i){if(!(i instanceof N))throw i;t=!1}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",i=t.length+100;let r=await this.getSlice(e,i);if(t===j(r,M["h"].ASCII,t.length,e)){const t=j(r,M["h"].ASCII,i,e),n=t.split("\n")[0],s=Number(n.split("=")[1].split(" ")[0])+n.length;s>i&&(r=await this.getSlice(e,s));const o=j(r,M["h"].ASCII,s,e);this.ghostValues={},o.split("\n").filter(e=>e.length>0).map(e=>e.split("=")).forEach(([e,t])=>{this.ghostValues[e]=t})}return this.ghostValues}static async fromSource(e,t,i){const r=(await e.fetch([{offset:0,length:1024}],i))[0],n=new s(r),o=n.getUint16(0,0);let a;if(18761===o)a=!0;else{if(19789!==o)throw new TypeError("Invalid byte order value.");a=!1}const l=n.getUint16(2,a);let h;if(42===l)h=!1;else{if(43!==l)throw new TypeError("Invalid magic number.");{h=!0;const e=n.getUint16(4,a);if(8!==e)throw new Error("Unsupported offset byte-size.")}}const c=h?n.getUint64(8,a):n.getUint32(4,a);return new H(e,a,h,c,t)}close(){return"function"===typeof this.source.close&&this.source.close()}}class K extends V{constructor(e,t){super(),this.mainFile=e,this.overviewFiles=t,this.imageFiles=[e].concat(t),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(e=>e.parseFileDirectoryAt(e.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let t=0,i=0;for(let n=0;n<this.imageFiles.length;n++){const s=this.imageFiles[n];for(let o=0;o<this.imageCounts[n];o++){if(e===t){const e=await s.requestIFD(i);return new r["a"](e.fileDirectory,e.geoKeyDirectory,s.dataView,s.littleEndian,s.cache,s.source)}t++,i++}i=0}throw new RangeError("Invalid image index")}async getImageCount(){if(null!==this.imageCount)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(e=>e.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((e,t)=>e+t,0),this.imageCount}}async function q(e,t={},i){return H.fromSource(C(e,t),i)}async function z(e,t=[],i={},r){const n=await H.fromSource(C(e,i),r),s=await Promise.all(t.map(e=>H.fromSource(C(e,i))));return new K(n,s)}},"2d75":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return c}));var r=i(6),n=i.n(r),s=i("b39d");function o(e){return new Promise((t,i)=>{n.a.close(e,e=>{e?i(e):t()})})}function a(e,t,i){return new Promise((r,s)=>{n.a.open(e,t,i,(e,t)=>{e?s(e):r(t)})})}function l(...e){return new Promise((t,i)=>{n.a.read(...e,(e,r,n)=>{e?i(e):t({bytesRead:r,buffer:n})})})}class h extends s["a"]{constructor(e){super(),this.path=e,this.openRequest=a(e,"r")}async fetchSlice(t){const i=await this.openRequest,{buffer:r}=await l(i,e.alloc(t.length),0,t.length,t.offset);return r.buffer}async close(){const e=await this.openRequest;await o(e)}}function c(e){return new h(e)}}).call(this,i("b639").Buffer)},3005:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));class r{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class n{constructor(e){this.url=e}async request({headers:e,credentials:t,signal:i}={}){throw new Error("request is not implemented")}}},"458b":function(e,t,i){"use strict";var r=i("e504"),n=i("94df"),s=i.n(n),o=i("5edf"),a=i.n(o),l=i("aba6"),h=i("ad5b"),c=i("533c");function u(e,t,i,r=1){return new(Object.getPrototypeOf(e).constructor)(t*i*r)}function f(e,t,i,r,n){const s=t/r,o=i/n;return e.map(e=>{const a=u(e,r,n);for(let l=0;l<n;++l){const n=Math.min(Math.round(o*l),i-1);for(let i=0;i<r;++i){const o=Math.min(Math.round(s*i),t-1),h=e[n*t+o];a[l*r+i]=h}}return a})}function g(e,t,i){return(1-i)*e+i*t}function d(e,t,i,r,n){const s=t/r,o=i/n;return e.map(e=>{const a=u(e,r,n);for(let l=0;l<n;++l){const n=o*l,h=Math.floor(n),c=Math.min(Math.ceil(n),i-1);for(let i=0;i<r;++i){const o=s*i,u=o%1,f=Math.floor(o),d=Math.min(Math.ceil(o),t-1),p=e[h*t+f],w=e[h*t+d],y=e[c*t+f],m=e[c*t+d],b=g(g(p,w,u),g(y,m,u),n%1);a[l*r+i]=b}}return a})}function p(e,t,i,r,n,s="nearest"){switch(s.toLowerCase()){case"nearest":return f(e,t,i,r,n);case"bilinear":case"linear":return d(e,t,i,r,n);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function w(e,t,i,r,n,s){const o=t/r,a=i/n,l=u(e,r,n,s);for(let h=0;h<n;++h){const n=Math.min(Math.round(a*h),i-1);for(let i=0;i<r;++i){const a=Math.min(Math.round(o*i),t-1);for(let o=0;o<s;++o){const c=e[n*t*s+a*s+o];l[h*r*s+i*s+o]=c}}}return l}function y(e,t,i,r,n,s){const o=t/r,a=i/n,l=u(e,r,n,s);for(let h=0;h<n;++h){const n=a*h,c=Math.floor(n),u=Math.min(Math.ceil(n),i-1);for(let i=0;i<r;++i){const a=o*i,f=a%1,d=Math.floor(a),p=Math.min(Math.ceil(a),t-1);for(let o=0;o<s;++o){const a=e[c*t*s+d*s+o],w=e[c*t*s+p*s+o],y=e[u*t*s+d*s+o],m=e[u*t*s+p*s+o],b=g(g(a,w,f),g(y,m,f),n%1);l[h*r*s+i*s+o]=b}}}return l}function m(e,t,i,r,n,s,o="nearest"){switch(o.toLowerCase()){case"nearest":return w(e,t,i,r,n,s);case"bilinear":case"linear":return y(e,t,i,r,n,s);default:throw new Error(`Unsupported resampling method: '${o}'`)}}function b(e,t,i){let r=0;for(let n=t;n<i;++n)r+=e[n];return r}function S(e,t,i){switch(e){case 1:if(t<=8)return new Uint8Array(i);if(t<=16)return new Uint16Array(i);if(t<=32)return new Uint32Array(i);break;case 2:if(8===t)return new Int8Array(i);if(16===t)return new Int16Array(i);if(32===t)return new Int32Array(i);break;case 3:switch(t){case 16:case 32:return new Float32Array(i);case 64:return new Float64Array(i);default:break}break;default:break}throw Error("Unsupported data format/bitsPerSample")}function I(e,t){return(1!==e&&2!==e||!(t<=32)||t%8!==0)&&(3!==e||16!==t&&32!==t&&64!==t)}function T(e,t,i,r,n,s,o){const a=new DataView(e),l=2===i?o*s:o*s*r,h=2===i?1:r,c=S(t,n,l),u=parseInt("1".repeat(n),2);if(1===t){let e;e=1===i?r*n:n;let t=s*e;0!==(7&t)&&(t=t+7&-8);for(let i=0;i<o;++i){const e=i*t;for(let t=0;t<s;++t){const r=e+t*h*n;for(let e=0;e<h;++e){const o=r+e*n,l=(i*s+t)*h+e,f=Math.floor(o/8),g=o%8;if(g+n<=8)c[l]=a.getUint8(f)>>8-n-g&u;else if(g+n<=16)c[l]=a.getUint16(f)>>16-n-g&u;else if(g+n<=24){const e=a.getUint16(f)<<8|a.getUint8(f+2);c[l]=e>>24-n-g&u}else c[l]=a.getUint32(f)>>32-n-g&u}}}}return c.buffer}class D{constructor(e,t,i,r,n,s){this.fileDirectory=e,this.geoKeys=t,this.dataView=i,this.littleEndian=r,this.tiles=n?{}:null,this.isTiled=!e.StripOffsets;const o=e.PlanarConfiguration;if(this.planarConfiguration="undefined"===typeof o?1:o,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=s}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,i=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(i<=8)return DataView.prototype.getUint8;if(i<=16)return DataView.prototype.getUint16;if(i<=32)return DataView.prototype.getUint32;break;case 2:if(i<=8)return DataView.prototype.getInt8;if(i<=16)return DataView.prototype.getInt16;if(i<=32)return DataView.prototype.getInt32;break;case 3:switch(i){case 16:return function(e,t){return Object(r["getFloat16"])(this,e,t)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64;default:break}break;default:break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){const i=this.getSampleFormat(e),r=this.getBitsPerSample(e);return S(i,r,t)}async getTileOrStrip(e,t,i,r,n){const s=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let a;const{tiles:l}=this;let h,c;1===this.planarConfiguration?a=t*s+e:2===this.planarConfiguration&&(a=i*s*o+t*s+e),this.isTiled?(h=this.fileDirectory.TileOffsets[a],c=this.fileDirectory.TileByteCounts[a]):(h=this.fileDirectory.StripOffsets[a],c=this.fileDirectory.StripByteCounts[a]);const u=(await this.source.fetch([{offset:h,length:c}],n))[0];let f;return null!==l&&l[a]?f=l[a]:(f=(async()=>{let e=await r.decode(this.fileDirectory,u);const i=this.getSampleFormat(),n=this.getBitsPerSample();return I(i,n)&&(e=T(e,i,this.planarConfiguration,this.getSamplesPerPixel(),n,this.getTileWidth(),this.getBlockHeight(t))),e})(),null!==l&&(l[a]=f)),{x:e,y:t,sample:i,data:await f}}async _readRaster(e,t,i,r,n,s,o,a,l){const h=this.getTileWidth(),c=this.getTileHeight(),u=this.getWidth(),f=this.getHeight(),g=Math.max(Math.floor(e[0]/h),0),d=Math.min(Math.ceil(e[2]/h),Math.ceil(u/h)),w=Math.max(Math.floor(e[1]/c),0),y=Math.min(Math.ceil(e[3]/c),Math.ceil(f/c)),S=e[2]-e[0];let I=this.getBytesPerPixel();const T=[],D=[];for(let p=0;p<t.length;++p)1===this.planarConfiguration?T.push(b(this.fileDirectory.BitsPerSample,0,t[p])/8):T.push(0),D.push(this.getReaderForSample(t[p]));const A=[],{littleEndian:O}=this;for(let p=w;p<y;++p)for(let s=g;s<d;++s)for(let o=0;o<t.length;++o){const a=o,g=t[o];2===this.planarConfiguration&&(I=this.getSampleByteSize(o));const d=this.getTileOrStrip(s,p,g,n,l).then(n=>{const s=n.data,o=new DataView(s),l=this.getBlockHeight(n.y),g=n.y*c,d=n.x*h,p=g+l,w=(n.x+1)*h,y=D[a],m=Math.min(l,l-(p-e[3]),f-g),b=Math.min(h,h-(w-e[2]),u-d);for(let c=Math.max(0,e[1]-g);c<m;++c)for(let n=Math.max(0,e[0]-d);n<b;++n){const s=(c*h+n)*I,l=y.call(o,s+T[a],O);let u;r?(u=(c+g-e[1])*S*t.length+(n+d-e[0])*t.length+a,i[u]=l):(u=(c+g-e[1])*S+n+d-e[0],i[a][u]=l)}});A.push(d)}if(await Promise.all(A),s&&e[2]-e[0]!==s||o&&e[3]-e[1]!==o){let n;return n=r?m(i,e[2]-e[0],e[3]-e[1],s,o,t.length,a):p(i,e[2]-e[0],e[3]-e[1],s,o,a),n.width=s,n.height=o,n}return i.width=s||e[2]-e[0],i.height=o||e[3]-e[1],i}async readRasters({window:e,samples:t=[],interleave:i,pool:r=null,width:n,height:s,resampleMethod:o,fillValue:a,signal:l}={}){const h=e||[0,0,this.getWidth(),this.getHeight()];if(h[0]>h[2]||h[1]>h[3])throw new Error("Invalid subsets");const u=h[2]-h[0],f=h[3]-h[1],g=u*f,d=this.getSamplesPerPixel();if(t&&t.length){for(let c=0;c<t.length;++c)if(t[c]>=d)return Promise.reject(new RangeError(`Invalid sample index '${t[c]}'.`))}else for(let c=0;c<d;++c)t.push(c);let p;if(i){const e=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,i=Math.max.apply(null,this.fileDirectory.BitsPerSample);p=S(e,i,g*t.length),a&&p.fill(a)}else{p=[];for(let e=0;e<t.length;++e){const i=this.getArrayForSample(t[e],g);Array.isArray(a)&&e<a.length?i.fill(a[e]):a&&!Array.isArray(a)&&i.fill(a),p.push(i)}}const w=r||await Object(c["a"])(this.fileDirectory),y=await this._readRaster(h,t,p,i,w,n,s,o,l);return y}async readRGB({window:e,interleave:t=!0,pool:i=null,width:r,height:n,resampleMethod:s,enableAlpha:o=!1,signal:a}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const u=this.fileDirectory.PhotometricInterpretation;if(u===l["j"].RGB){let h=[0,1,2];if(this.fileDirectory.ExtraSamples!==l["a"].Unspecified&&o){h=[];for(let e=0;e<this.fileDirectory.BitsPerSample.length;e+=1)h.push(e)}return this.readRasters({window:e,interleave:t,samples:h,pool:i,width:r,height:n,resampleMethod:s,signal:a})}let f;switch(u){case l["j"].WhiteIsZero:case l["j"].BlackIsZero:case l["j"].Palette:f=[0];break;case l["j"].CMYK:f=[0,1,2,3];break;case l["j"].YCbCr:case l["j"].CIELab:f=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const g={window:c,interleave:!0,samples:f,pool:i,width:r,height:n,resampleMethod:s,signal:a},{fileDirectory:d}=this,p=await this.readRasters(g),w=2**this.fileDirectory.BitsPerSample[0];let y;switch(u){case l["j"].WhiteIsZero:y=Object(h["e"])(p,w);break;case l["j"].BlackIsZero:y=Object(h["a"])(p,w);break;case l["j"].Palette:y=Object(h["d"])(p,d.ColorMap);break;case l["j"].CMYK:y=Object(h["c"])(p);break;case l["j"].YCbCr:y=Object(h["f"])(p);break;case l["j"].CIELab:y=Object(h["b"])(p);break;default:throw new Error("Unsupported photometric interpretation.")}if(!t){const e=new Uint8Array(y.length/3),t=new Uint8Array(y.length/3),i=new Uint8Array(y.length/3);for(let r=0,n=0;r<y.length;r+=3,++n)e[n]=y[r],t[n]=y[r+1],i[n]=y[r+2];y=[e,t,i]}return y.width=p.width,y.height=p.height,y}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;const i=this.fileDirectory.GDAL_METADATA;let r=a()(i,"Item");r=null===e?r.filter(e=>void 0===s()(e,"sample")):r.filter(t=>Number(s()(t,"sample"))===e);for(let n=0;n<r.length;++n){const e=r[n];t[s()(e,"name")]=e.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&6===e.length)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,i=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(i)return[i[0],i[5],i[10]];if(e){const[t,i,r]=e.getResolution();return[t*e.getWidth()/this.getWidth(),i*e.getHeight()/this.getHeight(),r*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){const e=this.getOrigin(),t=this.getResolution(),i=e[0],r=e[1],n=i+t[0]*this.getWidth(),s=r+t[1]*this.getHeight();return[Math.min(i,n),Math.min(r,s),Math.max(i,n),Math.max(r,s)]}}t["a"]=D},"533c":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const r=new Map;function n(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>r.set(e,t))}async function s(e){const t=r.get(e.Compression);if(!t)throw new Error("Unknown compression method identifier: "+e.Compression);const i=await t();return new i(e)}n([void 0,1],()=>i.e("chunk-edd99a4c").then(i.bind(null,"9a7b")).then(e=>e.default)),n(5,()=>i.e("chunk-eddbce90").then(i.bind(null,"852f")).then(e=>e.default)),n(6,()=>{throw new Error("old style JPEG compression is not supported.")}),n(7,()=>i.e("chunk-ede13be6").then(i.bind(null,"2624")).then(e=>e.default)),n([8,32946],()=>i.e("chunk-7e08a824").then(i.bind(null,"fa61")).then(e=>e.default)),n(32773,()=>i.e("chunk-eddf65e8").then(i.bind(null,"45bf")).then(e=>e.default)),n(34887,()=>Promise.all([i.e("chunk-3d451161"),i.e("chunk-2d213958")]).then(i.bind(null,"6372")).then(e=>e.default)),n(50001,()=>i.e("chunk-edb17c18").then(i.bind(null,"ee5b")).then(e=>e.default))},"698b":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return f}));var r=i(3),n=i.n(r),s=i(4),o=i.n(s),a=i(5),l=i.n(a),h=i("3005"),c=i("ae75");class u extends h["b"]{constructor(e,t){super(),this.response=e,this.dataPromise=t}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){const e=await this.dataPromise;return e}}class f extends h["a"]{constructor(e){super(e),this.parsedUrl=l.a.parse(this.url),this.httpApi="http:"===this.parsedUrl.protocol?n.a:o.a}constructRequest(t,i){return new Promise((r,n)=>{const s=this.httpApi.get({...this.parsedUrl,headers:t},t=>{const i=new Promise(i=>{const r=[];t.on("data",e=>{r.push(e)}),t.on("end",()=>{const t=e.concat(r).buffer;i(t)}),t.on("error",n)});r(new u(t,i))});s.on("error",n),i&&(i.aborted&&s.destroy(new c["a"]("Request aborted")),i.addEventListener("abort",()=>s.destroy(new c["a"]("Request aborted"))))})}async request({headers:e,signal:t}={}){const i=await this.constructRequest(e,t);return i}}}).call(this,i("b639").Buffer)},aba6:function(e,t,i){"use strict";i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return s})),i.d(t,"d",(function(){return o})),i.d(t,"g",(function(){return a})),i.d(t,"h",(function(){return l})),i.d(t,"j",(function(){return h})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"b",(function(){return f})),i.d(t,"i",(function(){return g}));const r={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},n={};for(const p in r)r.hasOwnProperty(p)&&(n[r[p]]=parseInt(p,10));const s={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"},o=[n.BitsPerSample,n.ExtraSamples,n.SampleFormat,n.StripByteCounts,n.StripOffsets,n.StripRowCounts,n.TileByteCounts,n.TileOffsets,n.SubIFDs],a={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},l={};for(const p in a)a.hasOwnProperty(p)&&(l[a[p]]=parseInt(p,10));const h={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},c={Unspecified:0,Assocalpha:1,Unassalpha:2},u={Version:0,AddCompression:1},f={None:0,Deflate:1},g={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},d={};for(const p in g)g.hasOwnProperty(p)&&(d[g[p]]=parseInt(p,10))},ad5b:function(e,t,i){"use strict";function r(e,t){const{width:i,height:r}=e,n=new Uint8Array(i*r*3);let s;for(let o=0,a=0;o<e.length;++o,a+=3)s=256-e[o]/t*256,n[a]=s,n[a+1]=s,n[a+2]=s;return n}function n(e,t){const{width:i,height:r}=e,n=new Uint8Array(i*r*3);let s;for(let o=0,a=0;o<e.length;++o,a+=3)s=e[o]/t*256,n[a]=s,n[a+1]=s,n[a+2]=s;return n}function s(e,t){const{width:i,height:r}=e,n=new Uint8Array(i*r*3),s=t.length/3,o=t.length/3*2;for(let a=0,l=0;a<e.length;++a,l+=3){const i=e[a];n[l]=t[i]/65536*256,n[l+1]=t[i+s]/65536*256,n[l+2]=t[i+o]/65536*256}return n}function o(e){const{width:t,height:i}=e,r=new Uint8Array(t*i*3);for(let n=0,s=0;n<e.length;n+=4,s+=3){const t=e[n],i=e[n+1],o=e[n+2],a=e[n+3];r[s]=(255-t)/256*255*((255-a)/256),r[s+1]=(255-i)/256*255*((255-a)/256),r[s+2]=(255-o)/256*255*((255-a)/256)}return r}function a(e){const{width:t,height:i}=e,r=new Uint8ClampedArray(t*i*3);for(let n=0,s=0;n<e.length;n+=3,s+=3){const t=e[n],i=e[n+1],o=e[n+2];r[s]=t+1.402*(o-128),r[s+1]=t-.34414*(i-128)-.71414*(o-128),r[s+2]=t+1.772*(i-128)}return r}i.d(t,"e",(function(){return r})),i.d(t,"a",(function(){return n})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"f",(function(){return a})),i.d(t,"b",(function(){return u}));const l=.95047,h=1,c=1.08883;function u(e){const{width:t,height:i}=e,r=new Uint8Array(t*i*3);for(let n=0,s=0;n<e.length;n+=3,s+=3){const t=e[n+0],i=e[n+1]<<24>>24,o=e[n+2]<<24>>24;let a,u,f,g=(t+16)/116,d=i/500+g,p=g-o/200;d=l*(d*d*d>.008856?d*d*d:(d-16/116)/7.787),g=h*(g*g*g>.008856?g*g*g:(g-16/116)/7.787),p=c*(p*p*p>.008856?p*p*p:(p-16/116)/7.787),a=3.2406*d+-1.5372*g+-.4986*p,u=-.9689*d+1.8758*g+.0415*p,f=.0557*d+-.204*g+1.057*p,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,u=u>.0031308?1.055*u**(1/2.4)-.055:12.92*u,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,r[s]=255*Math.max(0,Math.min(1,a)),r[s+1]=255*Math.max(0,Math.min(1,u)),r[s+2]=255*Math.max(0,Math.min(1,f))}return r}},ae75:function(e,t,i){"use strict";function r(e,t){for(const i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}function n(e,t){if(e.length<t.length)return!1;const i=e.substr(e.length-t.length);return i===t}function s(e,t){const{length:i}=e;for(let r=0;r<i;r++)t(e[r],r)}function o(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];t[r]=i}return t}function a(e,t){const i=[];for(let r=0;r<e;r++)i.push(t(r));return i}async function l(e){return new Promise(t=>setTimeout(t,e))}function h(e,t){const i=Array.isArray(e)?e:Array.from(e),r=Array.isArray(t)?t:Array.from(t);return i.map((e,t)=>[e,r[t]])}i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return n})),i.d(t,"e",(function(){return s})),i.d(t,"f",(function(){return o})),i.d(t,"g",(function(){return a})),i.d(t,"h",(function(){return l})),i.d(t,"i",(function(){return h})),i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return f}));class c extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,c),this.name="AbortError"}}class u extends Error{constructor(e,t){super(t),this.errors=e,this.message=t,this.name="AggregateError"}}const f=u},b39d:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));class r{async fetch(e,t){return Promise.all(e.map(e=>this.fetchSlice(e,t)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}}}]);
//# sourceMappingURL=chunk-0c60a39a.8d8d8155.js.map