{"version":3,"sources":["webpack:///./node_modules/entities/lib/encode.js","webpack:///./node_modules/@openeo/vue-components/components/internal/StacAsset.vue?0f82","webpack:///./node_modules/@radiantearth/stac-fields/formatters.js","webpack:///./node_modules/entities/lib/decode_codepoint.js","webpack:///./node_modules/@openeo/vue-components/components/Description.vue","webpack:///node_modules/@openeo/vue-components/components/Description.vue","webpack:///./node_modules/@openeo/vue-components/components/Description.vue?66aa","webpack:///./node_modules/@openeo/vue-components/components/Description.vue?d47c","webpack:///./node_modules/@openeo/vue-components/components/internal/StacFields.vue?107f","webpack:///./node_modules/entities/lib/index.js","webpack:///./node_modules/entities/lib/decode.js","webpack:///./node_modules/@openeo/vue-components/components/internal/StacAsset.vue","webpack:///node_modules/@openeo/vue-components/components/internal/StacAsset.vue","webpack:///./node_modules/@openeo/vue-components/components/internal/StacAsset.vue?6611","webpack:///./node_modules/@openeo/vue-components/components/internal/StacAsset.vue?0c89","webpack:///./node_modules/mdurl/encode.js","webpack:///./node_modules/@openeo/vue-components/components/Description.vue?102d","webpack:///./node_modules/commonmark/lib/node.js","webpack:///./node_modules/commonmark/lib/from-code-point.js","webpack:///./node_modules/commonmark/lib/common.js","webpack:///./node_modules/commonmark/lib/inlines.js","webpack:///./node_modules/commonmark/lib/blocks.js","webpack:///./node_modules/commonmark/lib/render/renderer.js","webpack:///./node_modules/commonmark/lib/render/html.js","webpack:///./node_modules/commonmark/lib/render/xml.js","webpack:///./node_modules/string.prototype.repeat/repeat.js","webpack:///./node_modules/@openeo/vue-components/components/internal/StacFields.vue","webpack:///node_modules/@openeo/vue-components/components/internal/StacFields.vue","webpack:///./node_modules/@openeo/vue-components/components/internal/StacFields.vue?1809","webpack:///./node_modules/@openeo/vue-components/components/internal/StacFields.vue?67ea"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","escape","encodeHTML","encodeXML","xml_json_1","inverseXML","getInverseObj","default","xmlReplacer","getInverseReplacer","getInverse","entities_json_1","inverseHTML","htmlReplacer","obj","keys","sort","reduce","inverse","name","single","multiple","_i","_a","length","k","push","start","end","charCodeAt","count","splice","unshift","join","RegExp","reNonASCII","singleCharReplacer","c","codePointAt","toString","toUpperCase","re","data","replace","reXmlChars","Registry","externalRenderer","prefix","spec","Fields","extensions","_","normalizeField","field","metadata","links","assets","specs","key","addMetadataField","type","str","String","arr","formatter","list","tag","Array","isArray","slice","map","DataTypes","null","url","title","rel","target","x","e","html","label","formatKey","short","long","split","part","substr","fields","parts","alias","assign","format","Formatters","isObject","items","itemOrder","i1","i2","id","order","localeCompare","item","hexString","Error","Uint8Array","match","byte","parseInt","bytes","padStart","objectList","o","a","indexOf","unit","toList","v","toObject","num","parseFloat","toLocaleString","undefined","maximumFractionDigits","bool","boolean","number","string","array","object","context","parent","toLink","media","Boolean","shorten","mediaType","parse","error","parameters","application","profile","group","Date","timeZone","timeZoneName","day","month","year","licenses","filter","link","href","provider","roles","description","r","formatCommonMark","commonmark","reader","Parser","writer","HtmlRenderer","safe","smart","render","software","version","startsWith","substring","authority","code","formatEPSG","formatDate","formatTimestamp","date","sortExtents","b","formatTemporalExtent","formatted","indent","keyword","tabs","repeat","fileSizeUnits","i","Math","floor","log","pow","toFixed","multihash","meta","decode","hexToUint8","hex","uint8ToHex","digest","fileDataTypes","abbrev","rows","chunk","formatCSV","numeric","find","splitHalf","labelA","labelB","len","mid","designator","utm","band","sq","coord","quad","quarter","zone","quadkey","formatGrouped","coreKey","groups","ext","getSpecification","isSummarizedListWithKeys","listWithKeys","temp","values","itemFieldNames","keysFromListOfObjects","fieldName","includes","forEach","explain","minimum","formatExtent","maximum","result","custom","console","warn","extension","properties","formatAsset","asset","formatLink","formatSummaries","collection","summaries","formatCollection","formatItemProperties","mapping","toLowerCase","callback","p","formattedValues","normalizeFields","module","Helper","decode_json_1","decodeCodePoint","codePoint","output","fromCharCode","_vm","_c","_self","staticClass","class","compact","domProps","_s","markup","staticRenderFns","props","preprocessor","processor","processUrl","allowHTML","beforeCreate","Utils","methods","text","rendered","linkToProcess","component","encode","decodeStrict","decode_1","encode_1","level","decodeXML","decodeHTML","decodeHTMLStrict","encode_2","enumerable","get","decode_2","legacy_json_1","decode_codepoint_1","getStrictDecoder","getReplacer","sorter","charAt","secondChar","legacy","j","replacer","attrs","_v","fileFormat","_e","_l","role","ignore","components","Description","StacFields","required","computed","encodeCache","getEncodeCache","exclude","ch","cache","test","keepEscaped","l","nextCode","defaultChars","encodeURIComponent","componentChars","isContainer","node","_type","resumeAt","entering","current","cur","container","_firstChild","root","_next","_parent","NodeWalker","next","Node","nodeType","sourcepos","_lastChild","_prev","_sourcepos","_lastLineBlank","_lastLineChecked","_open","_string_content","_literal","_listData","_info","_destination","_title","_isFenced","_fenceChar","_fenceLength","_fenceOffset","_level","_onEnter","_onExit","proto","prototype","set","s","t","tight","n","delimiter","delim","appendChild","child","unlink","prependChild","insertAfter","sibling","insertBefore","walker","_fromCodePoint","C_BACKSLASH","ENTITY","TAGNAME","ATTRIBUTENAME","UNQUOTEDVALUE","SINGLEQUOTEDVALUE","DOUBLEQUOTEDVALUE","ATTRIBUTEVALUE","ATTRIBUTEVALUESPEC","ATTRIBUTE","OPENTAG","CLOSETAG","HTMLCOMMENT","PROCESSINGINSTRUCTION","DECLARATION","CDATA","HTMLTAG","reHtmlTag","reBackslashOrAmp","ESCAPABLE","reEntityOrEscapedChar","XMLSPECIAL","reXmlSpecial","unescapeChar","unescapeString","normalizeURI","uri","err","replaceUnsafeChar","escapeXml","fromCodePoint","RangeError","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","index","arguments","Number","isFinite","apply","C_NEWLINE","C_ASTERISK","C_UNDERSCORE","C_BACKTICK","C_OPEN_BRACKET","C_CLOSE_BRACKET","C_LESSTHAN","C_BANG","C_AMPERSAND","C_OPEN_PAREN","C_CLOSE_PAREN","C_COLON","C_SINGLEQUOTE","C_DOUBLEQUOTE","ESCAPED_CHAR","rePunctuation","reLinkTitle","reLinkDestinationBraces","reEscapable","reEntityHere","reTicks","reTicksHere","reEllipses","reDash","reEmailAutolink","reAutolink","reSpnl","reWhitespaceChar","reUnicodeWhitespaceChar","reFinalSpace","reInitialSpace","reSpaceAtEndOfLine","reLinkLabel","reMain","normalizeReference","trim","m","exec","subject","pos","peek","spnl","parseBackticks","block","ticks","matched","contents","afterOpenTicks","parseBackslash","subj","parseAutolink","dest","parseHtmlTag","scanDelims","cc","char_before","char_after","cc_after","left_flanking","right_flanking","can_open","can_close","after_is_whitespace","after_is_punctuation","before_is_whitespace","before_is_punctuation","numdelims","startpos","handleDelim","res","options","delimiters","origdelims","previous","removeDelimiter","removeDelimitersBetween","bottom","top","processEmphasis","stack_bottom","opener","closer","old_closer","opener_inl","closer_inl","tempstack","use_delims","tmp","opener_found","openers_bottom","odd_match","closercc","emph","literal","parseLinkTitle","parseLinkDestination","savepos","openparens","parseLinkLabel","parseOpenBracket","addBracket","parseBang","parseCloseBracket","is_image","reflabel","brackets","active","removeBracket","image","beforelabel","bracketAfter","refmap","destination","previousDelimiter","parseEntity","parseString","chars","enCount","emCount","parseNewline","lastc","hardbreak","parseReference","rawlabel","matchChars","beforetitle","atLineEnd","normlabel","parseInline","parseInlines","InlineParser","CODE_INDENT","C_TAB","C_GREATERTHAN","C_SPACE","reHtmlBlockOpen","reHtmlBlockClose","reThematicBreak","reMaybeSpecial","reNonSpace","reBulletListMarker","reOrderedListMarker","reATXHeadingMarker","reCodeFence","reClosingCodeFence","reSetextHeadingLine","reLineEnding","isBlank","isSpaceOrTab","ln","endsWithBlankLine","addLine","partiallyConsumedTab","offset","charsToTab","column","tip","currentLine","addChild","blocks","canContain","finalize","lineNumber","column_number","newBlock","parseListMarker","parser","nextc","spacesStartCol","spacesStartOffset","rest","nextNonspace","bulletChar","padding","markerOffset","advanceNextNonspace","advanceOffset","blank_item","spaces_after_marker","listsMatch","list_data","item_data","closeUnmatchedBlocks","allClosed","oldtip","lastMatchedContainer","document","continue","acceptsLines","subitem","block_quote","indented","blank","heading","thematic_break","code_block","lastLineLength","content","newlinePos","firstLine","info","html_block","_htmlBlockType","paragraph","hasReferenceDefs","inlineParser","blockStarts","fenceLength","blockType","columns","charsToAdvance","nextNonspaceColumn","findNextNonspace","cols","incorporateLine","lastChild","all_matched","doc","matchedLeaf","starts","startsLen","lastLineBlank","cont","above","processInlines","event","Document","input","time","lines","timeEnd","Renderer","ast","buffer","lastOut","lit","cr","out","esc","reUnsafeProtocol","reSafeDataProtocol","potentiallyUnsafe","selfclosing","disableTags","attrib","softbreak","linebreak","strong","grandparent","listTight","tagname","info_words","listType","listStart","html_inline","custom_inline","onEnter","onExit","custom_block","att","create","reXMLTag","toTagName","XmlRenderer","indentLevel","selfClosing","nodetype","listDelimiter","delimword","$defineProperty","TypeError","Infinity","headingTag","prop","wrap","_t","col","row","CORE_COLLECTION_FIELDS","Process","ignoreFn"],"mappings":"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","file":"js/chunk-43c3ceaf.0a852960.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escape = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\nexports.encodeXML = getInverse(inverseXML, xmlReplacer);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nfunction singleCharReplacer(c) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return \"&#x\" + c.codePointAt(0).toString(16).toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reXmlChars = getInverseReplacer(inverseXML);\nfunction escape(data) {\n    return data\n        .replace(reXmlChars, singleCharReplacer)\n        .replace(reNonASCII, singleCharReplacer);\n}\nexports.escape = escape;\n","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!./StacAsset.vue?vue&type=style&index=0&id=6ca7c29f&prod&lang=scss&\"","var Registry = {\n\n\texternalRenderer: false,\n\n\taddExtension(prefix, spec) {\n\t\tFields.extensions[prefix] = _.normalizeField(spec, Fields.extensions);\n\t},\n\n\taddMetadataField(field, spec) {\n\t\tFields.metadata[field] = _.normalizeField(spec, Fields.metadata);\n\t},\n\n\taddLinkField(field, spec) {\n\t\tFields.links[field] = _.normalizeField(spec, Fields.links);\n\t},\n\n\taddAssetField(field, spec) {\n\t\tFields.assets[field] = _.normalizeField(spec, Fields.assets);\n\t},\n\n\taddMetadataFields(specs) {\n\t\tfor(var key in specs) {\n\t\t\tRegistry.addMetadataField(key, specs[key]);\n\t\t}\n\t},\n\n\tgetSpecification(field, type = null) {\n\t\tlet spec = {};\n\t\tif (type === 'assets' && Fields.assets[field]) {\n\t\t\tspec = Fields.assets[field];\n\t\t}\n\t\telse if (type === 'links' && Fields.links[field]) {\n\t\t\tspec = Fields.links[field];\n\t\t}\n\t\telse if (Fields.metadata[field]) {\n\t\t\tspec = Fields.metadata[field];\n\t\t}\n\t\treturn spec;\n\t}\n\n};\n\nvar _ = {\n\n\te(str) {\n\t\tif (typeof str !== 'string') {\n\t\t\tstr = String(str);\n\t\t}\n\t\treturn str.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, '&apos;');\n\t},\n\n\ttoList(arr, sort = false, formatter = null) {\n\t\tlet list = arr;\n\t\tlet tag = 'ul';\n\t\tif (!Array.isArray(arr)) {\n\t\t\tarr = [arr];\n\t\t}\n\t\tif (sort) {\n\t\t\tlist = list.slice(0);\n\t\t\tif (typeof sort === 'function') {\n\t\t\t\tlist.sort(sort);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlist.sort();\n\t\t\t}\n\t\t\ttag = 'ol';\n\t\t}\n\t\tif (typeof formatter === 'function') {\n\t\t\tlist = list.map(formatter);\n\t\t}\n\t\tif (list.length === 0) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\telse if (list.length === 1) {\n\t\t\treturn list[0];\n\t\t}\n\t\telse {\n\t\t\treturn `<${tag}><li>${list.join(\"</li><li>\")}</li></${tag}>`;\n\t\t}\n\t},\n\n\ttoLink(url, title = \"\", rel = \"\", target = \"_blank\") {\n\t\tif (!title) {\n\t\t\tif (url.length > 50) {\n\t\t\t\ttitle = url.replace(/^\\w+:\\/\\/([^\\/]+)((\\/[^\\/\\?]+)*\\/([^\\/\\?]+)(\\?.*)?)?$/i, function(...x) {\n\t\t\t\t\tif (x[4]) {\n\t\t\t\t\t\treturn x[1] + '​/[…]/​' + x[4]; // There are invisible zero-width whitespaces after and before the slashes. It allows breaking the link in the browser. Be careful when editing.\n\t\t\t\t\t}\n\t\t\t\t\treturn x[1];\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttitle = url.replace(/^\\w+:\\/\\//i, '');\n\t\t\t}\n\t\t}\n\t\treturn `<a href=\"${_.e(url)}\" rel=\"${_.e(rel)}\" target=\"${_.e(target)}\">${_.e(title)}</a>`;\n\t},\n\n\ttoObject(obj, formatter = null) {\n\t\tlet html = '<dl>';\n\t\tfor(let key in obj) {\n\t\t\t// ToDo: also convert CamelCase? but not abbreviations like \"USA\".\n\t\t\tlet label = _.formatKey(key, true);\n\t\t\tlet value = obj[key];\n\t\t\tif (typeof formatter === 'function') {\n\t\t\t\tvalue = formatter(value, key, obj);\n\t\t\t}\n\t\t\t// TODO: Format label (also in arrays)\n\t\t\thtml += `<dt>${label}</dt><dd>${value}</dd>`;\n\t\t}\n\t\thtml += `</dl>`;\n\t\treturn html;\n\t},\n\n\tabbrev(short, long) {\n\t\treturn `<abbr title=\"${_.e(long)}\">${_.e(short)}</abbr>`;\n\t},\n\n\tisObject(obj) {\n\t\treturn (typeof obj === 'object' && obj === Object(obj) && !Array.isArray(obj));\n\t},\n\n\tformatKey(key, prefix = false) {\n\t\tif (prefix === false) {\n\t\t\tkey = key.replace(/^\\w+:/i, '');\n\t\t}\n\t\treturn _.e(key).split(/[:_\\-\\s]/g).map(part => part.substr(0, 1).toUpperCase() + part.substr(1)).join(' ');\n\t},\n\n\tnormalizeFields(fields) {\n\t\tlet parts = ['extensions', 'metadata', 'links', 'assets'];\n\t\tfor (let part of parts) {\n\t\t\tfor(let key in fields[part]) {\n\t\t\t\tfields[part][key] = _.normalizeField(fields[part][key], fields[part]);\n\t\t\t}\n\t\t}\n\t\treturn fields;\n\t},\n\n\tnormalizeField(spec, fields = {}) {\n\t\t// If just a string label is given, make a normal object with a label from it\n\t\tif (typeof spec === 'string') {\n\t\t\treturn {\n\t\t\t\tlabel: spec\n\t\t\t};\n\t\t}\n\t\t// Resolve alias\n\t\tif (typeof spec.alias === 'string') {\n\t\t\t// As we don't know whether the alias has been resolved so far, resolve it here, too.\n\t\t\treturn Object.assign(spec, _.normalizeField(fields[spec.alias], fields));\n\t\t}\n\n\t\t// Add formatting callback as `formatter`\n\t\tif (typeof spec.format === 'string') {\n\t\t\tspec.formatter = Formatters[`format${spec.format}`];\n\t\t}\n\n\t\t// Normalize items\n\t\tif (_.isObject(spec.items)) {\n\t\tlet itemOrder = [];\n\t\t\tfor(let key in spec.items) {\n\t\t\t\tspec.items[key] = _.normalizeField(spec.items[key], fields);\n\t\t\t\titemOrder.push(Object.assign({key}, spec.items[key]));\n\t\t\t}\n\n\t\t\tspec.itemOrder = itemOrder\n\t\t\t\t.sort((i1, i2) => {\n\t\t\t\t\tif (i1.id === true) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\telse if (i2.id === true) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof i1.order === 'number' && typeof i2.order === 'number') {\n\t\t\t\t\t\treturn i1.order - i2.order;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn i1.label.localeCompare(i2.label);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.map(item => item.key);\n\t\t}\n\n\t\treturn spec;\n\t},\n\n\thexToUint8(hexString) {\n\t\tif(hexString.length === 0 || hexString.length % 2 !== 0){\n\t\t\tthrow new Error(`The string \"${hexString}\" is not valid hex.`)\n\t\t}\n  \t\treturn new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n\t},\n\n\tuint8ToHex(bytes) {\n\t\treturn bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\n\t},\n\n\tkeysFromListOfObjects(objectList) {\n\t\treturn objectList.reduce(\n\t\t\t(arr, o) => Object.keys(o).reduce(\n\t\t\t\t(a, k) => {\n\t\t\t\t\tif (a.indexOf(k) == -1) {\n\t\t\t\t\t\ta.push(k);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t},\n\t\t\t\tarr\n\t\t\t),\n\t\t\t[]\n\t\t);\n\t},\n\n\tunit(value, unit = '') {\n\t\tif (typeof unit === 'string' && unit.length > 0) {\n\t\t\treturn `${value}&nbsp;<span class=\"unit\">${unit}</unit>`;\n\t\t}\n\t\treturn value;\n\t}\n\n};\n\nvar DataTypes = {\n\n\tarray(arr, sort = false, unit = '') {\n\t\treturn _.toList(arr, sort, v => DataTypes.format(v, unit));\n\t},\n\t\n\tobject(obj) {\n\t\treturn _.toObject(obj, v => DataTypes.format(v));\n\t},\n\t\n\tnull(label = 'n/a') {\n\t\treturn `<i class=\"null\">${label}</i>`;\n\t},\n\t\n\tnumber(num, unit = '') {\n\t\tif (typeof num !== 'number') {\n\t\t\tnum = parseFloat(num);\n\t\t}\n\t\treturn _.unit(num.toLocaleString(undefined, {maximumFractionDigits: 10}), unit);\n\t},\n\n\tstring(str, unit = '') {\n\t\treturn _.unit(_.e(str).replace(/(\\r\\n|\\r|\\n){2,}/g, '<br />'), unit);\n\t},\n\t\n\tboolean(bool) {\n\t\treturn bool ? '✔️' : '❌';\n\t},\n\t\n\tformat(value, unit = '') {\n\t\tif (typeof value === 'boolean') {\n\t\t\treturn DataTypes.boolean(value);\n\t\t}\n\t\telse if (typeof value === 'number') {\n\t\t\treturn DataTypes.number(value, unit);\n\t\t}\n\t\telse if (typeof value === 'string') {\n\t\t\treturn DataTypes.string(value, unit);\n\t\t}\n\t\telse if (Array.isArray(value)) {\n\t\t\treturn DataTypes.array(value, unit);\n\t\t}\n\t\telse if (_.isObject(value)) {\n\t\t\treturn DataTypes.object(value);\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t}\n\n};\n\nvar Formatters = {\n\n\tformatUrl(value, field, spec = {}, context = null, parent = null) {\n\t\tlet title = _.isObject(parent) && typeof parent === 'string' ? parent.title : value;\n\t\treturn _.toLink(value, title, parent.rel || \"\");\n\t},\n\n\tformatMediaType(value, field, spec = {}) {\n\t\tlet short = Boolean(spec.shorten);\n\n\t\tlet media;\n\t\ttry {\n\t\t\tconst mediaType = require('content-type');\n\t\t\tmedia = mediaType.parse(value);\n\t\t} catch (error) {\n\t\t\treturn short ? \"\" : DataTypes.null('Unknown');\n\t\t}\n\n\t\tswitch(media.type) {\n\t\t\tcase 'image/tiff':\n\t\t\t\tif (media.parameters.application === \"geotiff\") {\n\t\t\t\t\tif (media.parameters.profile === \"cloud-optimized\") {\n\t\t\t\t\t\treturn short ? 'COG' : 'Cloud-optimized GeoTIFF image';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn short ? 'GeoTiff' : 'GeoTIFF image';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn short ? 'TIFF' : 'TIFF image';\n\t\t\t\t}\n\t\t\tcase 'image/jp2':\n\t\t\t\treturn short ? 'JPEG 2000' : 'JPEG 2000 image';\n\t\t\tcase 'image/png':\n\t\t\tcase 'image/apng':\n\t\t\tcase 'image/vnd.mozilla.apng':\n\t\t\t\treturn short ? 'PNG' : 'PNG image';\n\t\t\tcase 'image/gif':\n\t\t\t\treturn short ? 'GIF' : 'GIF image';\n\t\t\tcase 'image/jpeg':\n\t\t\tcase 'image/jpg':\n\t\t\t\treturn short ? 'JPEG' : 'JPEG image';\n\t\t\tcase 'image/webp':\n\t\t\t\treturn short ? 'WebP' : 'WebP image';\n\t\t\tcase 'image/bmp':\n\t\t\tcase 'image/x-bmp':\n\t\t\tcase 'image/x-ms-bmp':\n\t\t\tcase 'image/wbmp':\n\t\t\t\treturn short ? 'Bitmap' : 'Bitmap image';\n\t\t\tcase 'image/svg+xml':\n\t\t\t\treturn short ? 'SVG' : 'SVG vector image';\n\t\t\tcase 'text/csv':\n\t\t\t\treturn short ? 'CSV' : 'Comma-separated values (CSV)';\n\t\t\tcase 'text/xml':\n\t\t\tcase 'application/xml':\n\t\t\t\treturn 'XML';\n\t\t\tcase 'text/json':\n\t\t\tcase 'application/json':\n\t\t\t\treturn 'JSON';\n\t\t\tcase 'text/yaml':\n\t\t\tcase 'text/vnd.yaml':\n\t\t\tcase 'text/x-yaml':\n\t\t\tcase 'application/x-yaml':\n\t\t\t\treturn 'YAML';\n\t\t\tcase 'application/geo+json':\n\t\t\t\treturn 'GeoJSON';\n\t\t\tcase 'application/geopackage+vnd.sqlite3':\n\t\t\tcase 'application/geopackage+sqlite3':\n\t\t\t\treturn 'GeoPackage';\n\t\t\tcase 'text/html':\n\t\t\tcase 'application/xhtml+xml':\n\t\t\t\treturn short ? 'HTML' : 'HTML (Website)';\n\t\t\tcase 'text/plain':\n\t\t\t\treturn short ? 'Text' : 'Text document';\n\t\t\tcase 'text/markdown':\n\t\t\t\treturn short ? 'Markdown' : 'Markdown document';\n\t\t\tcase 'application/pdf':\n\t\t\t\treturn short ? 'PDF' : 'PDF document';\n\t\t\tcase 'application/zip':\n\t\t\t\treturn short ? 'ZIP' : 'ZIP archive';\n\t\t\tcase 'application/gzip':\n\t\t\t\treturn short ? 'GZIP' : 'GZIP archive';\n\t\t\tcase 'application/x-hdf':\n\t\t\t\treturn 'HDF';\n\t\t\tcase 'application/x-netcdf':\n\t\t\t\treturn 'NetCDF';\n\t\t\tcase 'application/wmo-GRIB2':\n\t\t\t\treturn 'GRIB2';\n\t\t\tcase 'application/octet-stream':\n\t\t\t\treturn short ? 'Binary' : 'Binary file';\n\t\t\tcase 'application/vnd.laszip':\n\t\t\t\treturn 'LASzip';\n\t\t\tcase 'application/vnd.laszip+copc': // https://github.com/copcio/copcio.github.io/issues/53\n\t\t\t\treturn short ? 'COPC' : 'Cloud-optimized Point Cloud (LASzip)';\n\t\t\tcase 'application/vnd+zarr': // https://github.com/zarr-developers/zarr-specs/issues/123\n\t\t\t\treturn short ? 'zarr' : 'Cloud-optimized Point Cloud (LASzip)';\n\t\t\t// ToDo: Add media types for:\n\t\t\t// - flatgeobuf: https://github.com/flatgeobuf/flatgeobuf/discussions/112\n\t\t\t// - geoparquet: https://github.com/opengeospatial/geoparquet/issues/115\n\t\t\tdefault:\n\t\t\t\tlet [group, format] = media.type.split('/');\n\t\t\t\tformat = _.formatKey(format.replace(/^(vnd|x)[\\.\\+]/, ''));\n\t\t\t\tif (short) {\n\t\t\t\t\treturn format;\n\t\t\t\t}\n\t\t\t\tswitch(group) {\n\t\t\t\t\tcase 'audio':\n\t\t\t\t\t\treturn `${format} audio`;\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\treturn `${format} image`;\n\t\t\t\t\tcase 'font':\n\t\t\t\t\t\treturn `Font`;\n\t\t\t\t\tcase 'model':\n\t\t\t\t\t\treturn `${format} 3D model`;\n\t\t\t\t\tcase 'video':\n\t\t\t\t\t\treturn `${format} video`;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'application':\n\t\t\t\t\t\treturn format;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn _.e(value);\n\t\t\t\t}\n\t\t}\n\t},\n\n\tformatTimestamp(value) {\n\t\tif (typeof value === 'string') {\n\t\t\ttry {\n\t\t\t\treturn new Date(value).toLocaleString([], {\n\t\t\t\t\ttimeZone: \"UTC\",\n\t\t\t\t\ttimeZoneName: \"short\"\n\t\t\t\t});\n\t\t\t} catch (error) {}\n\t\t}\n\t\treturn DataTypes.null();\n\t},\n\n\tformatDate(value) {\n\t\tif (typeof value === 'string') {\n\t\t\ttry {\n\t\t\t\treturn new Date(value).toLocaleString([], {\n\t\t\t\t\tday: 'numeric',\n\t\t\t\t\tmonth: 'numeric',\n\t\t\t\t\tyear: 'numeric'\n\t\t\t\t});\n\t\t\t} catch (error) {}\n\t\t}\n\t\treturn DataTypes.null();\n\t},\n\n\tformatLicense(value, field, spec = {}, context = null) {\n\t\tif (typeof value !== 'string' || value.length === 0) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\n\t\t// We could use the spdx-license-ids and/or spdx-to-html packages previously used in STAC Browser,\n\t\t// but let's try it without additional dependency for now.\n\t\tif (value !== 'proprietary' && value !== 'various' && value.match(/^[\\w\\.\\-]+$/i)) { // SPDX\n\t\t\treturn _.toLink(`https://spdx.org/licenses/${value}.html`, value, \"license\");\n\t\t}\n\t\t\n\t\tlet licenses = Array.isArray(context.links) ? context.links.filter(link => (_.isObject(link) && typeof link.href === 'string' && link.rel === 'license')) : [];\n\t\tif (licenses.length > 0) {\n\t\t\treturn _.toList(licenses, false, link => _.toLink(link.href, link.title || value, \"license\"));\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.string(value);\n\t\t}\n\t},\n\n\tformatProviders(value) {\n\t\treturn _.toList(value, false, provider => {\n\t\t\tlet name = provider.name;\n\t\t\tlet roles = '';\n\t\t\tlet description = '';\n\t\t\tif (typeof provider.url === 'string' && provider.url.length > 0) {\n\t\t\t\tname = _.toLink(provider.url, name);\n\t\t\t}\n\t\t\tif (Array.isArray(provider.roles) && provider.roles.length > 0) {\n\t\t\t\troles = provider.roles.map(r => DataTypes.format(r)).join(', ');\n\t\t\t\troles = ` (<em>${roles}</em>)`;\n\t\t\t}\n\t\t\tif (typeof provider.description === 'string' && provider.description.length > 0) {\n\t\t\t\tdescription = Formatters.formatCommonMark(provider.description);\n\t\t\t}\n\t\t\treturn `${name}${roles}${description}`;\n\t\t});\n\t},\n\n\tformatCommonMark(value) {\n\t\tif (typeof value !== 'string' || value.length === 0) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\tconst commonmark = require('commonmark');\n\t\tlet reader = new commonmark.Parser();\n\t\tlet writer = new commonmark.HtmlRenderer({safe: true, smart: true});\n\t\tlet html = writer.render(reader.parse(value));\n\t\treturn `<div class=\"description\">${html}</div>`;\n\t},\n\n\tformatSoftware(value) {\n\t\tif (!_.isObject(value)) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\n\t\tlet list = [];\n\t\tfor(let software in value) {\n\t\t\tlet version = value[software];\n\t\t\tif ((typeof version === 'string' && version.length > 0) || typeof version === 'number') {\n\t\t\t\tlist.push(`${software} (${version})`);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlist.push(software);\n\t\t\t}\n\t\t}\n\t\treturn _.toList(list, true);\n\t},\n\n\tformatDOI(value) {\n\t\tvalue = DataTypes.format(value);\n\t\treturn _.toLink(`http://doi.org/${value}`, value);\n\t},\n\n\tformatCRS(value) {\n\t\treturn _.toList(value, false, value => {\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tlet title = value\n\t\t\t\t\t.replace(/^https?:\\/\\/www\\.opengis\\.net\\/def\\/crs\\//i, '') // HTTP(s) URI\n\t\t\t\t\t.replace(/^urn:ogc:def:crs:/i, ''); // OGC URN\n\t\t\t\treturn _.toLink(value, title);\n\t\t\t}\n\t\t\treturn DataTypes.format(value);\n\t\t});\n\t},\n\n\tformatEPSG(value) {\n\t\t// Remove leading 'epsg:' which people sometimes prepend\n\t\tif (typeof value === 'string') {\n\t\t\tvalue = value.replace(/^epsg:/i, '');\n\t\t}\n\t\tvalue = parseInt(value, 10);\n\t\tif (value > 0) {\n\t\t\treturn _.toLink(`http://epsg.io/${value}`, value);\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t},\n\n\tformatExtent(value, field, spec = {}) {\n\t\tif (!Array.isArray(value) || value.length < 2 || (value[0] === null && value[1] === null)) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\telse if (value[0] === null) {\n\t\t\treturn `Until ${DataTypes.format(value[1], spec.unit)}`;\n\t\t}\n\t\telse if (value[1] === null) {\n\t\t\treturn `From ${DataTypes.format(value[0], spec.unit)}`;\n\t\t}\n\t\telse if (value[0] === value[1]) {\n\t\t\treturn DataTypes.format(value[0], spec.unit);\n\t\t}\n\t\telse {\n\t\t\treturn value.map(v => DataTypes.format(v, spec.unit)).join(' – ');\n\t\t}\n\t},\n\n\tformatHexColor(value) {\n\t\tif (typeof value !== 'string' || !value.match(/^#?[\\dA-F]{3,8}$/i)) {\n\t\t\treturn _.null();\n\t\t}\n\t\tif (value.startsWith('#')) {\n\t\t\tvalue = value.substring(1);\n\t\t}\n\t\treturn `<div class=\"color\" style=\"background-color: #${value}\"><code class=\"color-code\">#${value}</code></div>`;\n\t},\n\n\tformatPROJJSON(value) {\n\t\tif (!_.isObject(value)) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\tif (_.isObject(value.id) && value.id.authority === 'EPSG' && typeof value.code === 'number' && value.code > 0) {\n\t\t\treturn 'EPSG ' + Formatters.formatEPSG(value);\n\t\t}\n\t\telse if (typeof value.name === 'string') {\n\t\t\treturn DataTypes.string(value.name);\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.object(value);\n\t\t}\n\t},\n\n\tformatTemporalExtent(value, field, spec = {}) {\n\t\tlet formatter = spec.shorten ? Formatters.formatDate : Formatters.formatTimestamp;\n\t\tif (!Array.isArray(value) || value.length < 2 || (typeof value[0] !== 'string' && typeof value[1] !== 'string')) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\telse if (typeof value[0] !== 'string') {\n\t\t\treturn `Until ${formatter(value[1])}`;\n\t\t}\n\t\telse if (typeof value[1] !== 'string') {\n\t\t\treturn `${formatter(value[0])} until present`;\n\t\t}\n\t\telse if (value[0] === value[1]) {\n\t\t\treturn Formatters.formatTimestamp(value[0]);\n\t\t}\n\t\telse {\n\t\t\treturn value.map(date => formatter(date)).join(' - ');\n\t\t}\n\t},\n\n\tformatTemporalExtents(value, field, spec = {}) {\n\t\tlet sortExtents = (a,b) => {\n\t\t\tif (a[0] === null) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn a[0].localeCompare(b[0]);\n\t\t\t}\n\t\t};\n\t\treturn _.toList(value, sortExtents, v => Formatters.formatTemporalExtent(v, field, spec));\n\t},\n\n\tformatWKT2(value) {\n\t\tif (typeof value !== 'string') {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\t\n\t\t// This is a VERY simplistic WKT2 formatter, which may fail to render properly in some cases.\n\t\tlet indent = -1;\n\t\tlet formatted;\n\t\ttry {\n\t\t\tformatted = value.replace(/([A-Z]+)\\[|\\]/ig, (match, keyword) => {\n\t\t\t\tif (match === ']') {\n\t\t\t\t\tindent--;\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tindent++;\n\t\t\t\t\tlet tabs = \"  \".repeat(indent);\n\t\t\t\t\treturn `\\n${tabs}${keyword}[`;\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\t// In case the formatting did not work properly\n\t\t\t// (usually the number of [ and ] doesn't match)\n\t\t\t// just return the unformatted value\n\t\t\tformatted = value;\n\t\t\t\n\t\t}\n\n\t\treturn `<pre>${formatted}</pre>`;\n\t},\n\n\tfileSizeUnits: ['B', 'kB', 'MB', 'GB', 'TB'],\n\n\tformatFileSize(value) {\n\t\tif (typeof value !== 'number') {\n\t\t\treturn DataTypes.format(value);\n\t\t}\n\t\tvar i = value == 0 ? 0 : Math.floor( Math.log(value) / Math.log(1024) );\n\t\treturn _.unit(( value / Math.pow(1024, i) ).toFixed(2) * 1, Formatters.fileSizeUnits[i]);\n\t},\n\n\tformatChecksum(value) {\n\t\tif (typeof value !== 'string') {\n\t\t\treturn DataTypes.null();\n\t\t}\n\n\t\ttry {\n\t\t\tconst multihash = require('multihashes');\n\t\t\tconst meta = multihash.decode(_.hexToUint8(value));\n\t\t\tconst name = _.e(meta.name);\n\t\t\tconst hex = _.e(_.uint8ToHex(meta.digest));\n\t\t\treturn `<div class=\"checksum\"><input class=\"checksum-input\" size=\"32\" value=\"${hex}\" readonly /><br /><span class=\"checksum-algo\">Hashing algorithm: <strong>${name}</strong></span></div>`;\n\t\t} catch (error) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t},\n\n\tfileDataTypes: {\n\t\t\"int8\": \"8-bit integer\",\n\t\t\"int16\": \"16-bit integer\",\n\t\t\"int32\": \"32-bit integer\",\n\t\t\"int64\": \"64-bit integer\",\n\t\t\"uint8\": \"unsigned 8-bit integer\",\n\t\t\"uint16\": \"unsigned 16-bit integer\",\n\t\t\"uint32\": \"unsigned 32-bit integer\",\n\t\t\"uint64\": \"unsigned 64-bit integer\",\n\t\t\"float16\": \"16-bit float\",\n\t\t\"float32\": \"32-bit float\",\n\t\t\"float64\": \"64-big float\",\n\t\t\"cint16\": \"16-bit complex integer\",\n\t\t\"cint32\": \"32-bit complex integer\",\n\t\t\"cfloat32\": \"32-bit complex float\",\n\t\t\"cfloat64\": \"64-bit complex float\",\n\t\t\"other\": \"Other\"\n\t},\n\n\tformatFileDataType(value) {\n\t\tif (typeof value === 'string' && value in Formatters.fileDataTypes) {\n\t\t\treturn _.abbrev(value, Formatters.fileDataTypes[value]);\n\t\t}\n\n\t\treturn DataTypes.null();\n\t},\n\n\tformatTransform(value) {\n\t\tif (Array.isArray(value) && value.length % 3 === 0) {\n\t\t\tlet rows = [];\n\t\t\tfor (let i = 0; i < value.length; i = i+3) {\n\t\t\t\tlet chunk = value.slice(i, i + 3);\n\t\t\t\trows.push(`[${Formatters.formatCSV(chunk)}]`);\n\t\t\t}\n\t\t\treturn rows.join('<br />');\n\t\t}\n\t\telse {\n\t\t\treturn Formatters.formatCSV(value);\n\t\t}\n\t},\n\n\tformatShape(value, field, spec = {}) {\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value.map(x => DataTypes.format(x, spec.unit)).join(' × ');\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.format(value, spec.unit);\n\t\t}\n\t},\n\n\tformatCSV(value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tlet numeric = value.find(v => typeof v === 'number') !== undefined;\n\t\t\t// If there's potentially a comma in the values (decimal or thousand separators in numbers), use semicolon instead of comma.\n\t\t\treturn value.map(DataTypes.format).join(numeric ? '; ' : ', ');\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.format(value);\n\t\t}\n\t},\n\n\tformatGridCode(value) {\n\t\tif (typeof value !== 'string') {\n\t\t\treturn DataTypes.format(value);\n\t\t}\n\n\t\tlet splitHalf = function(parts, value, labelA, labelB) {\n\t\t\tlet len = value.length;\n\t\t\tif ((len % 2) === 1) {\n\t\t\t\tparts.push(`Code: ${value}`);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet mid = len/2;\n\t\t\t\tlet a = value.substring(0, mid);\n\t\t\t\tparts.push(`${labelA}: ${a}`);\n\t\t\t\tlet b = value.substring(mid, len);\n\t\t\t\tparts.push(`${labelB}: ${b}`);\n\t\t\t}\n\t\t};\n\n\t\tlet [designator, code] = value.split(/-(.*)/);\n\t\tlet parts = [];\n\t\tswitch(designator) {\n\t\t\tcase 'MGRS': \n\t\t\t\tparts.push(_.abbrev(designator, 'Military Grid Reference System'));\n\t\t\t\tlet [, utm, band, sq, coord] = code.match(/^(\\d{2})([C-X])([A-Z]{2})(\\d+)$/);\n\t\t\t\tparts.push(`UTM Zone: ${utm}`);\n\t\t\t\tparts.push(`Latitude Band: ${band}`);\n\t\t\t\tparts.push(`Square Identifier: ${sq}`);\n\t\t\t\tsplitHalf(parts, coord, \"Easting\", \"Northing\");\n\t\t\t\tbreak;\n\t\t\tcase 'MSIN':\n\t\t\t\tparts.push('MODIS Sinusoidal Tile Grid');\n\t\t\t\tsplitHalf(parts, code, 'Horizontal', 'Vertical');\n\t\t\t\tbreak;\n\t\t\tcase 'WRS1':\n\t\t\tcase 'WRS2':\n\t\t\t\tlet version = designator.substring(3,4);\n\t\t\t\tparts.push(_.abbrev('WRS-' + version, 'Worldwide Reference System ' + version));\n\t\t\t\tsplitHalf(parts, code, 'Path', 'Row');\n\t\t\t\tbreak;\n\t\t\tcase 'DOQ':\n\t\t\t\tparts.push('Digital Orthophoto Quadrangle');\n\t\t\t\tparts.push(`Quadrangle: ${code}`);\n\t\t\t\tbreak;\n\t\t\tcase 'DOQQ':\n\t\t\t\tparts.push('Digital Orthophoto Quarter Quadrangle');\n\t\t\t\tlet quad = code.substr(0, code.length - 2);\n\t\t\t\tparts.push(`Quadrangle: ${quad}`);\n\t\t\t\tlet quarter = code.substr(-2);\n\t\t\t\tlet a = quarter[0] === 'N' ? 'North' : 'South';\n\t\t\t\tlet b = quarter[1] === 'E' ? 'East' : 'West';\n\t\t\t\tparts.push(`Quarter: ${a} ${b}`);\n\t\t\t\tbreak;\n\t\t\tcase 'MXRA':\n\t\t\t\tparts.push('Maxar ARD Tile Grid');\n\t\t\t\tlet [zone, quadkey] = code.split(/-(.*)/);\n\t\t\t\tif (zone.startsWith('Z')) {\n\t\t\t\t\tzone = zone.substring(1);\n\t\t\t\t}\n\t\t\t\tparts.push(`UTM Zone: ${zone}`);\n\t\t\t\tparts.push(`Quadkey: ${quadkey}`);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn parts.join('<br />');\n\t}\n\n};\n\nfunction formatGrouped(context, data, type, filter, coreKey) {\n\t// Group fields into extensions\n\tlet groups = {};\n\tfor(let field in data) {\n\t\tlet value;\n\t\ttry {\n\t\t\tlet parts = field.split(/:(.*)/);\n\t\t\tif (parts.length === 1) {\n\t\t\t\tparts.unshift(coreKey);\n\t\t\t}\n\t\t\tlet ext = parts[0];\n\t\t\tif (typeof filter === 'function' && !filter(field)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvalue = data[field];\n\t\t\tlet spec = Registry.getSpecification(field, type);\n\n\t\t\t// Move to another extension (e.g. if no prefix is provided)\n\t\t\tif (spec.ext) {\n\t\t\t\text = spec.ext;\n\t\t\t}\n\n\t\t\t// Special handling for summaries that contain a list with keys (e.g. cube:dimensions, gee:schema)\n\t\t\t// There's usually just a single object included, so get that as value\n\t\t\tlet isSummarizedListWithKeys = false;\n\t\t\tif (type === 'summaries' && spec.listWithKeys && Array.isArray(value) && value.length > 0) {\n\t\t\t\tvalue = value[0];\n\t\t\t\tisSummarizedListWithKeys = true;\n\t\t\t}\n\n\t\t\t// Fill items with missing properties\n\t\t\tlet items = null;\n\t\t\tlet itemOrder = [];\n\t\t\tif (_.isObject(spec.items)) {\n\t\t\t\tlet temp = value;\n\t\t\t\t// Ignore keys for lists that are stored as object (e.g. cube:dimensions)\n\t\t\t\tif (spec.listWithKeys) {\n\t\t\t\t\ttemp = Object.values(temp);\n\t\t\t\t}\n\n\t\t\t\tlet itemFieldNames = [];\n\t\t\t\tif (Array.isArray(temp)) {\n\t\t\t\t\titemFieldNames = _.keysFromListOfObjects(temp);\n\t\t\t\t}\n\t\t\t\telse if (_.isObject(temp)) {\n\t\t\t\t\titemFieldNames = Object.keys(temp);\n\t\t\t\t}\n\n\t\t\t\titems = {};\n\t\t\t\t// Remove fields from list that are not available in the data\n\t\t\t\titemOrder = spec.itemOrder.filter(fieldName => itemFieldNames.includes(fieldName));\n\n\t\t\t\titemFieldNames.forEach(key => {\n\t\t\t\t\tif (typeof spec.items[key] === 'undefined') {\n\t\t\t\t\t\t// Add fields that are not specified in fields.json\n\t\t\t\t\t\titems[key] = {\n\t\t\t\t\t\t\tlabel: _.formatKey(key),\n\t\t\t\t\t\t\texplain: key\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// Place non-specified fields at the end\n\t\t\t\t\t\titemOrder.push(key);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Clone field spec from fields.json\n\t\t\t\t\t\titems[key] = Object.assign({}, spec.items[key]);\n\t\t\t\t\t\titems[key].label = label(key, spec.items[key]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Format values\n\t\t\tlet formatted;\n\n\t\t\t// Handle summaries\n\t\t\tif (type === 'summaries') {\n\t\t\t\tif (!isSummarizedListWithKeys && _.isObject(value)) {\n\t\t\t\t\tif (typeof value.minimum !== 'undefined' && typeof value.minimum !== 'undefined') {\n\t\t\t\t\t\tformatted = Formatters.formatExtent([value.minimum, value.maximum], field, spec);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tformatted = DataTypes.object(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Registry.externalRenderer && items) {\n\t\t\t\t\tlet formatted = isSummarizedListWithKeys ? Object.assign({}, value) : value.slice(0);\n\t\t\t\t\t// Go through each field's summary\n\t\t\t\t\tfor(let i in formatted) {\n\t\t\t\t\t\tlet result = _.isObject(formatted[i]) ? {} : [];\n\t\t\t\t\t\t// Go through each entry in a field's summary (this is besically a single value as defined in the Item spec)\n\t\t\t\t\t\tfor(let key in items) {\n\t\t\t\t\t\t\tresult[key] = format(formatted[i][key], key, context, data, items[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformatted[i] = result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\tformatted = _.toList(value, !spec.custom && !spec.items, v => format(v, field, context, data, spec));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.warn(`Invalid summary value: ${value}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Fallback to \"normal\" rendering if not handled by summaries yet\n\t\t\tif (typeof formatted === 'undefined') {\n\t\t\t\tformatted = format(value, field, context, data, spec);\n\t\t\t}\n\n\t\t\t// Add group if missing\n\t\t\tif (!_.isObject(groups[ext])) {\n\t\t\t\tgroups[ext] = {\n\t\t\t\t\textension: ext,\n\t\t\t\t\tlabel: extension(ext),\n\t\t\t\t\tproperties: {}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tgroups[ext].properties[field] = {\n\t\t\t\tlabel: label(field, spec),\n\t\t\t\tvalue,\n\t\t\t\tformatted,\n\t\t\t\titems,\n\t\t\t\titemOrder,\n\t\t\t\tspec\n\t\t\t};\n\t\t} catch(error) {\n\t\t\tconsole.error(`Field '${field}' with value '${value}' resulted in an error`, error);\n\t\t}\n\t}\n\treturn Object.values(groups).sort((a,b) => a.extension.localeCompare(b.extension));\n\n}\n\n// For assets (item and collection) and item-assets (extension)\nfunction formatAsset(asset, context, filter = null, coreKey = '') {\n\treturn formatGrouped(context, asset, 'assets', filter, coreKey);\n}\n\n// For links\nfunction formatLink(link, context, filter = null, coreKey = '') {\n\treturn formatGrouped(context, link, 'links', filter, coreKey);\n}\n\n// For Collection summaries\nfunction formatSummaries(collection, filter = null, coreKey = '') {\n\treturn formatGrouped(collection, collection.summaries, 'summaries', filter, coreKey);\n}\n\n// For Collections\nfunction formatCollection(collection, filter = null, coreKey = '') {\n\treturn formatGrouped(collection, collection, 'collection', filter, coreKey);\n}\n\n// For item properties\nfunction formatItemProperties(item, filter = null, coreKey = '') {\n\treturn formatGrouped(item, item.properties, 'metadata', filter, coreKey);\n}\n\nfunction format(value, field, context = null, parent = null, spec = null) {\n\tif (!_.isObject(spec)) {\n\t\tspec = Fields.metadata[field] || {};\n\t}\n\n\tif (typeof spec.formatter === 'function') {\n\t\treturn spec.formatter(value, field, spec, context, parent);\n\t}\n\telse if (_.isObject(spec.mapping)) {\n\t\tlet key = String(value).toLowerCase();\n\t\tif (typeof spec.mapping[key] !== 'undefined') {\n\t\t\tvalue = spec.mapping[key];\n\t\t}\n\t\treturn DataTypes.format(value, spec.unit);\n\t}\n\telse if (value === null && spec.null) {\n\t\treturn DataTypes.null(spec.null);\n\t}\n\telse if (Array.isArray(value)) {\n\t\tlet callback = v => format(v, field, context, parent, spec);\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items)) {\n\t\t\treturn value.map(callback);\n\t\t}\n\t\telse {\n\t\t\treturn _.toList(value, false, callback);\n\t\t}\n\t}\n\telse if (_.isObject(value) && _.isObject(spec.items)) {\n\t\tlet callback = (v, k, p) => format(v, k, context, p, spec.listWithKeys ? Object.assign({}, spec, {listWithKeys: false}) : spec.items[k]);\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items)) {\n\t\t\tlet formattedValues = {};\n\t\t\tfor(let key in value) {\n\t\t\t\tformattedValues[key] = callback(value[key], key, value);\n\t\t\t}\n\t\t\treturn formattedValues;\n\t\t}\n\t\telse {\n\t\t\treturn _.toObject(value, callback);\n\t\t}\n\t}\n\telse {\n\t\treturn DataTypes.format(value, spec.unit);\n\t}\n}\n\nfunction label(key, spec = null) {\n\tif (!_.isObject(spec)) {\n\t\tspec = Fields.metadata[key] || {};\n\t}\n\tif (_.isObject(spec) && typeof spec.label === 'string') {\n\t\tif (typeof spec.explain === 'string') {\n\t\t\tif (spec.explain.match(/^https?:\\/\\//i)) {\n\t\t\t\treturn _.toLink(spec.explain, spec.label, \"about\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn _.abbrev(spec.label, spec.explain);\n\t\t\t}\n\t\t}\n\t\telse if (typeof spec.label === 'string') {\n\t\t\treturn spec.label;\n\t\t}\n\t}\n\treturn _.formatKey(key);\n}\n\nfunction extension(key) {\n\treturn label(key, Fields.extensions[key]);\n}\n\nvar Fields = _.normalizeFields(require('./fields.json'));\n\nmodule.exports = {\n\tformat,\n\tlabel,\n\textension,\n\tformatCollection,\n\tformatSummaries,\n\tformatItemProperties,\n\tformatAsset,\n\tformatLink,\n\tFields,\n\tRegistry,\n\tHelper: _,\n\tDataTypes,\n\tFormatters\n};","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    var output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n}\nexports.default = decodeCodePoint;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"vue-component styled-description\",class:{compact: _vm.compact},domProps:{\"innerHTML\":_vm._s(_vm.markup(_vm.description))}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"vue-component styled-description\" :class=\"{compact: compact}\" v-html=\"markup(description)\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as commonmark from 'commonmark';\r\nimport Utils from '../utils';\r\n\r\nexport default {\r\n\tname: 'Description',\r\n\tprops: {\r\n\t\tdescription: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tpreprocessor: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tprocessor: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tprocessUrl: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tcompact: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tallowHTML: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tbeforeCreate() {\r\n\t\tUtils.enableHtmlProps(this);\r\n\t},\r\n\tmethods: {\r\n\t\tmarkup(text) {\r\n\t\t\tif (typeof text !== 'string') {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\t// Parse our extension to CommonMark, which allows linking to other processes with ``process()``\r\n\t\t\t// Temporarily replace with a non-commonmark and non-html string to avoid parsing/removal\r\n\t\t\tif (typeof this.processUrl === 'string') {\r\n\t\t\t\ttext = text.replace(/(^|[^\\w`])``(\\w+)\\(\\)``(?![\\w`])/g, (_, prefix, pid) => {\r\n\t\t\t\t\treturn `${prefix}@pid:${pid}@@`;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Parse CommonMark\r\n\t\t\tvar reader = new commonmark.Parser();\r\n\t\t\tvar writer = new commonmark.HtmlRenderer({safe: !this.allowHTML, smart: true});\r\n\t\t\tif (typeof this.preprocessor === 'function') {\r\n\t\t\t\ttext = this.preprocessor(text);\r\n\t\t\t}\r\n\t\t\tvar parsed = reader.parse(text);\r\n\t\t\tvar rendered = writer.render(parsed);\r\n\t\t\tif (typeof this.processor === 'function') {\r\n\t\t\t\trendered = this.processor(rendered);\r\n\t\t\t}\r\n\t\r\n\t\t\t// Replace temporary replacement code with process link\r\n\t\t\tif (typeof this.processUrl === 'string') {\r\n\t\t\t\trendered = rendered.replace(/@pid:(\\w+)@@/g, (_, pid) => this.linkToProcess(pid));\r\n\t\t\t}\r\n\r\n\t\t\treturn rendered;\r\n\t\t},\r\n\t\tlinkToProcess(processId) {\r\n\t\t\tlet url = this.processUrl.replace('${}', encodeURIComponent(processId));\r\n\t\t\tlet target = this.processUrl.startsWith('#') ? '_self' : '_blank';\r\n\t\t\treturn `<code><a href=\"${url}\" target=\"${target}\" class=\"process-link\">${processId}</a></code>`;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './base.scss';\r\n\r\n.vue-component.styled-description {\r\n\tline-height: 1.25em;\r\n\r\n\tcode {\r\n\t\tcolor: maroon;\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 0 0.1em;\r\n\t}\r\n\tpre {\r\n\t\tbackground-color: #eee;\r\n\t\twidth: 100%;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tmax-height: 15em;\r\n\t\toverflow-y: auto;\r\n\t\t\r\n\t\tcode {\r\n\t\t\tbackground-color: transparent; \r\n\t\t\tdisplay: block;\r\n\t\t\tmargin: 0.5em;\r\n\t\t}\r\n\t}\r\n\t&.compact {\r\n\t\tpre {\r\n\t\t\tmax-height: 7em;\r\n\t\t\twidth: auto;\r\n\t\t\tmax-width: 100%;\r\n\t\t}\r\n\t\tp {\r\n\t\t\tmargin: 0.5em 0;\r\n\r\n\t\t\t&:first-child {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Description.vue?vue&type=template&id=06d88d67&\"\nimport script from \"./Description.vue?vue&type=script&lang=js&\"\nexport * from \"./Description.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Description.vue?vue&type=style&index=0&id=06d88d67&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!./StacFields.vue?vue&type=style&index=0&id=05b67dad&prod&lang=scss&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\n// Legacy aliases\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\");\n    var replace = getReplacer(map);\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n    return function (str) { return String(str).replace(re, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    //TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{staticClass:\"vue-component asset\"},[_c('h4',[_c('ul',{staticClass:\"badges actions\"},[_c('li',{staticClass:\"badge action download\"},[_c('a',{staticClass:\"badge-fill\",attrs:{\"href\":_vm.asset.href,\"target\":\"_blank\",\"download\":\"\"}},[_vm._v(\" Download '\"+_vm._s(_vm.asset.title || _vm.id)+\"' \"),(_vm.fileFormat)?[_vm._v(\"as \"+_vm._s(_vm.fileFormat))]:_vm._e()],2)])]),(Array.isArray(_vm.asset.roles))?_c('ul',{staticClass:\"badges\"},_vm._l((_vm.asset.roles),function(role){return _c('li',{key:role,staticClass:\"badge\",class:role === 'data' ? 'green' : 'secondary'},[_vm._v(_vm._s(role))])}),0):_vm._e()]),(_vm.asset.description)?_c('Description',{attrs:{\"description\":_vm.asset.description,\"compact\":true}}):_vm._e(),_c('StacFields',{attrs:{\"type\":\"Asset\",\"metadata\":_vm.asset,\"ignore\":_vm.ignore,\"title\":\"\",\"context\":_vm.context,\"headingTag\":\"h5\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <li class=\"vue-component asset\">\r\n    <h4>\r\n      <ul class=\"badges actions\">\r\n        <li class=\"badge action download\">\r\n          <a class=\"badge-fill\" :href=\"asset.href\" target=\"_blank\" download>\r\n            Download '{{ asset.title || id }}'\r\n            <template v-if=\"fileFormat\">as {{ fileFormat }}</template>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n      <ul v-if=\"Array.isArray(asset.roles)\" class=\"badges\">\r\n        <li v-for=\"role in asset.roles\" :key=\"role\" class=\"badge\" :class=\"role === 'data' ? 'green' : 'secondary'\">{{ role }}</li>\r\n      </ul>\r\n    </h4>\r\n    <Description v-if=\"asset.description\" :description=\"asset.description\" :compact=\"true\" />\r\n    <StacFields type=\"Asset\" :metadata=\"asset\" :ignore=\"ignore\" title=\"\" :context=\"context\" headingTag=\"h5\" />\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nimport { Formatters } from '@radiantearth/stac-fields';\r\nimport Description from '../Description.vue';\r\nimport StacFields from './StacFields.vue';\r\n\r\nexport default {\r\n  name: 'Asset',\r\n  components: {\r\n    Description,\r\n    StacFields\r\n  },\r\n  props: {\r\n    asset: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    context: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      ignore: ['href', 'title', 'description', 'type', 'roles']\r\n    };\r\n  },\r\n  computed: {\r\n    fileFormat() {\r\n      if (this.asset.type) {\r\n        return Formatters.formatMediaType(this.asset.type);\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.vue-component.asset {\r\n  h4  {\r\n    font-size: 1.1em;\r\n    margin: 0;\r\n    font-weight: normal;\r\n\r\n    .download {\r\n      margin-right: 1em;\r\n    }\r\n  }\r\n  h5  {\r\n    font-size: 1.1em;\r\n    font-weight: bold;\r\n    margin: 0.75em 0 0.5em;\r\n  }\r\n\r\n  .metadata {\r\n    font-size: 0.9em;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!./StacAsset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!./StacAsset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StacAsset.vue?vue&type=template&id=6ca7c29f&\"\nimport script from \"./StacAsset.vue?vue&type=script&lang=js&\"\nexport * from \"./StacAsset.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StacAsset.vue?vue&type=style&index=0&id=6ca7c29f&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=style&index=0&id=06d88d67&prod&lang=scss&\"","\"use strict\";\n\nfunction isContainer(node) {\n    switch (node._type) {\n        case \"document\":\n        case \"block_quote\":\n        case \"list\":\n        case \"item\":\n        case \"paragraph\":\n        case \"heading\":\n        case \"emph\":\n        case \"strong\":\n        case \"link\":\n        case \"image\":\n        case \"custom_inline\":\n        case \"custom_block\":\n            return true;\n        default:\n            return false;\n    }\n}\n\nvar resumeAt = function(node, entering) {\n    this.current = node;\n    this.entering = entering === true;\n};\n\nvar next = function() {\n    var cur = this.current;\n    var entering = this.entering;\n\n    if (cur === null) {\n        return null;\n    }\n\n    var container = isContainer(cur);\n\n    if (entering && container) {\n        if (cur._firstChild) {\n            this.current = cur._firstChild;\n            this.entering = true;\n        } else {\n            // stay on node but exit\n            this.entering = false;\n        }\n    } else if (cur === this.root) {\n        this.current = null;\n    } else if (cur._next === null) {\n        this.current = cur._parent;\n        this.entering = false;\n    } else {\n        this.current = cur._next;\n        this.entering = true;\n    }\n\n    return { entering: entering, node: cur };\n};\n\nvar NodeWalker = function(root) {\n    return {\n        current: root,\n        root: root,\n        entering: true,\n        next: next,\n        resumeAt: resumeAt\n    };\n};\n\nvar Node = function(nodeType, sourcepos) {\n    this._type = nodeType;\n    this._parent = null;\n    this._firstChild = null;\n    this._lastChild = null;\n    this._prev = null;\n    this._next = null;\n    this._sourcepos = sourcepos;\n    this._lastLineBlank = false;\n    this._lastLineChecked = false;\n    this._open = true;\n    this._string_content = null;\n    this._literal = null;\n    this._listData = {};\n    this._info = null;\n    this._destination = null;\n    this._title = null;\n    this._isFenced = false;\n    this._fenceChar = null;\n    this._fenceLength = 0;\n    this._fenceOffset = null;\n    this._level = null;\n    this._onEnter = null;\n    this._onExit = null;\n};\n\nvar proto = Node.prototype;\n\nObject.defineProperty(proto, \"isContainer\", {\n    get: function() {\n        return isContainer(this);\n    }\n});\n\nObject.defineProperty(proto, \"type\", {\n    get: function() {\n        return this._type;\n    }\n});\n\nObject.defineProperty(proto, \"firstChild\", {\n    get: function() {\n        return this._firstChild;\n    }\n});\n\nObject.defineProperty(proto, \"lastChild\", {\n    get: function() {\n        return this._lastChild;\n    }\n});\n\nObject.defineProperty(proto, \"next\", {\n    get: function() {\n        return this._next;\n    }\n});\n\nObject.defineProperty(proto, \"prev\", {\n    get: function() {\n        return this._prev;\n    }\n});\n\nObject.defineProperty(proto, \"parent\", {\n    get: function() {\n        return this._parent;\n    }\n});\n\nObject.defineProperty(proto, \"sourcepos\", {\n    get: function() {\n        return this._sourcepos;\n    }\n});\n\nObject.defineProperty(proto, \"literal\", {\n    get: function() {\n        return this._literal;\n    },\n    set: function(s) {\n        this._literal = s;\n    }\n});\n\nObject.defineProperty(proto, \"destination\", {\n    get: function() {\n        return this._destination;\n    },\n    set: function(s) {\n        this._destination = s;\n    }\n});\n\nObject.defineProperty(proto, \"title\", {\n    get: function() {\n        return this._title;\n    },\n    set: function(s) {\n        this._title = s;\n    }\n});\n\nObject.defineProperty(proto, \"info\", {\n    get: function() {\n        return this._info;\n    },\n    set: function(s) {\n        this._info = s;\n    }\n});\n\nObject.defineProperty(proto, \"level\", {\n    get: function() {\n        return this._level;\n    },\n    set: function(s) {\n        this._level = s;\n    }\n});\n\nObject.defineProperty(proto, \"listType\", {\n    get: function() {\n        return this._listData.type;\n    },\n    set: function(t) {\n        this._listData.type = t;\n    }\n});\n\nObject.defineProperty(proto, \"listTight\", {\n    get: function() {\n        return this._listData.tight;\n    },\n    set: function(t) {\n        this._listData.tight = t;\n    }\n});\n\nObject.defineProperty(proto, \"listStart\", {\n    get: function() {\n        return this._listData.start;\n    },\n    set: function(n) {\n        this._listData.start = n;\n    }\n});\n\nObject.defineProperty(proto, \"listDelimiter\", {\n    get: function() {\n        return this._listData.delimiter;\n    },\n    set: function(delim) {\n        this._listData.delimiter = delim;\n    }\n});\n\nObject.defineProperty(proto, \"onEnter\", {\n    get: function() {\n        return this._onEnter;\n    },\n    set: function(s) {\n        this._onEnter = s;\n    }\n});\n\nObject.defineProperty(proto, \"onExit\", {\n    get: function() {\n        return this._onExit;\n    },\n    set: function(s) {\n        this._onExit = s;\n    }\n});\n\nNode.prototype.appendChild = function(child) {\n    child.unlink();\n    child._parent = this;\n    if (this._lastChild) {\n        this._lastChild._next = child;\n        child._prev = this._lastChild;\n        this._lastChild = child;\n    } else {\n        this._firstChild = child;\n        this._lastChild = child;\n    }\n};\n\nNode.prototype.prependChild = function(child) {\n    child.unlink();\n    child._parent = this;\n    if (this._firstChild) {\n        this._firstChild._prev = child;\n        child._next = this._firstChild;\n        this._firstChild = child;\n    } else {\n        this._firstChild = child;\n        this._lastChild = child;\n    }\n};\n\nNode.prototype.unlink = function() {\n    if (this._prev) {\n        this._prev._next = this._next;\n    } else if (this._parent) {\n        this._parent._firstChild = this._next;\n    }\n    if (this._next) {\n        this._next._prev = this._prev;\n    } else if (this._parent) {\n        this._parent._lastChild = this._prev;\n    }\n    this._parent = null;\n    this._next = null;\n    this._prev = null;\n};\n\nNode.prototype.insertAfter = function(sibling) {\n    sibling.unlink();\n    sibling._next = this._next;\n    if (sibling._next) {\n        sibling._next._prev = sibling;\n    }\n    sibling._prev = this;\n    this._next = sibling;\n    sibling._parent = this._parent;\n    if (!sibling._next) {\n        sibling._parent._lastChild = sibling;\n    }\n};\n\nNode.prototype.insertBefore = function(sibling) {\n    sibling.unlink();\n    sibling._prev = this._prev;\n    if (sibling._prev) {\n        sibling._prev._next = sibling;\n    }\n    sibling._next = this;\n    this._prev = sibling;\n    sibling._parent = this._parent;\n    if (!sibling._prev) {\n        sibling._parent._firstChild = sibling;\n    }\n};\n\nNode.prototype.walker = function() {\n    var walker = new NodeWalker(this);\n    return walker;\n};\n\nexport default Node;\n\n/* Example of use of walker:\n\n var walker = w.walker();\n var event;\n\n while (event = walker.next()) {\n console.log(event.entering, event.node.type);\n }\n\n */\n","\"use strict\";\n\n// derived from https://github.com/mathiasbynens/String.fromCodePoint\n/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */\n\nvar _fromCodePoint;\n\nexport default function fromCodePoint(_) {\n    return _fromCodePoint(_);\n}\n\nif (String.fromCodePoint) {\n    _fromCodePoint = function(_) {\n        try {\n            return String.fromCodePoint(_);\n        } catch (e) {\n            if (e instanceof RangeError) {\n                return String.fromCharCode(0xfffd);\n            }\n            throw e;\n        }\n    };\n} else {\n    var stringFromCharCode = String.fromCharCode;\n    var floor = Math.floor;\n    _fromCodePoint = function() {\n        var MAX_SIZE = 0x4000;\n        var codeUnits = [];\n        var highSurrogate;\n        var lowSurrogate;\n        var index = -1;\n        var length = arguments.length;\n        if (!length) {\n            return \"\";\n        }\n        var result = \"\";\n        while (++index < length) {\n            var codePoint = Number(arguments[index]);\n            if (\n                !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                codePoint < 0 || // not a valid Unicode code point\n                codePoint > 0x10ffff || // not a valid Unicode code point\n                floor(codePoint) !== codePoint // not an integer\n            ) {\n                return String.fromCharCode(0xfffd);\n            }\n            if (codePoint <= 0xffff) {\n                // BMP code point\n                codeUnits.push(codePoint);\n            } else {\n                // Astral code point; split in surrogate halves\n                // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                codePoint -= 0x10000;\n                highSurrogate = (codePoint >> 10) + 0xd800;\n                lowSurrogate = (codePoint % 0x400) + 0xdc00;\n                codeUnits.push(highSurrogate, lowSurrogate);\n            }\n            if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n                result += stringFromCharCode.apply(null, codeUnits);\n                codeUnits.length = 0;\n            }\n        }\n        return result;\n    };\n}\n","\"use strict\";\n\nimport encode from \"mdurl/encode.js\";\nimport { decodeHTML } from \"entities\";\n\nvar C_BACKSLASH = 92;\n\nvar ENTITY = \"&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});\";\n\nvar TAGNAME = \"[A-Za-z][A-Za-z0-9-]*\";\nvar ATTRIBUTENAME = \"[a-zA-Z_:][a-zA-Z0-9:._-]*\";\nvar UNQUOTEDVALUE = \"[^\\\"'=<>`\\\\x00-\\\\x20]+\";\nvar SINGLEQUOTEDVALUE = \"'[^']*'\";\nvar DOUBLEQUOTEDVALUE = '\"[^\"]*\"';\nvar ATTRIBUTEVALUE =\n    \"(?:\" +\n    UNQUOTEDVALUE +\n    \"|\" +\n    SINGLEQUOTEDVALUE +\n    \"|\" +\n    DOUBLEQUOTEDVALUE +\n    \")\";\nvar ATTRIBUTEVALUESPEC = \"(?:\" + \"\\\\s*=\" + \"\\\\s*\" + ATTRIBUTEVALUE + \")\";\nvar ATTRIBUTE = \"(?:\" + \"\\\\s+\" + ATTRIBUTENAME + ATTRIBUTEVALUESPEC + \"?)\";\nvar OPENTAG = \"<\" + TAGNAME + ATTRIBUTE + \"*\" + \"\\\\s*/?>\";\nvar CLOSETAG = \"</\" + TAGNAME + \"\\\\s*[>]\";\nvar HTMLCOMMENT = \"<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->\";\nvar PROCESSINGINSTRUCTION = \"[<][?][\\\\s\\\\S]*?[?][>]\";\nvar DECLARATION = \"<![A-Z]+\" + \"\\\\s+[^>]*>\";\nvar CDATA = \"<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\";\nvar HTMLTAG =\n    \"(?:\" +\n    OPENTAG +\n    \"|\" +\n    CLOSETAG +\n    \"|\" +\n    HTMLCOMMENT +\n    \"|\" +\n    PROCESSINGINSTRUCTION +\n    \"|\" +\n    DECLARATION +\n    \"|\" +\n    CDATA +\n    \")\";\nvar reHtmlTag = new RegExp(\"^\" + HTMLTAG);\n\nvar reBackslashOrAmp = /[\\\\&]/;\n\nvar ESCAPABLE = \"[!\\\"#$%&'()*+,./:;<=>?@[\\\\\\\\\\\\]^_`{|}~-]\";\n\nvar reEntityOrEscapedChar = new RegExp(\"\\\\\\\\\" + ESCAPABLE + \"|\" + ENTITY, \"gi\");\n\nvar XMLSPECIAL = '[&<>\"]';\n\nvar reXmlSpecial = new RegExp(XMLSPECIAL, \"g\");\n\nvar unescapeChar = function(s) {\n    if (s.charCodeAt(0) === C_BACKSLASH) {\n        return s.charAt(1);\n    } else {\n        return decodeHTML(s);\n    }\n};\n\n// Replace entities and backslash escapes with literal characters.\nvar unescapeString = function(s) {\n    if (reBackslashOrAmp.test(s)) {\n        return s.replace(reEntityOrEscapedChar, unescapeChar);\n    } else {\n        return s;\n    }\n};\n\nvar normalizeURI = function(uri) {\n    try {\n        return encode(uri);\n    } catch (err) {\n        return uri;\n    }\n};\n\nvar replaceUnsafeChar = function(s) {\n    switch (s) {\n        case \"&\":\n            return \"&amp;\";\n        case \"<\":\n            return \"&lt;\";\n        case \">\":\n            return \"&gt;\";\n        case '\"':\n            return \"&quot;\";\n        default:\n            return s;\n    }\n};\n\nvar escapeXml = function(s) {\n    if (reXmlSpecial.test(s)) {\n        return s.replace(reXmlSpecial, replaceUnsafeChar);\n    } else {\n        return s;\n    }\n};\n\nexport {\n    unescapeString,\n    normalizeURI,\n    escapeXml,\n    reHtmlTag,\n    OPENTAG,\n    CLOSETAG,\n    ENTITY,\n    ESCAPABLE\n};\n","\"use strict\";\n\nimport Node from \"./node.js\";\nimport * as common from \"./common.js\";\nimport fromCodePoint from \"./from-code-point.js\";\nimport { decodeHTML } from \"entities\";\nimport \"string.prototype.repeat\"; // Polyfill for String.prototype.repeat\n\nvar normalizeURI = common.normalizeURI;\nvar unescapeString = common.unescapeString;\n\n// Constants for character codes:\n\nvar C_NEWLINE = 10;\nvar C_ASTERISK = 42;\nvar C_UNDERSCORE = 95;\nvar C_BACKTICK = 96;\nvar C_OPEN_BRACKET = 91;\nvar C_CLOSE_BRACKET = 93;\nvar C_LESSTHAN = 60;\nvar C_BANG = 33;\nvar C_BACKSLASH = 92;\nvar C_AMPERSAND = 38;\nvar C_OPEN_PAREN = 40;\nvar C_CLOSE_PAREN = 41;\nvar C_COLON = 58;\nvar C_SINGLEQUOTE = 39;\nvar C_DOUBLEQUOTE = 34;\n\n// Some regexps used in inline parser:\n\nvar ESCAPABLE = common.ESCAPABLE;\nvar ESCAPED_CHAR = \"\\\\\\\\\" + ESCAPABLE;\n\nvar ENTITY = common.ENTITY;\nvar reHtmlTag = common.reHtmlTag;\n\nvar rePunctuation = new RegExp(\n    /[!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n);\n\nvar reLinkTitle = new RegExp(\n    '^(?:\"(' +\n        ESCAPED_CHAR +\n        '|[^\"\\\\x00])*\"' +\n        \"|\" +\n        \"'(\" +\n        ESCAPED_CHAR +\n        \"|[^'\\\\x00])*'\" +\n        \"|\" +\n        \"\\\\((\" +\n        ESCAPED_CHAR +\n        \"|[^()\\\\x00])*\\\\))\"\n);\n\nvar reLinkDestinationBraces = /^(?:<(?:[^<>\\n\\\\\\x00]|\\\\.)*>)/;\n\nvar reEscapable = new RegExp(\"^\" + ESCAPABLE);\n\nvar reEntityHere = new RegExp(\"^\" + ENTITY, \"i\");\n\nvar reTicks = /`+/;\n\nvar reTicksHere = /^`+/;\n\nvar reEllipses = /\\.\\.\\./g;\n\nvar reDash = /--+/g;\n\nvar reEmailAutolink = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\n\nvar reAutolink = /^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\\x00-\\x20]*>/i;\n\nvar reSpnl = /^ *(?:\\n *)?/;\n\nvar reWhitespaceChar = /^[ \\t\\n\\x0b\\x0c\\x0d]/;\n\nvar reUnicodeWhitespaceChar = /^\\s/;\n\nvar reFinalSpace = / *$/;\n\nvar reInitialSpace = /^ */;\n\nvar reSpaceAtEndOfLine = /^ *(?:\\n|$)/;\n\nvar reLinkLabel = /^\\[(?:[^\\\\\\[\\]]|\\\\.){0,1000}\\]/;\n\n// Matches a string of non-special characters.\nvar reMain = /^[^\\n`\\[\\]\\\\!<&*_'\"]+/m;\n\nvar text = function(s) {\n    var node = new Node(\"text\");\n    node._literal = s;\n    return node;\n};\n\n// normalize a reference in reference link (remove []s, trim,\n// collapse internal space, unicode case fold.\n// See commonmark/commonmark.js#168.\nvar normalizeReference = function(string) {\n    return string\n        .slice(1, string.length - 1)\n        .trim()\n        .replace(/[ \\t\\r\\n]+/, \" \")\n        .toLowerCase()\n        .toUpperCase();\n};\n\n// INLINE PARSER\n\n// These are methods of an InlineParser object, defined below.\n// An InlineParser keeps track of a subject (a string to be\n// parsed) and a position in that subject.\n\n// If re matches at current position in the subject, advance\n// position in subject and return the match; otherwise return null.\nvar match = function(re) {\n    var m = re.exec(this.subject.slice(this.pos));\n    if (m === null) {\n        return null;\n    } else {\n        this.pos += m.index + m[0].length;\n        return m[0];\n    }\n};\n\n// Returns the code for the character at the current subject position, or -1\n// there are no more characters.\nvar peek = function() {\n    if (this.pos < this.subject.length) {\n        return this.subject.charCodeAt(this.pos);\n    } else {\n        return -1;\n    }\n};\n\n// Parse zero or more space characters, including at most one newline\nvar spnl = function() {\n    this.match(reSpnl);\n    return true;\n};\n\n// All of the parsers below try to match something at the current position\n// in the subject.  If they succeed in matching anything, they\n// return the inline matched, advancing the subject.\n\n// Attempt to parse backticks, adding either a backtick code span or a\n// literal sequence of backticks.\nvar parseBackticks = function(block) {\n    var ticks = this.match(reTicksHere);\n    if (ticks === null) {\n        return false;\n    }\n    var afterOpenTicks = this.pos;\n    var matched;\n    var node;\n    var contents;\n    while ((matched = this.match(reTicks)) !== null) {\n        if (matched === ticks) {\n            node = new Node(\"code\");\n            contents = this.subject\n                .slice(afterOpenTicks, this.pos - ticks.length)\n                .replace(/\\n/gm, \" \");\n            if (\n                contents.length > 0 &&\n                contents.match(/[^ ]/) !== null &&\n                contents[0] == \" \" &&\n                contents[contents.length - 1] == \" \"\n            ) {\n                node._literal = contents.slice(1, contents.length - 1);\n            } else {\n                node._literal = contents;\n            }\n            block.appendChild(node);\n            return true;\n        }\n    }\n    // If we got here, we didn't match a closing backtick sequence.\n    this.pos = afterOpenTicks;\n    block.appendChild(text(ticks));\n    return true;\n};\n\n// Parse a backslash-escaped special character, adding either the escaped\n// character, a hard line break (if the backslash is followed by a newline),\n// or a literal backslash to the block's children.  Assumes current character\n// is a backslash.\nvar parseBackslash = function(block) {\n    var subj = this.subject;\n    var node;\n    this.pos += 1;\n    if (this.peek() === C_NEWLINE) {\n        this.pos += 1;\n        node = new Node(\"linebreak\");\n        block.appendChild(node);\n    } else if (reEscapable.test(subj.charAt(this.pos))) {\n        block.appendChild(text(subj.charAt(this.pos)));\n        this.pos += 1;\n    } else {\n        block.appendChild(text(\"\\\\\"));\n    }\n    return true;\n};\n\n// Attempt to parse an autolink (URL or email in pointy brackets).\nvar parseAutolink = function(block) {\n    var m;\n    var dest;\n    var node;\n    if ((m = this.match(reEmailAutolink))) {\n        dest = m.slice(1, m.length - 1);\n        node = new Node(\"link\");\n        node._destination = normalizeURI(\"mailto:\" + dest);\n        node._title = \"\";\n        node.appendChild(text(dest));\n        block.appendChild(node);\n        return true;\n    } else if ((m = this.match(reAutolink))) {\n        dest = m.slice(1, m.length - 1);\n        node = new Node(\"link\");\n        node._destination = normalizeURI(dest);\n        node._title = \"\";\n        node.appendChild(text(dest));\n        block.appendChild(node);\n        return true;\n    } else {\n        return false;\n    }\n};\n\n// Attempt to parse a raw HTML tag.\nvar parseHtmlTag = function(block) {\n    var m = this.match(reHtmlTag);\n    if (m === null) {\n        return false;\n    } else {\n        var node = new Node(\"html_inline\");\n        node._literal = m;\n        block.appendChild(node);\n        return true;\n    }\n};\n\n// Scan a sequence of characters with code cc, and return information about\n// the number of delimiters and whether they are positioned such that\n// they can open and/or close emphasis or strong emphasis.  A utility\n// function for strong/emph parsing.\nvar scanDelims = function(cc) {\n    var numdelims = 0;\n    var char_before, char_after, cc_after;\n    var startpos = this.pos;\n    var left_flanking, right_flanking, can_open, can_close;\n    var after_is_whitespace,\n        after_is_punctuation,\n        before_is_whitespace,\n        before_is_punctuation;\n\n    if (cc === C_SINGLEQUOTE || cc === C_DOUBLEQUOTE) {\n        numdelims++;\n        this.pos++;\n    } else {\n        while (this.peek() === cc) {\n            numdelims++;\n            this.pos++;\n        }\n    }\n\n    if (numdelims === 0) {\n        return null;\n    }\n\n    char_before = startpos === 0 ? \"\\n\" : this.subject.charAt(startpos - 1);\n\n    cc_after = this.peek();\n    if (cc_after === -1) {\n        char_after = \"\\n\";\n    } else {\n        char_after = fromCodePoint(cc_after);\n    }\n\n    after_is_whitespace = reUnicodeWhitespaceChar.test(char_after);\n    after_is_punctuation = rePunctuation.test(char_after);\n    before_is_whitespace = reUnicodeWhitespaceChar.test(char_before);\n    before_is_punctuation = rePunctuation.test(char_before);\n\n    left_flanking =\n        !after_is_whitespace &&\n        (!after_is_punctuation ||\n            before_is_whitespace ||\n            before_is_punctuation);\n    right_flanking =\n        !before_is_whitespace &&\n        (!before_is_punctuation || after_is_whitespace || after_is_punctuation);\n    if (cc === C_UNDERSCORE) {\n        can_open = left_flanking && (!right_flanking || before_is_punctuation);\n        can_close = right_flanking && (!left_flanking || after_is_punctuation);\n    } else if (cc === C_SINGLEQUOTE || cc === C_DOUBLEQUOTE) {\n        can_open = left_flanking && !right_flanking;\n        can_close = right_flanking;\n    } else {\n        can_open = left_flanking;\n        can_close = right_flanking;\n    }\n    this.pos = startpos;\n    return { numdelims: numdelims, can_open: can_open, can_close: can_close };\n};\n\n// Handle a delimiter marker for emphasis or a quote.\nvar handleDelim = function(cc, block) {\n    var res = this.scanDelims(cc);\n    if (!res) {\n        return false;\n    }\n    var numdelims = res.numdelims;\n    var startpos = this.pos;\n    var contents;\n\n    this.pos += numdelims;\n    if (cc === C_SINGLEQUOTE) {\n        contents = \"\\u2019\";\n    } else if (cc === C_DOUBLEQUOTE) {\n        contents = \"\\u201C\";\n    } else {\n        contents = this.subject.slice(startpos, this.pos);\n    }\n    var node = text(contents);\n    block.appendChild(node);\n\n    // Add entry to stack for this opener\n    if (\n        (res.can_open || res.can_close) &&\n        (this.options.smart || (cc !== C_SINGLEQUOTE && cc !== C_DOUBLEQUOTE))\n    ) {\n        this.delimiters = {\n            cc: cc,\n            numdelims: numdelims,\n            origdelims: numdelims,\n            node: node,\n            previous: this.delimiters,\n            next: null,\n            can_open: res.can_open,\n            can_close: res.can_close\n        };\n        if (this.delimiters.previous !== null) {\n            this.delimiters.previous.next = this.delimiters;\n        }\n    }\n\n    return true;\n};\n\nvar removeDelimiter = function(delim) {\n    if (delim.previous !== null) {\n        delim.previous.next = delim.next;\n    }\n    if (delim.next === null) {\n        // top of stack\n        this.delimiters = delim.previous;\n    } else {\n        delim.next.previous = delim.previous;\n    }\n};\n\nvar removeDelimitersBetween = function(bottom, top) {\n    if (bottom.next !== top) {\n        bottom.next = top;\n        top.previous = bottom;\n    }\n};\n\nvar processEmphasis = function(stack_bottom) {\n    var opener, closer, old_closer;\n    var opener_inl, closer_inl;\n    var tempstack;\n    var use_delims;\n    var tmp, next;\n    var opener_found;\n    var openers_bottom = [[], [], []];\n    var odd_match = false;\n\n    for (var i = 0; i < 3; i++) {\n        openers_bottom[i][C_UNDERSCORE] = stack_bottom;\n        openers_bottom[i][C_ASTERISK] = stack_bottom;\n        openers_bottom[i][C_SINGLEQUOTE] = stack_bottom;\n        openers_bottom[i][C_DOUBLEQUOTE] = stack_bottom;\n    }\n    // find first closer above stack_bottom:\n    closer = this.delimiters;\n    while (closer !== null && closer.previous !== stack_bottom) {\n        closer = closer.previous;\n    }\n    // move forward, looking for closers, and handling each\n    while (closer !== null) {\n        var closercc = closer.cc;\n        if (!closer.can_close) {\n            closer = closer.next;\n        } else {\n            // found emphasis closer. now look back for first matching opener:\n            opener = closer.previous;\n            opener_found = false;\n            while (\n                opener !== null &&\n                opener !== stack_bottom &&\n                opener !== openers_bottom[closer.origdelims % 3][closercc]\n            ) {\n                odd_match =\n                    (closer.can_open || opener.can_close) &&\n                    closer.origdelims % 3 !== 0 &&\n                    (opener.origdelims + closer.origdelims) % 3 === 0;\n                if (opener.cc === closer.cc && opener.can_open && !odd_match) {\n                    opener_found = true;\n                    break;\n                }\n                opener = opener.previous;\n            }\n            old_closer = closer;\n\n            if (closercc === C_ASTERISK || closercc === C_UNDERSCORE) {\n                if (!opener_found) {\n                    closer = closer.next;\n                } else {\n                    // calculate actual number of delimiters used from closer\n                    use_delims =\n                        closer.numdelims >= 2 && opener.numdelims >= 2 ? 2 : 1;\n\n                    opener_inl = opener.node;\n                    closer_inl = closer.node;\n\n                    // remove used delimiters from stack elts and inlines\n                    opener.numdelims -= use_delims;\n                    closer.numdelims -= use_delims;\n                    opener_inl._literal = opener_inl._literal.slice(\n                        0,\n                        opener_inl._literal.length - use_delims\n                    );\n                    closer_inl._literal = closer_inl._literal.slice(\n                        0,\n                        closer_inl._literal.length - use_delims\n                    );\n\n                    // build contents for new emph element\n                    var emph = new Node(use_delims === 1 ? \"emph\" : \"strong\");\n\n                    tmp = opener_inl._next;\n                    while (tmp && tmp !== closer_inl) {\n                        next = tmp._next;\n                        tmp.unlink();\n                        emph.appendChild(tmp);\n                        tmp = next;\n                    }\n\n                    opener_inl.insertAfter(emph);\n\n                    // remove elts between opener and closer in delimiters stack\n                    removeDelimitersBetween(opener, closer);\n\n                    // if opener has 0 delims, remove it and the inline\n                    if (opener.numdelims === 0) {\n                        opener_inl.unlink();\n                        this.removeDelimiter(opener);\n                    }\n\n                    if (closer.numdelims === 0) {\n                        closer_inl.unlink();\n                        tempstack = closer.next;\n                        this.removeDelimiter(closer);\n                        closer = tempstack;\n                    }\n                }\n            } else if (closercc === C_SINGLEQUOTE) {\n                closer.node._literal = \"\\u2019\";\n                if (opener_found) {\n                    opener.node._literal = \"\\u2018\";\n                }\n                closer = closer.next;\n            } else if (closercc === C_DOUBLEQUOTE) {\n                closer.node._literal = \"\\u201D\";\n                if (opener_found) {\n                    opener.node.literal = \"\\u201C\";\n                }\n                closer = closer.next;\n            }\n            if (!opener_found) {\n                // Set lower bound for future searches for openers:\n                openers_bottom[old_closer.origdelims % 3][closercc] =\n                    old_closer.previous;\n                if (!old_closer.can_open) {\n                    // We can remove a closer that can't be an opener,\n                    // once we've seen there's no matching opener:\n                    this.removeDelimiter(old_closer);\n                }\n            }\n        }\n    }\n\n    // remove all delimiters\n    while (this.delimiters !== null && this.delimiters !== stack_bottom) {\n        this.removeDelimiter(this.delimiters);\n    }\n};\n\n// Attempt to parse link title (sans quotes), returning the string\n// or null if no match.\nvar parseLinkTitle = function() {\n    var title = this.match(reLinkTitle);\n    if (title === null) {\n        return null;\n    } else {\n        // chop off quotes from title and unescape:\n        return unescapeString(title.substr(1, title.length - 2));\n    }\n};\n\n// Attempt to parse link destination, returning the string or\n// null if no match.\nvar parseLinkDestination = function() {\n    var res = this.match(reLinkDestinationBraces);\n    if (res === null) {\n        if (this.peek() === C_LESSTHAN) {\n            return null;\n        }\n        // TODO handrolled parser; res should be null or the string\n        var savepos = this.pos;\n        var openparens = 0;\n        var c;\n        while ((c = this.peek()) !== -1) {\n            if (\n                c === C_BACKSLASH &&\n                reEscapable.test(this.subject.charAt(this.pos + 1))\n            ) {\n                this.pos += 1;\n                if (this.peek() !== -1) {\n                    this.pos += 1;\n                }\n            } else if (c === C_OPEN_PAREN) {\n                this.pos += 1;\n                openparens += 1;\n            } else if (c === C_CLOSE_PAREN) {\n                if (openparens < 1) {\n                    break;\n                } else {\n                    this.pos += 1;\n                    openparens -= 1;\n                }\n            } else if (reWhitespaceChar.exec(fromCodePoint(c)) !== null) {\n                break;\n            } else {\n                this.pos += 1;\n            }\n        }\n        if (this.pos === savepos && c !== C_CLOSE_PAREN) {\n            return null;\n        }\n        if (openparens !== 0) {\n            return null;\n        }\n        res = this.subject.substr(savepos, this.pos - savepos);\n        return normalizeURI(unescapeString(res));\n    } else {\n        // chop off surrounding <..>:\n        return normalizeURI(unescapeString(res.substr(1, res.length - 2)));\n    }\n};\n\n// Attempt to parse a link label, returning number of characters parsed.\nvar parseLinkLabel = function() {\n    var m = this.match(reLinkLabel);\n    if (m === null || m.length > 1001) {\n        return 0;\n    } else {\n        return m.length;\n    }\n};\n\n// Add open bracket to delimiter stack and add a text node to block's children.\nvar parseOpenBracket = function(block) {\n    var startpos = this.pos;\n    this.pos += 1;\n\n    var node = text(\"[\");\n    block.appendChild(node);\n\n    // Add entry to stack for this opener\n    this.addBracket(node, startpos, false);\n    return true;\n};\n\n// IF next character is [, and ! delimiter to delimiter stack and\n// add a text node to block's children.  Otherwise just add a text node.\nvar parseBang = function(block) {\n    var startpos = this.pos;\n    this.pos += 1;\n    if (this.peek() === C_OPEN_BRACKET) {\n        this.pos += 1;\n\n        var node = text(\"![\");\n        block.appendChild(node);\n\n        // Add entry to stack for this opener\n        this.addBracket(node, startpos + 1, true);\n    } else {\n        block.appendChild(text(\"!\"));\n    }\n    return true;\n};\n\n// Try to match close bracket against an opening in the delimiter\n// stack.  Add either a link or image, or a plain [ character,\n// to block's children.  If there is a matching delimiter,\n// remove it from the delimiter stack.\nvar parseCloseBracket = function(block) {\n    var startpos;\n    var is_image;\n    var dest;\n    var title;\n    var matched = false;\n    var reflabel;\n    var opener;\n\n    this.pos += 1;\n    startpos = this.pos;\n\n    // get last [ or ![\n    opener = this.brackets;\n\n    if (opener === null) {\n        // no matched opener, just return a literal\n        block.appendChild(text(\"]\"));\n        return true;\n    }\n\n    if (!opener.active) {\n        // no matched opener, just return a literal\n        block.appendChild(text(\"]\"));\n        // take opener off brackets stack\n        this.removeBracket();\n        return true;\n    }\n\n    // If we got here, open is a potential opener\n    is_image = opener.image;\n\n    // Check to see if we have a link/image\n\n    var savepos = this.pos;\n\n    // Inline link?\n    if (this.peek() === C_OPEN_PAREN) {\n        this.pos++;\n        if (\n            this.spnl() &&\n            (dest = this.parseLinkDestination()) !== null &&\n            this.spnl() &&\n            // make sure there's a space before the title:\n            ((reWhitespaceChar.test(this.subject.charAt(this.pos - 1)) &&\n                (title = this.parseLinkTitle())) ||\n                true) &&\n            this.spnl() &&\n            this.peek() === C_CLOSE_PAREN\n        ) {\n            this.pos += 1;\n            matched = true;\n        } else {\n            this.pos = savepos;\n        }\n    }\n\n    if (!matched) {\n        // Next, see if there's a link label\n        var beforelabel = this.pos;\n        var n = this.parseLinkLabel();\n        if (n > 2) {\n            reflabel = this.subject.slice(beforelabel, beforelabel + n);\n        } else if (!opener.bracketAfter) {\n            // Empty or missing second label means to use the first label as the reference.\n            // The reference must not contain a bracket. If we know there's a bracket, we don't even bother checking it.\n            reflabel = this.subject.slice(opener.index, startpos);\n        }\n        if (n === 0) {\n            // If shortcut reference link, rewind before spaces we skipped.\n            this.pos = savepos;\n        }\n\n        if (reflabel) {\n            // lookup rawlabel in refmap\n            var link = this.refmap[normalizeReference(reflabel)];\n            if (link) {\n                dest = link.destination;\n                title = link.title;\n                matched = true;\n            }\n        }\n    }\n\n    if (matched) {\n        var node = new Node(is_image ? \"image\" : \"link\");\n        node._destination = dest;\n        node._title = title || \"\";\n\n        var tmp, next;\n        tmp = opener.node._next;\n        while (tmp) {\n            next = tmp._next;\n            tmp.unlink();\n            node.appendChild(tmp);\n            tmp = next;\n        }\n        block.appendChild(node);\n        this.processEmphasis(opener.previousDelimiter);\n        this.removeBracket();\n        opener.node.unlink();\n\n        // We remove this bracket and processEmphasis will remove later delimiters.\n        // Now, for a link, we also deactivate earlier link openers.\n        // (no links in links)\n        if (!is_image) {\n            opener = this.brackets;\n            while (opener !== null) {\n                if (!opener.image) {\n                    opener.active = false; // deactivate this opener\n                }\n                opener = opener.previous;\n            }\n        }\n\n        return true;\n    } else {\n        // no match\n\n        this.removeBracket(); // remove this opener from stack\n        this.pos = startpos;\n        block.appendChild(text(\"]\"));\n        return true;\n    }\n};\n\nvar addBracket = function(node, index, image) {\n    if (this.brackets !== null) {\n        this.brackets.bracketAfter = true;\n    }\n    this.brackets = {\n        node: node,\n        previous: this.brackets,\n        previousDelimiter: this.delimiters,\n        index: index,\n        image: image,\n        active: true\n    };\n};\n\nvar removeBracket = function() {\n    this.brackets = this.brackets.previous;\n};\n\n// Attempt to parse an entity.\nvar parseEntity = function(block) {\n    var m;\n    if ((m = this.match(reEntityHere))) {\n        block.appendChild(text(decodeHTML(m)));\n        return true;\n    } else {\n        return false;\n    }\n};\n\n// Parse a run of ordinary characters, or a single character with\n// a special meaning in markdown, as a plain string.\nvar parseString = function(block) {\n    var m;\n    if ((m = this.match(reMain))) {\n        if (this.options.smart) {\n            block.appendChild(\n                text(\n                    m\n                        .replace(reEllipses, \"\\u2026\")\n                        .replace(reDash, function(chars) {\n                            var enCount = 0;\n                            var emCount = 0;\n                            if (chars.length % 3 === 0) {\n                                // If divisible by 3, use all em dashes\n                                emCount = chars.length / 3;\n                            } else if (chars.length % 2 === 0) {\n                                // If divisible by 2, use all en dashes\n                                enCount = chars.length / 2;\n                            } else if (chars.length % 3 === 2) {\n                                // If 2 extra dashes, use en dash for last 2; em dashes for rest\n                                enCount = 1;\n                                emCount = (chars.length - 2) / 3;\n                            } else {\n                                // Use en dashes for last 4 hyphens; em dashes for rest\n                                enCount = 2;\n                                emCount = (chars.length - 4) / 3;\n                            }\n                            return (\n                                \"\\u2014\".repeat(emCount) +\n                                \"\\u2013\".repeat(enCount)\n                            );\n                        })\n                )\n            );\n        } else {\n            block.appendChild(text(m));\n        }\n        return true;\n    } else {\n        return false;\n    }\n};\n\n// Parse a newline.  If it was preceded by two spaces, return a hard\n// line break; otherwise a soft line break.\nvar parseNewline = function(block) {\n    this.pos += 1; // assume we're at a \\n\n    // check previous node for trailing spaces\n    var lastc = block._lastChild;\n    if (\n        lastc &&\n        lastc.type === \"text\" &&\n        lastc._literal[lastc._literal.length - 1] === \" \"\n    ) {\n        var hardbreak = lastc._literal[lastc._literal.length - 2] === \" \";\n        lastc._literal = lastc._literal.replace(reFinalSpace, \"\");\n        block.appendChild(new Node(hardbreak ? \"linebreak\" : \"softbreak\"));\n    } else {\n        block.appendChild(new Node(\"softbreak\"));\n    }\n    this.match(reInitialSpace); // gobble leading spaces in next line\n    return true;\n};\n\n// Attempt to parse a link reference, modifying refmap.\nvar parseReference = function(s, refmap) {\n    this.subject = s;\n    this.pos = 0;\n    var rawlabel;\n    var dest;\n    var title;\n    var matchChars;\n    var startpos = this.pos;\n\n    // label:\n    matchChars = this.parseLinkLabel();\n    if (matchChars === 0) {\n        return 0;\n    } else {\n        rawlabel = this.subject.substr(0, matchChars);\n    }\n\n    // colon:\n    if (this.peek() === C_COLON) {\n        this.pos++;\n    } else {\n        this.pos = startpos;\n        return 0;\n    }\n\n    //  link url\n    this.spnl();\n\n    dest = this.parseLinkDestination();\n    if (dest === null) {\n        this.pos = startpos;\n        return 0;\n    }\n\n    var beforetitle = this.pos;\n    this.spnl();\n    if (this.pos !== beforetitle) {\n        title = this.parseLinkTitle();\n    }\n    if (title === null) {\n        title = \"\";\n        // rewind before spaces\n        this.pos = beforetitle;\n    }\n\n    // make sure we're at line end:\n    var atLineEnd = true;\n    if (this.match(reSpaceAtEndOfLine) === null) {\n        if (title === \"\") {\n            atLineEnd = false;\n        } else {\n            // the potential title we found is not at the line end,\n            // but it could still be a legal link reference if we\n            // discard the title\n            title = \"\";\n            // rewind before spaces\n            this.pos = beforetitle;\n            // and instead check if the link URL is at the line end\n            atLineEnd = this.match(reSpaceAtEndOfLine) !== null;\n        }\n    }\n\n    if (!atLineEnd) {\n        this.pos = startpos;\n        return 0;\n    }\n\n    var normlabel = normalizeReference(rawlabel);\n    if (normlabel === \"\") {\n        // label must contain non-whitespace characters\n        this.pos = startpos;\n        return 0;\n    }\n\n    if (!refmap[normlabel]) {\n        refmap[normlabel] = { destination: dest, title: title };\n    }\n    return this.pos - startpos;\n};\n\n// Parse the next inline element in subject, advancing subject position.\n// On success, add the result to block's children and return true.\n// On failure, return false.\nvar parseInline = function(block) {\n    var res = false;\n    var c = this.peek();\n    if (c === -1) {\n        return false;\n    }\n    switch (c) {\n        case C_NEWLINE:\n            res = this.parseNewline(block);\n            break;\n        case C_BACKSLASH:\n            res = this.parseBackslash(block);\n            break;\n        case C_BACKTICK:\n            res = this.parseBackticks(block);\n            break;\n        case C_ASTERISK:\n        case C_UNDERSCORE:\n            res = this.handleDelim(c, block);\n            break;\n        case C_SINGLEQUOTE:\n        case C_DOUBLEQUOTE:\n            res = this.options.smart && this.handleDelim(c, block);\n            break;\n        case C_OPEN_BRACKET:\n            res = this.parseOpenBracket(block);\n            break;\n        case C_BANG:\n            res = this.parseBang(block);\n            break;\n        case C_CLOSE_BRACKET:\n            res = this.parseCloseBracket(block);\n            break;\n        case C_LESSTHAN:\n            res = this.parseAutolink(block) || this.parseHtmlTag(block);\n            break;\n        case C_AMPERSAND:\n            res = this.parseEntity(block);\n            break;\n        default:\n            res = this.parseString(block);\n            break;\n    }\n    if (!res) {\n        this.pos += 1;\n        block.appendChild(text(fromCodePoint(c)));\n    }\n\n    return true;\n};\n\n// Parse string content in block into inline children,\n// using refmap to resolve references.\nvar parseInlines = function(block) {\n    this.subject = block._string_content.trim();\n    this.pos = 0;\n    this.delimiters = null;\n    this.brackets = null;\n    while (this.parseInline(block)) {}\n    block._string_content = null; // allow raw string to be garbage collected\n    this.processEmphasis(null);\n};\n\n// The InlineParser object.\nfunction InlineParser(options) {\n    return {\n        subject: \"\",\n        delimiters: null, // used by handleDelim method\n        brackets: null,\n        pos: 0,\n        refmap: {},\n        match: match,\n        peek: peek,\n        spnl: spnl,\n        parseBackticks: parseBackticks,\n        parseBackslash: parseBackslash,\n        parseAutolink: parseAutolink,\n        parseHtmlTag: parseHtmlTag,\n        scanDelims: scanDelims,\n        handleDelim: handleDelim,\n        parseLinkTitle: parseLinkTitle,\n        parseLinkDestination: parseLinkDestination,\n        parseLinkLabel: parseLinkLabel,\n        parseOpenBracket: parseOpenBracket,\n        parseBang: parseBang,\n        parseCloseBracket: parseCloseBracket,\n        addBracket: addBracket,\n        removeBracket: removeBracket,\n        parseEntity: parseEntity,\n        parseString: parseString,\n        parseNewline: parseNewline,\n        parseReference: parseReference,\n        parseInline: parseInline,\n        processEmphasis: processEmphasis,\n        removeDelimiter: removeDelimiter,\n        options: options || {},\n        parse: parseInlines\n    };\n}\n\nexport default InlineParser;\n","\"use strict\";\n\nimport Node from \"./node.js\";\nimport { unescapeString, OPENTAG, CLOSETAG } from \"./common.js\";\nimport InlineParser from \"./inlines.js\";\n\nvar CODE_INDENT = 4;\n\nvar C_TAB = 9;\nvar C_NEWLINE = 10;\nvar C_GREATERTHAN = 62;\nvar C_LESSTHAN = 60;\nvar C_SPACE = 32;\nvar C_OPEN_BRACKET = 91;\n\nvar reHtmlBlockOpen = [\n    /./, // dummy for 0\n    /^<(?:script|pre|textarea|style)(?:\\s|>|$)/i,\n    /^<!--/,\n    /^<[?]/,\n    /^<![A-Z]/,\n    /^<!\\[CDATA\\[/,\n    /^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\\s|[/]?[>]|$)/i,\n    new RegExp(\"^(?:\" + OPENTAG + \"|\" + CLOSETAG + \")\\\\s*$\", \"i\")\n];\n\nvar reHtmlBlockClose = [\n    /./, // dummy for 0\n    /<\\/(?:script|pre|textarea|style)>/i,\n    /-->/,\n    /\\?>/,\n    />/,\n    /\\]\\]>/\n];\n\nvar reThematicBreak = /^(?:(?:\\*[ \\t]*){3,}|(?:_[ \\t]*){3,}|(?:-[ \\t]*){3,})[ \\t]*$/;\n\nvar reMaybeSpecial = /^[#`~*+_=<>0-9-]/;\n\nvar reNonSpace = /[^ \\t\\f\\v\\r\\n]/;\n\nvar reBulletListMarker = /^[*+-]/;\n\nvar reOrderedListMarker = /^(\\d{1,9})([.)])/;\n\nvar reATXHeadingMarker = /^#{1,6}(?:[ \\t]+|$)/;\n\nvar reCodeFence = /^`{3,}(?!.*`)|^~{3,}/;\n\nvar reClosingCodeFence = /^(?:`{3,}|~{3,})(?= *$)/;\n\nvar reSetextHeadingLine = /^(?:=+|-+)[ \\t]*$/;\n\nvar reLineEnding = /\\r\\n|\\n|\\r/;\n\n// Returns true if string contains only space characters.\nvar isBlank = function(s) {\n    return !reNonSpace.test(s);\n};\n\nvar isSpaceOrTab = function(c) {\n    return c === C_SPACE || c === C_TAB;\n};\n\nvar peek = function(ln, pos) {\n    if (pos < ln.length) {\n        return ln.charCodeAt(pos);\n    } else {\n        return -1;\n    }\n};\n\n// DOC PARSER\n\n// These are methods of a Parser object, defined below.\n\n// Returns true if block ends with a blank line, descending if needed\n// into lists and sublists.\nvar endsWithBlankLine = function(block) {\n    while (block) {\n        if (block._lastLineBlank) {\n            return true;\n        }\n        var t = block.type;\n        if (!block._lastLineChecked && (t === \"list\" || t === \"item\")) {\n            block._lastLineChecked = true;\n            block = block._lastChild;\n        } else {\n            block._lastLineChecked = true;\n            break;\n        }\n    }\n    return false;\n};\n\n// Add a line to the block at the tip.  We assume the tip\n// can accept lines -- that check should be done before calling this.\nvar addLine = function() {\n    if (this.partiallyConsumedTab) {\n        this.offset += 1; // skip over tab\n        // add space characters:\n        var charsToTab = 4 - (this.column % 4);\n        this.tip._string_content += \" \".repeat(charsToTab);\n    }\n    this.tip._string_content += this.currentLine.slice(this.offset) + \"\\n\";\n};\n\n// Add block of type tag as a child of the tip.  If the tip can't\n// accept children, close and finalize it and try its parent,\n// and so on til we find a block that can accept children.\nvar addChild = function(tag, offset) {\n    while (!this.blocks[this.tip.type].canContain(tag)) {\n        this.finalize(this.tip, this.lineNumber - 1);\n    }\n\n    var column_number = offset + 1; // offset 0 = column 1\n    var newBlock = new Node(tag, [\n        [this.lineNumber, column_number],\n        [0, 0]\n    ]);\n    newBlock._string_content = \"\";\n    this.tip.appendChild(newBlock);\n    this.tip = newBlock;\n    return newBlock;\n};\n\n// Parse a list marker and return data on the marker (type,\n// start, delimiter, bullet character, padding) or null.\nvar parseListMarker = function(parser, container) {\n    var rest = parser.currentLine.slice(parser.nextNonspace);\n    var match;\n    var nextc;\n    var spacesStartCol;\n    var spacesStartOffset;\n    var data = {\n        type: null,\n        tight: true, // lists are tight by default\n        bulletChar: null,\n        start: null,\n        delimiter: null,\n        padding: null,\n        markerOffset: parser.indent\n    };\n    if (parser.indent >= 4) {\n        return null;\n    }\n    if ((match = rest.match(reBulletListMarker))) {\n        data.type = \"bullet\";\n        data.bulletChar = match[0][0];\n    } else if (\n        (match = rest.match(reOrderedListMarker)) &&\n        (container.type !== \"paragraph\" || match[1] === \"1\")\n    ) {\n        data.type = \"ordered\";\n        data.start = parseInt(match[1]);\n        data.delimiter = match[2];\n    } else {\n        return null;\n    }\n    // make sure we have spaces after\n    nextc = peek(parser.currentLine, parser.nextNonspace + match[0].length);\n    if (!(nextc === -1 || nextc === C_TAB || nextc === C_SPACE)) {\n        return null;\n    }\n\n    // if it interrupts paragraph, make sure first line isn't blank\n    if (\n        container.type === \"paragraph\" &&\n        !parser.currentLine\n            .slice(parser.nextNonspace + match[0].length)\n            .match(reNonSpace)\n    ) {\n        return null;\n    }\n\n    // we've got a match! advance offset and calculate padding\n    parser.advanceNextNonspace(); // to start of marker\n    parser.advanceOffset(match[0].length, true); // to end of marker\n    spacesStartCol = parser.column;\n    spacesStartOffset = parser.offset;\n    do {\n        parser.advanceOffset(1, true);\n        nextc = peek(parser.currentLine, parser.offset);\n    } while (parser.column - spacesStartCol < 5 && isSpaceOrTab(nextc));\n    var blank_item = peek(parser.currentLine, parser.offset) === -1;\n    var spaces_after_marker = parser.column - spacesStartCol;\n    if (spaces_after_marker >= 5 || spaces_after_marker < 1 || blank_item) {\n        data.padding = match[0].length + 1;\n        parser.column = spacesStartCol;\n        parser.offset = spacesStartOffset;\n        if (isSpaceOrTab(peek(parser.currentLine, parser.offset))) {\n            parser.advanceOffset(1, true);\n        }\n    } else {\n        data.padding = match[0].length + spaces_after_marker;\n    }\n    return data;\n};\n\n// Returns true if the two list items are of the same type,\n// with the same delimiter and bullet character.  This is used\n// in agglomerating list items into lists.\nvar listsMatch = function(list_data, item_data) {\n    return (\n        list_data.type === item_data.type &&\n        list_data.delimiter === item_data.delimiter &&\n        list_data.bulletChar === item_data.bulletChar\n    );\n};\n\n// Finalize and close any unmatched blocks.\nvar closeUnmatchedBlocks = function() {\n    if (!this.allClosed) {\n        // finalize any blocks not matched\n        while (this.oldtip !== this.lastMatchedContainer) {\n            var parent = this.oldtip._parent;\n            this.finalize(this.oldtip, this.lineNumber - 1);\n            this.oldtip = parent;\n        }\n        this.allClosed = true;\n    }\n};\n\n// 'finalize' is run when the block is closed.\n// 'continue' is run to check whether the block is continuing\n// at a certain line and offset (e.g. whether a block quote\n// contains a `>`.  It returns 0 for matched, 1 for not matched,\n// and 2 for \"we've dealt with this line completely, go to next.\"\nvar blocks = {\n    document: {\n        continue: function() {\n            return 0;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function(t) {\n            return t !== \"item\";\n        },\n        acceptsLines: false\n    },\n    list: {\n        continue: function() {\n            return 0;\n        },\n        finalize: function(parser, block) {\n            var item = block._firstChild;\n            while (item) {\n                // check for non-final list item ending with blank line:\n                if (endsWithBlankLine(item) && item._next) {\n                    block._listData.tight = false;\n                    break;\n                }\n                // recurse into children of list item, to see if there are\n                // spaces between any of them:\n                var subitem = item._firstChild;\n                while (subitem) {\n                    if (\n                        endsWithBlankLine(subitem) &&\n                        (item._next || subitem._next)\n                    ) {\n                        block._listData.tight = false;\n                        break;\n                    }\n                    subitem = subitem._next;\n                }\n                item = item._next;\n            }\n        },\n        canContain: function(t) {\n            return t === \"item\";\n        },\n        acceptsLines: false\n    },\n    block_quote: {\n        continue: function(parser) {\n            var ln = parser.currentLine;\n            if (\n                !parser.indented &&\n                peek(ln, parser.nextNonspace) === C_GREATERTHAN\n            ) {\n                parser.advanceNextNonspace();\n                parser.advanceOffset(1, false);\n                if (isSpaceOrTab(peek(ln, parser.offset))) {\n                    parser.advanceOffset(1, true);\n                }\n            } else {\n                return 1;\n            }\n            return 0;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function(t) {\n            return t !== \"item\";\n        },\n        acceptsLines: false\n    },\n    item: {\n        continue: function(parser, container) {\n            if (parser.blank) {\n                if (container._firstChild == null) {\n                    // Blank line after empty list item\n                    return 1;\n                } else {\n                    parser.advanceNextNonspace();\n                }\n            } else if (\n                parser.indent >=\n                container._listData.markerOffset + container._listData.padding\n            ) {\n                parser.advanceOffset(\n                    container._listData.markerOffset +\n                        container._listData.padding,\n                    true\n                );\n            } else {\n                return 1;\n            }\n            return 0;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function(t) {\n            return t !== \"item\";\n        },\n        acceptsLines: false\n    },\n    heading: {\n        continue: function() {\n            // a heading can never container > 1 line, so fail to match:\n            return 1;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: false\n    },\n    thematic_break: {\n        continue: function() {\n            // a thematic break can never container > 1 line, so fail to match:\n            return 1;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: false\n    },\n    code_block: {\n        continue: function(parser, container) {\n            var ln = parser.currentLine;\n            var indent = parser.indent;\n            if (container._isFenced) {\n                // fenced\n                var match =\n                    indent <= 3 &&\n                    ln.charAt(parser.nextNonspace) === container._fenceChar &&\n                    ln.slice(parser.nextNonspace).match(reClosingCodeFence);\n                if (match && match[0].length >= container._fenceLength) {\n                    // closing fence - we're at end of line, so we can return\n                    parser.lastLineLength =\n                        parser.offset + indent + match[0].length;\n                    parser.finalize(container, parser.lineNumber);\n                    return 2;\n                } else {\n                    // skip optional spaces of fence offset\n                    var i = container._fenceOffset;\n                    while (i > 0 && isSpaceOrTab(peek(ln, parser.offset))) {\n                        parser.advanceOffset(1, true);\n                        i--;\n                    }\n                }\n            } else {\n                // indented\n                if (indent >= CODE_INDENT) {\n                    parser.advanceOffset(CODE_INDENT, true);\n                } else if (parser.blank) {\n                    parser.advanceNextNonspace();\n                } else {\n                    return 1;\n                }\n            }\n            return 0;\n        },\n        finalize: function(parser, block) {\n            if (block._isFenced) {\n                // fenced\n                // first line becomes info string\n                var content = block._string_content;\n                var newlinePos = content.indexOf(\"\\n\");\n                var firstLine = content.slice(0, newlinePos);\n                var rest = content.slice(newlinePos + 1);\n                block.info = unescapeString(firstLine.trim());\n                block._literal = rest;\n            } else {\n                // indented\n                block._literal = block._string_content.replace(\n                    /(\\n *)+$/,\n                    \"\\n\"\n                );\n            }\n            block._string_content = null; // allow GC\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: true\n    },\n    html_block: {\n        continue: function(parser, container) {\n            return parser.blank &&\n                (container._htmlBlockType === 6 ||\n                    container._htmlBlockType === 7)\n                ? 1\n                : 0;\n        },\n        finalize: function(parser, block) {\n            block._literal = block._string_content.replace(/(\\n *)+$/, \"\");\n            block._string_content = null; // allow GC\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: true\n    },\n    paragraph: {\n        continue: function(parser) {\n            return parser.blank ? 1 : 0;\n        },\n        finalize: function(parser, block) {\n            var pos;\n            var hasReferenceDefs = false;\n\n            // try parsing the beginning as link reference definitions:\n            while (\n                peek(block._string_content, 0) === C_OPEN_BRACKET &&\n                (pos = parser.inlineParser.parseReference(\n                    block._string_content,\n                    parser.refmap\n                ))\n            ) {\n                block._string_content = block._string_content.slice(pos);\n                hasReferenceDefs = true;\n            }\n            if (hasReferenceDefs && isBlank(block._string_content)) {\n                block.unlink();\n            }\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: true\n    }\n};\n\n// block start functions.  Return values:\n// 0 = no match\n// 1 = matched container, keep going\n// 2 = matched leaf, no more block starts\nvar blockStarts = [\n    // block quote\n    function(parser) {\n        if (\n            !parser.indented &&\n            peek(parser.currentLine, parser.nextNonspace) === C_GREATERTHAN\n        ) {\n            parser.advanceNextNonspace();\n            parser.advanceOffset(1, false);\n            // optional following space\n            if (isSpaceOrTab(peek(parser.currentLine, parser.offset))) {\n                parser.advanceOffset(1, true);\n            }\n            parser.closeUnmatchedBlocks();\n            parser.addChild(\"block_quote\", parser.nextNonspace);\n            return 1;\n        } else {\n            return 0;\n        }\n    },\n\n    // ATX heading\n    function(parser) {\n        var match;\n        if (\n            !parser.indented &&\n            (match = parser.currentLine\n                .slice(parser.nextNonspace)\n                .match(reATXHeadingMarker))\n        ) {\n            parser.advanceNextNonspace();\n            parser.advanceOffset(match[0].length, false);\n            parser.closeUnmatchedBlocks();\n            var container = parser.addChild(\"heading\", parser.nextNonspace);\n            container.level = match[0].trim().length; // number of #s\n            // remove trailing ###s:\n            container._string_content = parser.currentLine\n                .slice(parser.offset)\n                .replace(/^[ \\t]*#+[ \\t]*$/, \"\")\n                .replace(/[ \\t]+#+[ \\t]*$/, \"\");\n            parser.advanceOffset(parser.currentLine.length - parser.offset);\n            return 2;\n        } else {\n            return 0;\n        }\n    },\n\n    // Fenced code block\n    function(parser) {\n        var match;\n        if (\n            !parser.indented &&\n            (match = parser.currentLine\n                .slice(parser.nextNonspace)\n                .match(reCodeFence))\n        ) {\n            var fenceLength = match[0].length;\n            parser.closeUnmatchedBlocks();\n            var container = parser.addChild(\"code_block\", parser.nextNonspace);\n            container._isFenced = true;\n            container._fenceLength = fenceLength;\n            container._fenceChar = match[0][0];\n            container._fenceOffset = parser.indent;\n            parser.advanceNextNonspace();\n            parser.advanceOffset(fenceLength, false);\n            return 2;\n        } else {\n            return 0;\n        }\n    },\n\n    // HTML block\n    function(parser, container) {\n        if (\n            !parser.indented &&\n            peek(parser.currentLine, parser.nextNonspace) === C_LESSTHAN\n        ) {\n            var s = parser.currentLine.slice(parser.nextNonspace);\n            var blockType;\n\n            for (blockType = 1; blockType <= 7; blockType++) {\n                if (\n                    reHtmlBlockOpen[blockType].test(s) &&\n                    (blockType < 7 || container.type !== \"paragraph\")\n                ) {\n                    parser.closeUnmatchedBlocks();\n                    // We don't adjust parser.offset;\n                    // spaces are part of the HTML block:\n                    var b = parser.addChild(\"html_block\", parser.offset);\n                    b._htmlBlockType = blockType;\n                    return 2;\n                }\n            }\n        }\n\n        return 0;\n    },\n\n    // Setext heading\n    function(parser, container) {\n        var match;\n        if (\n            !parser.indented &&\n            container.type === \"paragraph\" &&\n            (match = parser.currentLine\n                .slice(parser.nextNonspace)\n                .match(reSetextHeadingLine))\n        ) {\n            parser.closeUnmatchedBlocks();\n            // resolve reference link definitiosn\n            var pos;\n            while (\n                peek(container._string_content, 0) === C_OPEN_BRACKET &&\n                (pos = parser.inlineParser.parseReference(\n                    container._string_content,\n                    parser.refmap\n                ))\n            ) {\n                container._string_content = container._string_content.slice(\n                    pos\n                );\n            }\n            if (container._string_content.length > 0) {\n                var heading = new Node(\"heading\", container.sourcepos);\n                heading.level = match[0][0] === \"=\" ? 1 : 2;\n                heading._string_content = container._string_content;\n                container.insertAfter(heading);\n                container.unlink();\n                parser.tip = heading;\n                parser.advanceOffset(\n                    parser.currentLine.length - parser.offset,\n                    false\n                );\n                return 2;\n            } else {\n                return 0;\n            }\n        } else {\n            return 0;\n        }\n    },\n\n    // thematic break\n    function(parser) {\n        if (\n            !parser.indented &&\n            reThematicBreak.test(parser.currentLine.slice(parser.nextNonspace))\n        ) {\n            parser.closeUnmatchedBlocks();\n            parser.addChild(\"thematic_break\", parser.nextNonspace);\n            parser.advanceOffset(\n                parser.currentLine.length - parser.offset,\n                false\n            );\n            return 2;\n        } else {\n            return 0;\n        }\n    },\n\n    // list item\n    function(parser, container) {\n        var data;\n\n        if (\n            (!parser.indented || container.type === \"list\") &&\n            (data = parseListMarker(parser, container))\n        ) {\n            parser.closeUnmatchedBlocks();\n\n            // add the list if needed\n            if (\n                parser.tip.type !== \"list\" ||\n                !listsMatch(container._listData, data)\n            ) {\n                container = parser.addChild(\"list\", parser.nextNonspace);\n                container._listData = data;\n            }\n\n            // add the list item\n            container = parser.addChild(\"item\", parser.nextNonspace);\n            container._listData = data;\n            return 1;\n        } else {\n            return 0;\n        }\n    },\n\n    // indented code block\n    function(parser) {\n        if (\n            parser.indented &&\n            parser.tip.type !== \"paragraph\" &&\n            !parser.blank\n        ) {\n            // indented code\n            parser.advanceOffset(CODE_INDENT, true);\n            parser.closeUnmatchedBlocks();\n            parser.addChild(\"code_block\", parser.offset);\n            return 2;\n        } else {\n            return 0;\n        }\n    }\n];\n\nvar advanceOffset = function(count, columns) {\n    var currentLine = this.currentLine;\n    var charsToTab, charsToAdvance;\n    var c;\n    while (count > 0 && (c = currentLine[this.offset])) {\n        if (c === \"\\t\") {\n            charsToTab = 4 - (this.column % 4);\n            if (columns) {\n                this.partiallyConsumedTab = charsToTab > count;\n                charsToAdvance = charsToTab > count ? count : charsToTab;\n                this.column += charsToAdvance;\n                this.offset += this.partiallyConsumedTab ? 0 : 1;\n                count -= charsToAdvance;\n            } else {\n                this.partiallyConsumedTab = false;\n                this.column += charsToTab;\n                this.offset += 1;\n                count -= 1;\n            }\n        } else {\n            this.partiallyConsumedTab = false;\n            this.offset += 1;\n            this.column += 1; // assume ascii; block starts are ascii\n            count -= 1;\n        }\n    }\n};\n\nvar advanceNextNonspace = function() {\n    this.offset = this.nextNonspace;\n    this.column = this.nextNonspaceColumn;\n    this.partiallyConsumedTab = false;\n};\n\nvar findNextNonspace = function() {\n    var currentLine = this.currentLine;\n    var i = this.offset;\n    var cols = this.column;\n    var c;\n\n    while ((c = currentLine.charAt(i)) !== \"\") {\n        if (c === \" \") {\n            i++;\n            cols++;\n        } else if (c === \"\\t\") {\n            i++;\n            cols += 4 - (cols % 4);\n        } else {\n            break;\n        }\n    }\n    this.blank = c === \"\\n\" || c === \"\\r\" || c === \"\";\n    this.nextNonspace = i;\n    this.nextNonspaceColumn = cols;\n    this.indent = this.nextNonspaceColumn - this.column;\n    this.indented = this.indent >= CODE_INDENT;\n};\n\n// Analyze a line of text and update the document appropriately.\n// We parse markdown text by calling this on each line of input,\n// then finalizing the document.\nvar incorporateLine = function(ln) {\n    var all_matched = true;\n    var t;\n\n    var container = this.doc;\n    this.oldtip = this.tip;\n    this.offset = 0;\n    this.column = 0;\n    this.blank = false;\n    this.partiallyConsumedTab = false;\n    this.lineNumber += 1;\n\n    // replace NUL characters for security\n    if (ln.indexOf(\"\\u0000\") !== -1) {\n        ln = ln.replace(/\\0/g, \"\\uFFFD\");\n    }\n\n    this.currentLine = ln;\n\n    // For each containing block, try to parse the associated line start.\n    // Bail out on failure: container will point to the last matching block.\n    // Set all_matched to false if not all containers match.\n    var lastChild;\n    while ((lastChild = container._lastChild) && lastChild._open) {\n        container = lastChild;\n\n        this.findNextNonspace();\n\n        switch (this.blocks[container.type].continue(this, container)) {\n            case 0: // we've matched, keep going\n                break;\n            case 1: // we've failed to match a block\n                all_matched = false;\n                break;\n            case 2: // we've hit end of line for fenced code close and can return\n                return;\n            default:\n                throw \"continue returned illegal value, must be 0, 1, or 2\";\n        }\n        if (!all_matched) {\n            container = container._parent; // back up to last matching block\n            break;\n        }\n    }\n\n    this.allClosed = container === this.oldtip;\n    this.lastMatchedContainer = container;\n\n    var matchedLeaf =\n        container.type !== \"paragraph\" && blocks[container.type].acceptsLines;\n    var starts = this.blockStarts;\n    var startsLen = starts.length;\n    // Unless last matched container is a code block, try new container starts,\n    // adding children to the last matched container:\n    while (!matchedLeaf) {\n        this.findNextNonspace();\n\n        // this is a little performance optimization:\n        if (\n            !this.indented &&\n            !reMaybeSpecial.test(ln.slice(this.nextNonspace))\n        ) {\n            this.advanceNextNonspace();\n            break;\n        }\n\n        var i = 0;\n        while (i < startsLen) {\n            var res = starts[i](this, container);\n            if (res === 1) {\n                container = this.tip;\n                break;\n            } else if (res === 2) {\n                container = this.tip;\n                matchedLeaf = true;\n                break;\n            } else {\n                i++;\n            }\n        }\n\n        if (i === startsLen) {\n            // nothing matched\n            this.advanceNextNonspace();\n            break;\n        }\n    }\n\n    // What remains at the offset is a text line.  Add the text to the\n    // appropriate container.\n\n    // First check for a lazy paragraph continuation:\n    if (!this.allClosed && !this.blank && this.tip.type === \"paragraph\") {\n        // lazy paragraph continuation\n        this.addLine();\n    } else {\n        // not a lazy continuation\n\n        // finalize any blocks not matched\n        this.closeUnmatchedBlocks();\n        if (this.blank && container.lastChild) {\n            container.lastChild._lastLineBlank = true;\n        }\n\n        t = container.type;\n\n        // Block quote lines are never blank as they start with >\n        // and we don't count blanks in fenced code for purposes of tight/loose\n        // lists or breaking out of lists.  We also don't set _lastLineBlank\n        // on an empty list item, or if we just closed a fenced block.\n        var lastLineBlank =\n            this.blank &&\n            !(\n                t === \"block_quote\" ||\n                (t === \"code_block\" && container._isFenced) ||\n                (t === \"item\" &&\n                    !container._firstChild &&\n                    container.sourcepos[0][0] === this.lineNumber)\n            );\n\n        // propagate lastLineBlank up through parents:\n        var cont = container;\n        while (cont) {\n            cont._lastLineBlank = lastLineBlank;\n            cont = cont._parent;\n        }\n\n        if (this.blocks[t].acceptsLines) {\n            this.addLine();\n            // if HtmlBlock, check for end condition\n            if (\n                t === \"html_block\" &&\n                container._htmlBlockType >= 1 &&\n                container._htmlBlockType <= 5 &&\n                reHtmlBlockClose[container._htmlBlockType].test(\n                    this.currentLine.slice(this.offset)\n                )\n            ) {\n                this.lastLineLength = ln.length;\n                this.finalize(container, this.lineNumber);\n            }\n        } else if (this.offset < ln.length && !this.blank) {\n            // create paragraph container for line\n            container = this.addChild(\"paragraph\", this.offset);\n            this.advanceNextNonspace();\n            this.addLine();\n        }\n    }\n    this.lastLineLength = ln.length;\n};\n\n// Finalize a block.  Close it and do any necessary postprocessing,\n// e.g. creating string_content from strings, setting the 'tight'\n// or 'loose' status of a list, and parsing the beginnings\n// of paragraphs for reference definitions.  Reset the tip to the\n// parent of the closed block.\nvar finalize = function(block, lineNumber) {\n    var above = block._parent;\n    block._open = false;\n    block.sourcepos[1] = [lineNumber, this.lastLineLength];\n\n    this.blocks[block.type].finalize(this, block);\n\n    this.tip = above;\n};\n\n// Walk through a block & children recursively, parsing string content\n// into inline content where appropriate.\nvar processInlines = function(block) {\n    var node, event, t;\n    var walker = block.walker();\n    this.inlineParser.refmap = this.refmap;\n    this.inlineParser.options = this.options;\n    while ((event = walker.next())) {\n        node = event.node;\n        t = node.type;\n        if (!event.entering && (t === \"paragraph\" || t === \"heading\")) {\n            this.inlineParser.parse(node);\n        }\n    }\n};\n\nvar Document = function() {\n    var doc = new Node(\"document\", [\n        [1, 1],\n        [0, 0]\n    ]);\n    return doc;\n};\n\n// The main parsing function.  Returns a parsed document AST.\nvar parse = function(input) {\n    this.doc = new Document();\n    this.tip = this.doc;\n    this.refmap = {};\n    this.lineNumber = 0;\n    this.lastLineLength = 0;\n    this.offset = 0;\n    this.column = 0;\n    this.lastMatchedContainer = this.doc;\n    this.currentLine = \"\";\n    if (this.options.time) {\n        console.time(\"preparing input\");\n    }\n    var lines = input.split(reLineEnding);\n    var len = lines.length;\n    if (input.charCodeAt(input.length - 1) === C_NEWLINE) {\n        // ignore last blank line created by final newline\n        len -= 1;\n    }\n    if (this.options.time) {\n        console.timeEnd(\"preparing input\");\n    }\n    if (this.options.time) {\n        console.time(\"block parsing\");\n    }\n    for (var i = 0; i < len; i++) {\n        this.incorporateLine(lines[i]);\n    }\n    while (this.tip) {\n        this.finalize(this.tip, len);\n    }\n    if (this.options.time) {\n        console.timeEnd(\"block parsing\");\n    }\n    if (this.options.time) {\n        console.time(\"inline parsing\");\n    }\n    this.processInlines(this.doc);\n    if (this.options.time) {\n        console.timeEnd(\"inline parsing\");\n    }\n    return this.doc;\n};\n\n// The Parser object.\nfunction Parser(options) {\n    return {\n        doc: new Document(),\n        blocks: blocks,\n        blockStarts: blockStarts,\n        tip: this.doc,\n        oldtip: this.doc,\n        currentLine: \"\",\n        lineNumber: 0,\n        offset: 0,\n        column: 0,\n        nextNonspace: 0,\n        nextNonspaceColumn: 0,\n        indent: 0,\n        indented: false,\n        blank: false,\n        partiallyConsumedTab: false,\n        allClosed: true,\n        lastMatchedContainer: this.doc,\n        refmap: {},\n        lastLineLength: 0,\n        inlineParser: new InlineParser(options),\n        findNextNonspace: findNextNonspace,\n        advanceOffset: advanceOffset,\n        advanceNextNonspace: advanceNextNonspace,\n        addLine: addLine,\n        addChild: addChild,\n        incorporateLine: incorporateLine,\n        finalize: finalize,\n        processInlines: processInlines,\n        closeUnmatchedBlocks: closeUnmatchedBlocks,\n        parse: parse,\n        options: options || {}\n    };\n}\n\nexport default Parser;\n","\"use strict\";\n\nfunction Renderer() {}\n\n/**\n *  Walks the AST and calls member methods for each Node type.\n *\n *  @param ast {Node} The root of the abstract syntax tree.\n */\nfunction render(ast) {\n    var walker = ast.walker(),\n        event,\n        type;\n\n    this.buffer = \"\";\n    this.lastOut = \"\\n\";\n\n    while ((event = walker.next())) {\n        type = event.node.type;\n        if (this[type]) {\n            this[type](event.node, event.entering);\n        }\n    }\n    return this.buffer;\n}\n\n/**\n *  Concatenate a literal string to the buffer.\n *\n *  @param str {String} The string to concatenate.\n */\nfunction lit(str) {\n    this.buffer += str;\n    this.lastOut = str;\n}\n\n/**\n *  Output a newline to the buffer.\n */\nfunction cr() {\n    if (this.lastOut !== \"\\n\") {\n        this.lit(\"\\n\");\n    }\n}\n\n/**\n *  Concatenate a string to the buffer possibly escaping the content.\n *\n *  Concrete renderer implementations should override this method.\n *\n *  @param str {String} The string to concatenate.\n */\nfunction out(str) {\n    this.lit(str);\n}\n\n/**\n *  Escape a string for the target renderer.\n *\n *  Abstract function that should be implemented by concrete\n *  renderer implementations.\n *\n *  @param str {String} The string to escape.\n */\nfunction esc(str) {\n    return str;\n}\n\nRenderer.prototype.render = render;\nRenderer.prototype.out = out;\nRenderer.prototype.lit = lit;\nRenderer.prototype.cr = cr;\nRenderer.prototype.esc = esc;\n\nexport default Renderer;\n","\"use strict\";\n\nimport { escapeXml } from \"../common.js\";\nimport Renderer from \"./renderer.js\";\n\nvar reUnsafeProtocol = /^javascript:|vbscript:|file:|data:/i;\nvar reSafeDataProtocol = /^data:image\\/(?:png|gif|jpeg|webp)/i;\n\nvar potentiallyUnsafe = function(url) {\n    return reUnsafeProtocol.test(url) && !reSafeDataProtocol.test(url);\n};\n\n// Helper function to produce an HTML tag.\nfunction tag(name, attrs, selfclosing) {\n    if (this.disableTags > 0) {\n        return;\n    }\n    this.buffer += \"<\" + name;\n    if (attrs && attrs.length > 0) {\n        var i = 0;\n        var attrib;\n        while ((attrib = attrs[i]) !== undefined) {\n            this.buffer += \" \" + attrib[0] + '=\"' + attrib[1] + '\"';\n            i++;\n        }\n    }\n    if (selfclosing) {\n        this.buffer += \" /\";\n    }\n    this.buffer += \">\";\n    this.lastOut = \">\";\n}\n\nfunction HtmlRenderer(options) {\n    options = options || {};\n    // by default, soft breaks are rendered as newlines in HTML\n    options.softbreak = options.softbreak || \"\\n\";\n    // set to \"<br />\" to make them hard breaks\n    // set to \" \" if you want to ignore line wrapping in source\n\n    this.disableTags = 0;\n    this.lastOut = \"\\n\";\n    this.options = options;\n}\n\n/* Node methods */\n\nfunction text(node) {\n    this.out(node.literal);\n}\n\nfunction softbreak() {\n    this.lit(this.options.softbreak);\n}\n\nfunction linebreak() {\n    this.tag(\"br\", [], true);\n    this.cr();\n}\n\nfunction link(node, entering) {\n    var attrs = this.attrs(node);\n    if (entering) {\n        if (!(this.options.safe && potentiallyUnsafe(node.destination))) {\n            attrs.push([\"href\", this.esc(node.destination)]);\n        }\n        if (node.title) {\n            attrs.push([\"title\", this.esc(node.title)]);\n        }\n        this.tag(\"a\", attrs);\n    } else {\n        this.tag(\"/a\");\n    }\n}\n\nfunction image(node, entering) {\n    if (entering) {\n        if (this.disableTags === 0) {\n            if (this.options.safe && potentiallyUnsafe(node.destination)) {\n                this.lit('<img src=\"\" alt=\"');\n            } else {\n                this.lit('<img src=\"' + this.esc(node.destination) + '\" alt=\"');\n            }\n        }\n        this.disableTags += 1;\n    } else {\n        this.disableTags -= 1;\n        if (this.disableTags === 0) {\n            if (node.title) {\n                this.lit('\" title=\"' + this.esc(node.title));\n            }\n            this.lit('\" />');\n        }\n    }\n}\n\nfunction emph(node, entering) {\n    this.tag(entering ? \"em\" : \"/em\");\n}\n\nfunction strong(node, entering) {\n    this.tag(entering ? \"strong\" : \"/strong\");\n}\n\nfunction paragraph(node, entering) {\n    var grandparent = node.parent.parent,\n        attrs = this.attrs(node);\n    if (grandparent !== null && grandparent.type === \"list\") {\n        if (grandparent.listTight) {\n            return;\n        }\n    }\n    if (entering) {\n        this.cr();\n        this.tag(\"p\", attrs);\n    } else {\n        this.tag(\"/p\");\n        this.cr();\n    }\n}\n\nfunction heading(node, entering) {\n    var tagname = \"h\" + node.level,\n        attrs = this.attrs(node);\n    if (entering) {\n        this.cr();\n        this.tag(tagname, attrs);\n    } else {\n        this.tag(\"/\" + tagname);\n        this.cr();\n    }\n}\n\nfunction code(node) {\n    this.tag(\"code\");\n    this.out(node.literal);\n    this.tag(\"/code\");\n}\n\nfunction code_block(node) {\n    var info_words = node.info ? node.info.split(/\\s+/) : [],\n        attrs = this.attrs(node);\n    if (info_words.length > 0 && info_words[0].length > 0) {\n        attrs.push([\"class\", \"language-\" + this.esc(info_words[0])]);\n    }\n    this.cr();\n    this.tag(\"pre\");\n    this.tag(\"code\", attrs);\n    this.out(node.literal);\n    this.tag(\"/code\");\n    this.tag(\"/pre\");\n    this.cr();\n}\n\nfunction thematic_break(node) {\n    var attrs = this.attrs(node);\n    this.cr();\n    this.tag(\"hr\", attrs, true);\n    this.cr();\n}\n\nfunction block_quote(node, entering) {\n    var attrs = this.attrs(node);\n    if (entering) {\n        this.cr();\n        this.tag(\"blockquote\", attrs);\n        this.cr();\n    } else {\n        this.cr();\n        this.tag(\"/blockquote\");\n        this.cr();\n    }\n}\n\nfunction list(node, entering) {\n    var tagname = node.listType === \"bullet\" ? \"ul\" : \"ol\",\n        attrs = this.attrs(node);\n\n    if (entering) {\n        var start = node.listStart;\n        if (start !== null && start !== 1) {\n            attrs.push([\"start\", start.toString()]);\n        }\n        this.cr();\n        this.tag(tagname, attrs);\n        this.cr();\n    } else {\n        this.cr();\n        this.tag(\"/\" + tagname);\n        this.cr();\n    }\n}\n\nfunction item(node, entering) {\n    var attrs = this.attrs(node);\n    if (entering) {\n        this.tag(\"li\", attrs);\n    } else {\n        this.tag(\"/li\");\n        this.cr();\n    }\n}\n\nfunction html_inline(node) {\n    if (this.options.safe) {\n        this.lit(\"<!-- raw HTML omitted -->\");\n    } else {\n        this.lit(node.literal);\n    }\n}\n\nfunction html_block(node) {\n    this.cr();\n    if (this.options.safe) {\n        this.lit(\"<!-- raw HTML omitted -->\");\n    } else {\n        this.lit(node.literal);\n    }\n    this.cr();\n}\n\nfunction custom_inline(node, entering) {\n    if (entering && node.onEnter) {\n        this.lit(node.onEnter);\n    } else if (!entering && node.onExit) {\n        this.lit(node.onExit);\n    }\n}\n\nfunction custom_block(node, entering) {\n    this.cr();\n    if (entering && node.onEnter) {\n        this.lit(node.onEnter);\n    } else if (!entering && node.onExit) {\n        this.lit(node.onExit);\n    }\n    this.cr();\n}\n\n/* Helper methods */\n\nfunction out(s) {\n    this.lit(this.esc(s));\n}\n\nfunction attrs(node) {\n    var att = [];\n    if (this.options.sourcepos) {\n        var pos = node.sourcepos;\n        if (pos) {\n            att.push([\n                \"data-sourcepos\",\n                String(pos[0][0]) +\n                    \":\" +\n                    String(pos[0][1]) +\n                    \"-\" +\n                    String(pos[1][0]) +\n                    \":\" +\n                    String(pos[1][1])\n            ]);\n        }\n    }\n    return att;\n}\n\n// quick browser-compatible inheritance\nHtmlRenderer.prototype = Object.create(Renderer.prototype);\n\nHtmlRenderer.prototype.text = text;\nHtmlRenderer.prototype.html_inline = html_inline;\nHtmlRenderer.prototype.html_block = html_block;\nHtmlRenderer.prototype.softbreak = softbreak;\nHtmlRenderer.prototype.linebreak = linebreak;\nHtmlRenderer.prototype.link = link;\nHtmlRenderer.prototype.image = image;\nHtmlRenderer.prototype.emph = emph;\nHtmlRenderer.prototype.strong = strong;\nHtmlRenderer.prototype.paragraph = paragraph;\nHtmlRenderer.prototype.heading = heading;\nHtmlRenderer.prototype.code = code;\nHtmlRenderer.prototype.code_block = code_block;\nHtmlRenderer.prototype.thematic_break = thematic_break;\nHtmlRenderer.prototype.block_quote = block_quote;\nHtmlRenderer.prototype.list = list;\nHtmlRenderer.prototype.item = item;\nHtmlRenderer.prototype.custom_inline = custom_inline;\nHtmlRenderer.prototype.custom_block = custom_block;\n\nHtmlRenderer.prototype.esc = escapeXml;\n\nHtmlRenderer.prototype.out = out;\nHtmlRenderer.prototype.tag = tag;\nHtmlRenderer.prototype.attrs = attrs;\n\nexport default HtmlRenderer;\n","\"use strict\";\n\nimport Renderer from \"./renderer.js\";\nimport { escapeXml } from \"../common.js\";\n\nvar reXMLTag = /\\<[^>]*\\>/;\n\nfunction toTagName(s) {\n    return s.replace(/([a-z])([A-Z])/g, \"$1_$2\").toLowerCase();\n}\n\nfunction XmlRenderer(options) {\n    options = options || {};\n\n    this.disableTags = 0;\n    this.lastOut = \"\\n\";\n\n    this.indentLevel = 0;\n    this.indent = \"  \";\n\n    this.options = options;\n}\n\nfunction render(ast) {\n    this.buffer = \"\";\n\n    var attrs;\n    var tagname;\n    var walker = ast.walker();\n    var event, node, entering;\n    var container;\n    var selfClosing;\n    var nodetype;\n\n    var options = this.options;\n\n    if (options.time) {\n        console.time(\"rendering\");\n    }\n\n    this.buffer += '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n    this.buffer += '<!DOCTYPE document SYSTEM \"CommonMark.dtd\">\\n';\n\n    while ((event = walker.next())) {\n        entering = event.entering;\n        node = event.node;\n        nodetype = node.type;\n\n        container = node.isContainer;\n\n        selfClosing =\n            nodetype === \"thematic_break\" ||\n            nodetype === \"linebreak\" ||\n            nodetype === \"softbreak\";\n\n        tagname = toTagName(nodetype);\n\n        if (entering) {\n            attrs = [];\n\n            switch (nodetype) {\n                case \"document\":\n                    attrs.push([\"xmlns\", \"http://commonmark.org/xml/1.0\"]);\n                    break;\n                case \"list\":\n                    if (node.listType !== null) {\n                        attrs.push([\"type\", node.listType.toLowerCase()]);\n                    }\n                    if (node.listStart !== null) {\n                        attrs.push([\"start\", String(node.listStart)]);\n                    }\n                    if (node.listTight !== null) {\n                        attrs.push([\n                            \"tight\",\n                            node.listTight ? \"true\" : \"false\"\n                        ]);\n                    }\n                    var delim = node.listDelimiter;\n                    if (delim !== null) {\n                        var delimword = \"\";\n                        if (delim === \".\") {\n                            delimword = \"period\";\n                        } else {\n                            delimword = \"paren\";\n                        }\n                        attrs.push([\"delimiter\", delimword]);\n                    }\n                    break;\n                case \"code_block\":\n                    if (node.info) {\n                        attrs.push([\"info\", node.info]);\n                    }\n                    break;\n                case \"heading\":\n                    attrs.push([\"level\", String(node.level)]);\n                    break;\n                case \"link\":\n                case \"image\":\n                    attrs.push([\"destination\", node.destination]);\n                    attrs.push([\"title\", node.title]);\n                    break;\n                case \"custom_inline\":\n                case \"custom_block\":\n                    attrs.push([\"on_enter\", node.onEnter]);\n                    attrs.push([\"on_exit\", node.onExit]);\n                    break;\n                default:\n                    break;\n            }\n            if (options.sourcepos) {\n                var pos = node.sourcepos;\n                if (pos) {\n                    attrs.push([\n                        \"sourcepos\",\n                        String(pos[0][0]) +\n                            \":\" +\n                            String(pos[0][1]) +\n                            \"-\" +\n                            String(pos[1][0]) +\n                            \":\" +\n                            String(pos[1][1])\n                    ]);\n                }\n            }\n\n            this.cr();\n            this.out(this.tag(tagname, attrs, selfClosing));\n            if (container) {\n                this.indentLevel += 1;\n            } else if (!container && !selfClosing) {\n                var lit = node.literal;\n                if (lit) {\n                    this.out(this.esc(lit));\n                }\n                this.out(this.tag(\"/\" + tagname));\n            }\n        } else {\n            this.indentLevel -= 1;\n            this.cr();\n            this.out(this.tag(\"/\" + tagname));\n        }\n    }\n    if (options.time) {\n        console.timeEnd(\"rendering\");\n    }\n    this.buffer += \"\\n\";\n    return this.buffer;\n}\n\nfunction out(s) {\n    if (this.disableTags > 0) {\n        this.buffer += s.replace(reXMLTag, \"\");\n    } else {\n        this.buffer += s;\n    }\n    this.lastOut = s;\n}\n\nfunction cr() {\n    if (this.lastOut !== \"\\n\") {\n        this.buffer += \"\\n\";\n        this.lastOut = \"\\n\";\n        for (var i = this.indentLevel; i > 0; i--) {\n            this.buffer += this.indent;\n        }\n    }\n}\n\n// Helper function to produce an XML tag.\nfunction tag(name, attrs, selfclosing) {\n    var result = \"<\" + name;\n    if (attrs && attrs.length > 0) {\n        var i = 0;\n        var attrib;\n        while ((attrib = attrs[i]) !== undefined) {\n            result += \" \" + attrib[0] + '=\"' + this.esc(attrib[1]) + '\"';\n            i++;\n        }\n    }\n    if (selfclosing) {\n        result += \" /\";\n    }\n    result += \">\";\n    return result;\n}\n\n// quick browser-compatible inheritance\nXmlRenderer.prototype = Object.create(Renderer.prototype);\n\nXmlRenderer.prototype.render = render;\nXmlRenderer.prototype.out = out;\nXmlRenderer.prototype.cr = cr;\nXmlRenderer.prototype.tag = tag;\nXmlRenderer.prototype.esc = escapeXml;\n\nexport default XmlRenderer;\n","/*! http://mths.be/repeat v0.2.0 by @mathias */\nif (!String.prototype.repeat) {\n\t(function() {\n\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar repeat = function(count) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\t// `ToInteger`\n\t\t\tvar n = count ? Number(count) : 0;\n\t\t\tif (n != n) { // better `isNaN`\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\t// Account for out-of-bounds indices\n\t\t\tif (n < 0 || n == Infinity) {\n\t\t\t\tthrow RangeError();\n\t\t\t}\n\t\t\tvar result = '';\n\t\t\twhile (n) {\n\t\t\t\tif (n % 2 == 1) {\n\t\t\t\t\tresult += string;\n\t\t\t\t}\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tstring += string;\n\t\t\t\t}\n\t\t\t\tn >>= 1;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, 'repeat', {\n\t\t\t\t'value': repeat,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.repeat = repeat;\n\t\t}\n\t}());\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"vue-component stac stac-fields metadata\"},[_vm._l((_vm.fields),function(group){return [_c(_vm.headingTag,{key:group.extension,tag:\"component\",domProps:{\"innerHTML\":_vm._s(group.label || 'General')}}),_c('section',{key:`section_${group.extension}`,staticClass:\"group\"},_vm._l((group.properties),function(prop,field){return _c('div',{key:group.extension + field,staticClass:\"tabular\",class:{wrap: Boolean(prop.custom || prop.items)},attrs:{\"id\":'field_' + field}},[_c('label',{attrs:{\"title\":field},domProps:{\"innerHTML\":_vm._s(prop.label)}}),_c('div',{staticClass:\"value\"},[_vm._t(field,function(){return [(prop.items)?_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[(!Array.isArray(prop.formatted))?_c('th',[_vm._v(\" \")]):_vm._e(),_vm._l((prop.itemOrder),function(col){return _c('th',{key:col,domProps:{\"innerHTML\":_vm._s(prop.items[col].label)}})})],2)]),_c('tbody',_vm._l((prop.formatted),function(row,r){return _c('tr',{key:r},[(!Array.isArray(prop.formatted))?_c('th',[_vm._v(_vm._s(r))]):_vm._e(),_vm._l((prop.itemOrder),function(col){return _c('td',{key:`${col}_${r}`,domProps:{\"innerHTML\":_vm._s(row[col])}})})],2)}),0)]):(field === 'card4l:processing_chain')?_c('Process',{staticClass:\"inline\",attrs:{\"process\":prop.value,\"provideDownload\":false,\"showGraph\":true}}):(prop.formatted)?_c('div',{staticClass:\"formatted\",domProps:{\"innerHTML\":_vm._s(prop.formatted)}}):[_vm._v(_vm._s(prop.value))]]},{\"prop\":prop,\"field\":field})],2)])}),0)]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<section class=\"vue-component stac stac-fields metadata\">\r\n\t\t<template v-for=\"group in fields\">\r\n\t\t\t<component :is=\"headingTag\" v-html=\"group.label || 'General'\" :key=\"group.extension\" />\r\n\t\t\t<section class=\"group\" :key=\"`section_${group.extension}`\">\r\n\t\t\t\t<div v-for=\"(prop, field) in group.properties\" :key=\"group.extension + field\" :id=\"'field_' + field\" class=\"tabular\" :class=\"{wrap: Boolean(prop.custom || prop.items)}\">\r\n\t\t\t\t\t<label :title=\"field\" v-html=\"prop.label\" />\r\n\t\t\t\t\t<div class=\"value\">\r\n\t\t\t\t\t\t<slot :name=\"field\" :prop=\"prop\" :field=\"field\">\r\n\t\t\t\t\t\t\t<table v-if=\"prop.items\" class=\"table\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th v-if=\"!Array.isArray(prop.formatted)\">&nbsp;</th>\r\n\t\t\t\t\t\t\t\t\t\t<th v-for=\"col in prop.itemOrder\" :key=\"col\" v-html=\"prop.items[col].label\"></th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr v-for=\"(row, r) in prop.formatted\" :key=\"r\">\r\n\t\t\t\t\t\t\t\t\t\t<th v-if=\"!Array.isArray(prop.formatted)\">{{ r }}</th>\r\n\t\t\t\t\t\t\t\t\t\t<td v-for=\"col in prop.itemOrder\" :key=\"`${col}_${r}`\" v-html=\"row[col]\" />\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t<Process v-else-if=\"field === 'card4l:processing_chain'\" class=\"inline\" :process=\"prop.value\" :provideDownload=\"false\" :showGraph=\"true\" />\r\n\t\t\t\t\t\t\t<div class=\"formatted\" v-else-if=\"prop.formatted\" v-html=\"prop.formatted\" />\r\n\t\t\t\t\t\t\t<template v-else>{{ prop.value }}</template>\r\n\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</template>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nimport StacFields from '@radiantearth/stac-fields';\r\nimport Utils from '../../utils'\r\n\r\nconst CORE_COLLECTION_FIELDS = [\r\n\t// Catalog and Collection fields that are handled directly\r\n\t'stac_version',\r\n\t'stac_extensions',\r\n\t'id',\r\n\t'type',\r\n\t'title',\r\n\t'description',\r\n\t'keywords',\r\n\t'providers',\r\n\t'license',\r\n\t'extent',\r\n\t'summaries',\r\n\t'links',\r\n\t'assets',\r\n\t'item_assets',\r\n\t'conformsTo',\r\n\t'deprecated',\r\n\t'cube:dimensions'\r\n];\r\n\r\nStacFields.Registry.externalRenderer = true;\r\n//StacFields.Registry.addMetadataFields({});\r\n\r\nexport default {\r\n\tname: 'StacFields',\r\n\tcomponents: {\r\n\t\tProcess: () => import('../Process.vue')\r\n\t},\r\n\tprops: {\r\n\t\tmetadata: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t},\r\n\t\theadingTag: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'h3'\r\n\t\t},\r\n\t\tignore: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => ([])\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tcontext: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tignoreFn() {\r\n\t\t\tif (this.ignore.length > 0) {\r\n\t\t\t\treturn key => !this.ignore.includes(key);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tfields() {\r\n\t\t\tif (this.type === 'Collection') {\r\n\t\t\t\tlet data = Utils.deepClone(this.metadata);\r\n\t\t\t\tif (!Utils.isObject(data.summaries)) {\r\n\t\t\t\t\tdata.summaries = {};\r\n\t\t\t\t}\r\n\t\t\t\tfor(let key in data) {\r\n\t\t\t\t\t// Copy all custom top-level fields to summaries for easier visualization\r\n\t\t\t\t\tif (!CORE_COLLECTION_FIELDS.includes(key)) {\r\n\t\t\t\t\t\tdata.summaries[key] = [data[key]];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn StacFields.formatSummaries(data, this.ignoreFn);\r\n\t\t\t}\r\n\t\t\telse if (this.type === 'Item') {\r\n\t\t\t\treturn StacFields.formatItemProperties(this.metadata, this.ignoreFn);\r\n\t\t\t}\r\n\t\t\telse if (this.type === 'Asset') {\r\n\t\t\t\treturn StacFields.formatAsset(this.metadata, this.context, this.ignoreFn);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Error('Not implemented yet');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tlabel(key, specs = {}) {\r\n\t\t\treturn StacFields.label(key, specs);\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../base.scss';\r\n.vue-component.stac-fields {\r\n\t> .group {\r\n\t\tmargin-left: 1em;\r\n\t}\r\n\t.table {\r\n\t\twidth: 100%;\r\n\t\tborder-collapse: collapse;\r\n\t\tfont-size: 0.9em;\r\n\r\n\t\tth {\r\n\t\t\ttext-align: left;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.05);\r\n\t\t}\r\n\t\ttd, th {\r\n\t\t\tborder: 1px solid rgba(0, 0, 0, 0.2);\r\n\t\t\tpadding: 3px;\r\n\t\t}\r\n\t\ttd {\r\n\t\t\tvertical-align: top;\r\n\t\t}\r\n\t\ttbody tr:hover,\r\n\t\ttbody tr:hover th {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\t}\r\n\t.description {\r\n\t\tp {\r\n\t\t\t&:first-of-type {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\t\t\t&:last-of-type {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!./StacFields.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!./StacFields.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StacFields.vue?vue&type=template&id=05b67dad&\"\nimport script from \"./StacFields.vue?vue&type=script&lang=js&\"\nexport * from \"./StacFields.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StacFields.vue?vue&type=style&index=0&id=05b67dad&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}