(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d3ab60a"],{"0f29":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"textEditor",class:e.languageString},[s("div",{staticClass:"sourceHeader"},[e.title?s("strong",[e._v(e._s(e.title))]):e._e(),s("div",{staticClass:"sourceToolbar"},[s("span",{staticClass:"sepr"},[e.editable?s("button",{attrs:{type:"button",title:"New script / Clear current script"},on:{click:e.confirmClear}},[s("i",{staticClass:"fas fa-file"})]):e._e(),e._t("file-toolbar")],2),e.editable?s("span",{staticClass:"sepr"},[s("button",{attrs:{type:"button",disabled:!e.canUndo,title:"Revert last change"},on:{click:function(t){return e.editor.undo()}}},[s("i",{staticClass:"fas fa-undo-alt"})]),s("button",{attrs:{type:"button",disabled:!e.canRedo,title:"Redo last reverted change"},on:{click:function(t){return e.editor.redo()}}},[s("i",{staticClass:"fas fa-redo-alt"})]),e._t("edit-toolbar")],2):e._e(),s("FullscreenButton",{attrs:{element:e.element}}),e._t("toolbar")],2)]),s("div",{staticClass:"sourceCodeEditor",attrs:{id:e.id}})])},a=[],r=s("025e"),n=s("5472"),o=s("a76e"),l=s("56b3"),c=s.n(l),u=(s("a7be"),s("f9d4"),s("959b"),s("ced6"),s("db91"),s("903e"),s("d7d5"),s("8c33"),s("10b2"),s("0dd0"),s("8822"),s("d2de"),s("4ebc")),d=s.n(u);window.jsonlint=d.a;var h={name:"TextEditor",components:{FullscreenButton:n["a"]},props:{id:String,editable:{type:Boolean,default:!0},value:{required:!0},language:{type:String,default:null},placeholder:{type:String,default:""},title:{type:String}},computed:{...r["a"].mapGetters(["processes"]),languageString(){return"string"===typeof this.language?this.language.toLowerCase():""},editorOptions(){let e={indentUnit:2,lineNumbers:!0,indentWithTabs:!0,matchBrackets:!0,autoCloseBrackets:!0,readOnly:!this.editable,placeholder:this.placeholder};switch(this.languageString){case"r":e.mode="text/x-rsrc";break;case"python":e.mode="text/x-python";break;case"math":e.mode="text/x-mathematica";break;case"markdown":e.mode="text/x-markdown",e.lineWrapping=!0;break;case"javascript":e.mode="text/javascript";break;case"json":case"processgraph":e.mode="application/json",e.gutters=["CodeMirror-lint-markers"],e.lint=!0;break}return e}},data(){return{canUndo:!1,canRedo:!1,editor:null,emitValue:this.value,element:null}},watch:{async value(){this.emitValue!==this.value&&(this.updateContent(),this.editor.clearHistory())},editorOptions(){for(var e in this.editorOptions)this.editor.setOption(e,this.editorOptions[e]);this.updateContent()}},mounted(){this.editor=c()(document.getElementById(this.id),this.editorOptions),this.editor.setSize(null,"100%"),"processgraph"===this.languageString&&this.editor.on("change",()=>this.updateState()),this.updateContent(),this.editor.on("changes",(e,t)=>{try{0===Object.values(t).filter(e=>"setValue"===e.origin).length&&this.commit()}catch(s){this.$emit("error",s)}}),this.element=this.$el},methods:{confirmClear(){var e=confirm("Do you really want to clear the existing code?");e&&(this.insert(""),this.emit(null))},updateState(){this.editor.setOption("lint",!!this.editor.getValue().trim());let e=this.editor.getDoc().historySize();this.canUndo=e.undo>0,this.canRedo=e.redo>0,this.editor.refresh(),this.element=this.$el},commit(){var e=this.editor.getValue();switch(this.languageString){case"math":return this.emit(e.replace(/[\r\n\t]+/," "));case"processgraph":if(e){var t=JSON.parse(e);if(r["a"].size(t)>0){var s=new o["ProcessGraph"](t,this.processes);return s.allowEmpty(),s.parse(),this.emit(t)}}return this.emit(null);case"json":return e?this.emit(JSON.parse(e)):this.emit(null);default:return this.emit(e)}},emit(e){this.emitValue=e,this.$emit("input",e)},insert(e,t=!0){if("string"!==typeof e&&(e=String(e)),t){const t=this.editor.getValue();if(e!==t){const t=this.editor.getScrollInfo();this.editor.setValue(e),this.editor.scrollTo(t.left,t.top)}}else this.editor.replaceSelection(e)},updateContent(){if(this.value)switch(this.languageString){case"processgraph":r["a"].isObject(this.value)?this.insert(JSON.stringify(this.value,null,this.editorOptions.indentUnit)):this.insert("");break;case"json":this.insert(JSON.stringify(this.value,null,this.editorOptions.indentUnit));break;default:this.insert(this.value)}else this.insert("");this.editor.getDoc().clearHistory(),this.updateState()},insertProcess(e){try{this.insert(JSON.stringify(e,null,2),!1)}catch(t){r["a"].exception(this,t)}}}},p=h,m=(s("4f8c"),s("ccbe"),s("2877")),f=Object(m["a"])(p,i,a,!1,null,"100002bb",null);t["a"]=f.exports},"1b7a":function(e,t,s){"use strict";s("7ae6")},"206d":function(e,t,s){},3075:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return n}));var i=s("025e");class a{constructor(e){Object.assign(this,e),this.context=null}setContext(e){this.context=e}getContext(){return this.context}getUrl(){return this.href}canGroup(){return!1}isBinary(){return!0}download(e=null){let t=document.createElement("a");t.style.display="none",t.href=this.getUrl(),t.setAttribute("download",e||i["a"].makeFileName("result",this.type)),"undefined"===typeof t.download&&t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}async getData(e){return this.loaded||(this.data=await this.fetchData(e),this.loaded=!0),this.data}async fetchData(e){let t,s=this.getUrl();if(s.startsWith("blob:")){let e=await fetch(s);t=await e.blob()}else t=await e.download(s);let i=new Promise((e,s)=>{let i=new FileReader;i.onload=t=>e(t.target.result),i.onerror=s,this.isBinary()?i.readAsBinaryString(t):i.readAsText(t)}),a=await i;return this.parseData(a)}async parseData(e){return e}}class r extends a{constructor(e,t=null,s="fa-database",i={},a={}){super(e),this.loaded=!1,this.component=t,this.props=i,this.props.data||(this.props.data=this),this.icon=s,this.events=a}isBinary(){return!1}}class n extends a{constructor(e){super(e)}}},3986:function(e,t,s){},4525:function(e,t,s){},"4d98":function(e,t,s){"use strict";s("c98e")},"4f8c":function(e,t,s){"use strict";s("65f5")},"50e5":function(e,t,s){},5472:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{directives:[{name:"show",rawName:"v-show",value:e.element,expression:"element"}],attrs:{type:"button",title:e.isFullscreen?"Close fullscreen":"Show fullscreen"},on:{click:e.toggleFullscreen}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.isFullscreen,expression:"isFullscreen"}]},[s("i",{staticClass:"fas fa-compress"})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isFullscreen,expression:"!isFullscreen"}]},[s("i",{staticClass:"fas fa-expand"})])])},a=[],r=s("3115"),n=s("025e"),o={name:"FullscreenButton",mixins:[r["a"]],props:{element:{required:!0}},data(){return{isFullscreen:!1,keyDownFn:null,oldZIndex:"auto"}},mounted(){this.keyDownFn=this.onkeyDown.bind(this);let e=this.getElement();e&&e.addEventListener("keydown",this.keyDownFn)},beforeDestroy(){let e=this.getElement();e&&e.removeEventListener("keydown",this.keyDownFn)},computed:{...n["a"].mapState("editor",["hightestModalZIndex"])},methods:{...n["a"].mapMutations("editor",["openModal","closeModal"]),onkeyDown(e){!this.isFullscreen||"F11"!==e.key&&"Escape"!==e.key||(this.toggleFullscreen(),e.preventDefault(),e.stopPropagation())},getElement(){return"string"===typeof this.element?document.querySelector(this.element):"function"===typeof this.element?this.element():this.element},toggleFullscreen(){let e=this.getElement();this.isFullscreen?(this.isFullscreen=!1,e.classList.remove("fullscreen"),e.style.zIndex=this.oldZIndex,this.closeModal()):(this.isFullscreen=!0,e.classList.add("fullscreen"),this.openModal(),this.oldZIndex=e.style.zIndex,e.style.zIndex=this.hightestModalZIndex),this.$emit("changed",this.isFullscreen),this.emit("stopTour")}}},l=o,c=(s("90f4"),s("2877")),u=Object(c["a"])(l,i,a,!1,null,null,null);t["a"]=u.exports},"55b5":function(e,t,s){"use strict";s("ad68")},"57f6":function(e,t,s){"use strict";var i=s("3075"),a=s("d89f");class r extends i["b"]{constructor(e){super(e,"MapViewer","fa-map",{removableLayers:!0}),this.view=null}isBinary(){return!0}canGroup(){return!0}getView(){return this.view}async getData(){let e=new a["a"]({sources:[{url:this.getUrl()}]});return this.view=await e.getView(),e}}t["a"]=r},"58d3":function(e,t,s){"use strict";s("f08e")},"5edf":function(e,t,s){const i=s("ebea");function a(e,t,s){const a=[],r=s&&s.debug||!1;let n,o=s&&s.startIndex||0;while(n=i(e,t,{debug:r,startIndex:o}))o=n.end,a.push(n);return r&&console.log("findTagsByName found",a.length,"tags"),a}e.exports=a},6219:function(e,t,s){},"65f5":function(e,t,s){},"76b6":function(e,t,s){},"79f4":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("a76e"),a=s("025e");class r extends i["BaseProcess"]{constructor(e,t){super(e),this.exporter=t}async execute(e){await this.exporter.generateFunction(e)}}class n extends i["ProcessGraph"]{constructor(e,t,s){super(a["a"].isObject(e)?e:{},t),this.connection=s,this.indent=0,this.code=[],this.fnCounter=1,this.allowEmpty(),this.fillUndefinedParameters()}createProcessGraphInstance(e){let t=new n(e,this.processRegistry,this.getJsonSchemaValidator());return this.copyProcessGraphInstanceProperties(t)}copyProcessGraphInstanceProperties(e){return e=super.copyProcessGraphInstanceProperties(e),e.connection=this.connection,e}createProcessInstance(e){return new r(e,this)}isKeyword(e){return this.getKeywords().includes(e.toLowerCase())}getKeywords(){return[]}comment(){}generateImports(){}generateConnection(){}generateAuthentication(){}generateBuilder(){}generateMetadata(){}generateMissingParameter(){}async generateFunction(){}generateFunctionParams(e){return e.map(e=>"undefined"!==typeof e.default?`${e.name} = ${this.e(e.default)}`:e.name)}async generateCallback(){}generateResult(){}makeNull(){return"null"}makeBoolean(e){return e?"true":"false"}makeArray(e){return`[${e.join(", ")}]`}makeObject(e){let t=a["a"].mapObject(e,(e,t)=>`${this.makeString(t)}: ${e}`);return`{${t.join(", ")}}`}makeString(e){return JSON.stringify(e)}makeNumber(e){return e}e(e){return null===e?this.makeNull():"boolean"===typeof e?this.makeBoolean(e):"number"===typeof e?this.makeNumber(e):"string"===typeof e?this.makeString(e):Array.isArray(e)?this.makeArray(e.map(e=>this.e(e))):a["a"].isObject(e)?this.makeObject(a["a"].mapObjectValues(e,e=>this.e(e))):"function"===typeof e?e():this.makeNull()}generateMetadata(){let e=!1;for(let t in this.process){if("process_graph"===t)continue;let s=this.process[t];Array.isArray(s)&&0===s.length||("string"===typeof s&&0===s.length||("boolean"!==typeof s||s)&&(e||(this.newLine(),this.comment("Set the metadata for the process"),e=!0),this.generateMetadataEntry(t,s)))}}async resolveArguments(e,t,s){let i=Array.isArray(e)?[]:{};for(let r in e){let o=e[r];if(!s||!s(r,o))if(a["a"].isObject(o)){if(o.from_node){i[r]=()=>this.var(o.from_node);continue}if(o.from_parameter){i[r]=()=>this.var(o.from_parameter);continue}if(o instanceof n){let e=await t(r);i[r]=()=>e;continue}i[r]=await this.resolveArguments(o,t,s)}else Array.isArray(o)?i[r]=await this.resolveArguments(o,t,s):i[r]=o}return i}async resolveCallback(e,t){let s=e.getArgument(t),i=s.getCallbackParameters();await s.execute(i);let a=this.var(`${t}${this.fnCounter++}`,"fn_"),r=await this.generateCallback(s,i,a);return r||a}async generateArguments(e,t=!1,s=null){let i=await this.resolveArguments(e.arguments,async t=>await this.resolveCallback(e,t),s);return t&&(i=this.orderArguments(e,i)),i}orderArguments(e,t){let s=e.getProcessGraph().getProcess(e);if(s&&Array.isArray(s.parameters)){let e=s.parameters.map(e=>"undefined"!==typeof t[e.name]?t[e.name]:e.optional?void 0:null),i=!1;for(let t=e.length-1;t>=0;t--)"undefined"===typeof e[t]?i?e[t]=null:e.pop():i=!0;return e}}var(e,t="datacube"){return e=String(e),this.isKeyword(e)?e+"_":e.match(/^[a-z_]\w*$/)?e:`${t}${e}`}getTab(){return"\t"}addCode(e,t=""){if("string"!==typeof e)return;let s=this.getTab().repeat(this.indent),i=e.trim().split(/\r\n|\r|\n/g);for(let a of i)this.code.push(`${s}${t}${a}\n`)}newLine(e=1){for(let t=0;t<e;t++)this.addCode("")}getServerUrl(){return this.connection.getUrl()}async toCode(e=!1){this.code=[],e||(this.comment("Import required packages"),this.generateImports(),this.newLine(),this.comment("Connect to the back-end"),this.generateConnection(),this.generateAuthentication(),this.newLine(),this.generateBuilder(),this.generateMetadata(),this.newLine());let t=this.getProcessParameters();if(t.length>0){this.comment("ToDo: Here you need to set values for the parameters");for(let e of t)this.generateMissingParameter(e);this.newLine()}return await this.execute(),e||(this.newLine(),this.comment("The process can be executed synchronously (see below), as batch job or as web service now")),this.generateResult(this.getResultNode(),e),this.code.join("").trim()}async execute(){return await this.validate(),this.reset(),await this.executeNodes(this.getStartNodes()),this.getResultNode()}isMath(){return"undefined"===typeof this._isMath&&(this._isMath=this.processRegistry.isMath(this)),this._isMath}}},"7ae6":function(e,t,s){},"7b86":function(e,t,s){"use strict";s("3986")},8099:function(e,t,s){},"80e5":function(e,t,s){"use strict";s("db4b")},8663:function(e,t,s){"use strict";s("cd65")},"877a":function(e,t,s){"use strict";s("6219")},"90f4":function(e,t,s){"use strict";s("206d")},"916f":function(e,t,s){"use strict";s("ebe9")},"94df":function(e,t){function s(e,t,s){const i=s&&s.debug||!1;i&&console.log("getting "+t+" in "+e);const a="object"===typeof e?e.outer:e,r=t+'\\="([^"]*)"';i&&console.log("pattern:",r);const n=new RegExp(r),o=n.exec(a);if(i&&console.log("match:",o),o)return o[1]}e.exports=s},9961:function(e,t,s){"use strict";s("76b6")},"9dd0":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"===typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"===typeof this.onEviction)for(const[t,s]of e)this.onEviction(t,s.value)}_deleteIfExpired(e,t){return"number"===typeof t.expiry&&t.expiry<=Date.now()&&("function"===typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){const s=this._deleteIfExpired(e,t);if(!1===s)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const s=t.get(e);return this._getItemValue(e,s)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,s]=e;if(!this.cache.has(t)){const i=this._deleteIfExpired(t,s);!1===i&&(yield e)}}for(const e of this.cache){const[t,s]=e,i=this._deleteIfExpired(t,s);!1===i&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:s=this.maxAge}={}){const i="number"===typeof s&&s!==Number.POSITIVE_INFINITY?Date.now()+s:void 0;this.cache.has(e)?this.cache.set(e,{value:t,expiry:i}):this._set(e,{value:t,expiry:i})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],s=t.length-e;s<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(s>0&&this._emitEvictions(t.slice(0,s)),this.oldCache=new Map(t.slice(s)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,s]=e,i=this._deleteIfExpired(t,s);!1===i&&(yield[t,s.value])}for(const e of this.oldCache){const[t,s]=e;if(!this.cache.has(t)){const e=this._deleteIfExpired(t,s);!1===e&&(yield[t,s.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const s=e[t],[i,a]=s,r=this._deleteIfExpired(i,a);!1===r&&(yield[i,a.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const s=e[t],[i,a]=s;if(!this.cache.has(i)){const e=this._deleteIfExpired(i,a);!1===e&&(yield[i,a.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[s,i]of this.entriesAscending())e.call(t,i,s,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}},"9def":function(e,t,s){"use strict";s.d(t,"a",(function(){return T})),s.d(t,"b",(function(){return y}));var i=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t,s)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(e,t)=>{for(var s in t||(t={}))o.call(t,s)&&c(e,s,t[s]);if(n)for(var s of n(t))l.call(t,s)&&c(e,s,t[s]);return e},d=(e,t)=>a(e,r(t)),h=(e,t)=>{var s={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&n)for(var i of n(e))t.indexOf(i)<0&&l.call(e,i)&&(s[i]=e[i]);return s};function p(e,t,s,i,a,r,n,o){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):a&&(l=o?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}const m={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,t)=>(e[t.id]=t)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:this.indexedPanes[e.id].size+"%"})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,t){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick(e,t){let s=0;this.panes=this.panes.map((e,i)=>(e.size=i===t?e.max:e.min,i!==t&&(s+=e.min),e)),this.panes[t].size-=s,this.$emit("pane-maximize",this.panes[t])},onPaneClick(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag(e){const t=this.container.getBoundingClientRect(),{clientX:s,clientY:i}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:s-t.left,y:i-t.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),100*e/t},calculatePanesSize(e){const t=this.touch.activeSplitter;let s={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0};const i=0+(this.pushOtherPanes?0:s.prevPanesSize),a=100-(this.pushOtherPanes?0:s.nextPanesSize),r=Math.max(Math.min(this.getCurrentDragPercentage(e),a),i);let n=[t,t+1],o=this.panes[n[0]]||null,l=this.panes[n[1]]||null;const c=o.max<100&&r>=o.max+s.prevPanesSize,u=l.max<100&&r<=100-(l.max+this.sumNextPanesSize(t+1));if(c||u)c?(o.size=o.max,l.size=Math.max(100-o.max-s.prevPanesSize-s.nextPanesSize,0)):(o.size=Math.max(100-l.max-s.prevPanesSize-this.sumNextPanesSize(t+1),0),l.size=l.max);else{if(this.pushOtherPanes){const e=this.doPushOtherPanes(s,r);if(!e)return;({sums:s,panesToResize:n}=e),o=this.panes[n[0]]||null,l=this.panes[n[1]]||null}null!==o&&(o.size=Math.min(Math.max(r-s.prevPanesSize-s.prevReachedMinPanes,o.min),o.max)),null!==l&&(l.size=Math.min(Math.max(100-r-s.nextPanesSize-s.nextReachedMinPanes,l.min),l.max))}},doPushOtherPanes(e,t){const s=this.touch.activeSplitter,i=[s,s+1];return t<e.prevPanesSize+this.panes[i[0]].min&&(i[0]=this.findPrevExpandedPane(s).index,e.prevReachedMinPanes=0,i[0]<s&&this.panes.forEach((t,a)=>{a>i[0]&&a<=s&&(t.size=t.min,e.prevReachedMinPanes+=t.min)}),e.prevPanesSize=this.sumPrevPanesSize(i[0]),void 0===i[0])?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((t,i)=>{i>0&&i<=s&&(t.size=t.min,e.prevReachedMinPanes+=t.min)}),this.panes[i[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[i[1]].min&&(i[1]=this.findNextExpandedPane(s).index,e.nextReachedMinPanes=0,i[1]>s+1&&this.panes.forEach((t,a)=>{a>s&&a<i[1]&&(t.size=t.min,e.nextReachedMinPanes+=t.min)}),e.nextPanesSize=this.sumNextPanesSize(i[1]-1),void 0===i[1])?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((t,i)=>{i<this.panesCount-1&&i>=s+1&&(t.size=t.min,e.nextReachedMinPanes+=t.min)}),this.panes[i[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:i}},sumPrevPanesSize(e){return this.panes.reduce((t,s,i)=>t+(i<e?s.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((t,s,i)=>t+(i>e+1?s.size:0),0)},findPrevExpandedPane(e){const t=[...this.panes].reverse().find(t=>t.index<e&&t.size>t.min);return t||{}},findNextExpandedPane(e){const t=this.panes.find(t=>t.index>e+1&&t.size>t.min);return t||{}},checkSplitpanesNodes(){const e=Array.from(this.container.children);e.forEach(e=>{const t=e.classList.contains("splitpanes__pane"),s=e.classList.contains("splitpanes__splitter");if(!t&&!s)return e.parentNode.removeChild(e),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")})},addSplitter(e,t,s=!1){const i=e-1,a=document.createElement("div");a.classList.add("splitpanes__splitter"),s||(a.onmousedown=e=>this.onMouseDown(e,i),"undefined"!==typeof window&&"ontouchstart"in window&&(a.ontouchstart=e=>this.onMouseDown(e,i)),a.onclick=e=>this.onSplitterClick(e,i+1)),this.dblClickSplitter&&(a.ondblclick=e=>this.onSplitterDblClick(e,i+1)),t.parentNode.insertBefore(a,t)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(e=>{e.className.includes("splitpanes__splitter")&&this.removeSplitter(e)});let t=0;e.forEach(e=>{e.className.includes("splitpanes__pane")&&(!t&&this.firstSplitter?this.addSplitter(t,e,!0):t&&this.addSplitter(t,e),t++)})},requestUpdate(e){var t=e,{target:s}=t,i=h(t,["target"]);const a=this.indexedPanes[s._uid];Object.entries(i).forEach(([e,t])=>a[e]=t)},onPaneAdd(e){let t=-1;Array.from(e.$el.parentNode.children).some(s=>(s.className.includes("splitpanes__pane")&&t++,s===e.$el));const s=parseFloat(e.minSize),i=parseFloat(e.maxSize);this.panes.splice(t,0,{id:e._uid,index:t,min:isNaN(s)?0:s,max:isNaN(i)?100:i,size:null===e.size?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((e,t)=>e.index=t),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[t]}),this.$emit("pane-add",{index:t,panes:this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))})})},onPaneRemove(e){const t=this.panes.findIndex(t=>t.id===e._uid),s=this.panes.splice(t,1)[0];this.panes.forEach((e,t)=>e.index=t),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:d(u({},s),{index:t})}),this.$emit("pane-remove",{removed:s,panes:this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))})})},resetPaneSizes(e={}){e.addedPane||e.removedPane?this.panes.some(e=>null!==e.givenSize||e.min||e.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const e=100/this.panesCount;let t=0,s=[],i=[];this.panes.forEach(a=>{a.size=Math.max(Math.min(e,a.max),a.min),t-=a.size,a.size>=a.max&&s.push(a.id),a.size<=a.min&&i.push(a.id)}),t>.1&&this.readjustSizes(t,s,i)},initialPanesSizing(){this.panesCount;let e=100,t=[],s=[],i=0;this.panes.forEach(a=>{e-=a.size,null!==a.size&&i++,a.size>=a.max&&t.push(a.id),a.size<=a.min&&s.push(a.id)});let a=100;e>.1&&(this.panes.forEach(t=>{null===t.size&&(t.size=Math.max(Math.min(e/(this.panesCount-i),t.max),t.min)),a-=t.size}),a>.1&&this.readjustSizes(e,t,s))},equalizeAfterAddOrRemove({addedPane:e,removedPane:t}={}){let s=100/this.panesCount,i=0,a=[],r=[];e&&null!==e.givenSize&&(s=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(e=>{i-=e.size,e.size>=e.max&&a.push(e.id),e.size<=e.min&&r.push(e.id)}),Math.abs(i)<.1||(this.panes.forEach(t=>{e&&null!==e.givenSize&&e.id===t.id||(t.size=Math.max(Math.min(s,t.max),t.min)),i-=t.size,t.size>=t.max&&a.push(t.id),t.size<=t.min&&r.push(t.id)}),i>.1&&this.readjustSizes(i,a,r))},readjustSizes(e,t,s){let i;i=e>0?e/(this.panesCount-t.length):e/(this.panesCount-s.length),this.panes.forEach((a,r)=>{if(e>0&&!t.includes(a.id)){const t=Math.max(Math.min(a.size+i,a.max),a.min),s=t-a.size;e-=s,a.size=t}else if(!s.includes(a.id)){const t=Math.max(Math.min(a.size+i,a.max),a.min),s=t-a.size;e-=s,a.size=t}a.update({[this.horizontal?"height":"width"]:this.indexedPanes[a.id].size+"%"})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){const t=[...this.container.querySelectorAll(".splitpanes__splitter")];t.forEach((t,s)=>{t.ondblclick=e?e=>this.onSplitterDblClick(e,s):void 0})}},beforeDestroy(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(e){return e("div",{ref:"container",class:["splitpanes","splitpanes--"+(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default)}};let f,g;const v={};var b=p(m,f,g,!1,w,null,null,null);function w(e){for(let t in v)this[t]=v[t]}var y=function(){return b.exports}(),S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"splitpanes__pane",style:e.style,on:{click:function(t){return e.onPaneClick(t,e._uid)}}},[e._t("default")],2)},x=[];const C={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeDestroy(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}},P={};var _=p(C,S,x,!1,k,null,null,null);function k(e){for(let t in P)this[t]=P[t]}var T=function(){return _.exports}()},ad68:function(e,t,s){},b5d7:function(e,t,s){"use strict";s("50e5")},c98e:function(e,t,s){},cbd9:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"discovery-toolbar"},[s("SearchBox",{model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),s("div",{staticClass:"search-results"},[s("Collections",{staticClass:"category",attrs:{collections:e.collections,searchTerm:e.searchTerm,offerDetails:!1,collapsed:e.collapsed},scopedSlots:e._u([{key:"summary",fn:function(t){var i=t.item;return[s("div",{staticClass:"discovery-entity",attrs:{draggable:e.supportsLoadCollection},on:{dragstart:function(t){return e.onDrag(t,"collection",i)}}},[s("div",{staticClass:"discovery-info",on:{click:function(t){return e.showCollectionInfo(i.id)}}},[s("strong",{attrs:{title:i.id}},[e._v(e._s(i.id))]),i.title?s("small",{attrs:{title:i.title}},[e._v(e._s(i.title))]):e._e()]),e.hasCollectionPreview(i)?s("button",{staticClass:"discovery-button",attrs:{type:"button",title:"View on map"},on:{click:function(t){return e.showCollectionPreview(i)}}},[s("i",{staticClass:"fas fa-map"})]):e._e()])]}}])}),s("Processes",{staticClass:"category",attrs:{processes:e.allProcesses,searchTerm:e.searchTerm,offerDetails:!1,collapsed:e.collapsed},scopedSlots:e._u([{key:"summary",fn:function(t){var i=t.item;return[s("div",{staticClass:"discovery-entity",attrs:{draggable:"true"},on:{dragstart:function(t){return e.onDrag(t,"process",i)}}},[s("div",{staticClass:"discovery-info",on:{click:function(t){return e.showProcess(i)}}},["user"===i.namespace?s("i",{staticClass:"custom-process fas fa-xs fa-sitemap",attrs:{title:"Custom Process"}}):"backend"!==i.namespace?s("i",{staticClass:"custom-process fas fa-xs fa-tag",attrs:{title:"Process from namespace '"+i.namespace+"'"}}):e._e(),s("strong",{attrs:{title:i.id}},[e._v(e._s(i.id))]),i.summary?s("small",{attrs:{title:i.summary}},[e._v(e._s(i.summary))]):e._e()])])]}}])}),e.hasUdfRuntimes?s("UdfRuntimes",{staticClass:"category",attrs:{runtimes:e.udfRuntimes,searchTerm:e.searchTerm,offerDetails:!1,collapsed:e.collapsed},scopedSlots:e._u([{key:"summary",fn:function(t){var i=t.summary,a=t.item;return[s("div",{staticClass:"discovery-entity",attrs:{draggable:e.supportsRunUdf},on:{dragstart:function(t){return e.onDrag(t,"udf",{runtime:i.identifier,version:a.default})}}},[s("div",{staticClass:"discovery-info",on:{click:function(t){return e.showUdfInfo(i.identifier,a)}}},[s("strong",{attrs:{title:i.identifier}},[e._v(e._s(i.identifier)+" ("+e._s(a.default)+")")]),i.summary?s("small",{attrs:{title:i.summary}},[e._v(e._s(i.summary))]):e._e()])])]}}],null,!1,92063951)}):e._e(),s("FileFormats",{staticClass:"category",attrs:{formats:e.fileFormats,showInput:!1,heading:"Export File Formats",searchTerm:e.searchTerm,offerDetails:!1,collapsed:e.collapsed},scopedSlots:e._u([{key:"summary",fn:function(t){var i=t.item;return[s("div",{staticClass:"discovery-entity",attrs:{draggable:e.supportsSaveResult},on:{dragstart:function(t){return e.onDrag(t,"fileformat",i)}}},[s("div",{staticClass:"discovery-info",on:{click:function(t){return e.showFileFormatInfo(i)}}},[s("strong",{attrs:{title:i.name}},[e._v(e._s(i.name))]),i.title?s("small",{attrs:{title:i.title}},[e._v(e._s(i.title))]):e._e()])])]}}])})],1)],1)},a=[],r=s("3115"),n=s("025e"),o=s("69d2"),l=s("a0e2"),c=s("9b5d"),u=s("2979"),d=s("d235"),h={name:"DiscoveryToolbar",mixins:[r["a"]],components:{Collections:o["a"],FileFormats:l["a"],Processes:c["a"],SearchBox:u["default"],UdfRuntimes:d["a"]},props:{onAddProcess:{type:Function,required:!0},collectionPreview:{type:Boolean,default:!1},persist:{type:Boolean,default:!1}},data(){return{internalSearchTerm:"",collapsed:!0}},computed:{...n["a"].mapState(["collections","udfRuntimes"]),...n["a"].mapState("editor",["discoverySearchTerm"]),...n["a"].mapGetters(["supports","collectionDefaults","fileFormats","processes"]),supportsLoadCollection(){return this.processes.has("load_collection")},supportsRunUdf(){return this.processes.has("run_udf")},supportsSaveResult(){return this.processes.has("save_result")},hasUdfRuntimes(){return n["a"].size(this.udfRuntimes)},allProcesses(){return this.processes.all()},searchTerm:{get(){return this.persist?this.discoverySearchTerm:this.internalSearchTerm},set(e){this.persist?this.setDiscoverySearchTerm(e):this.internalSearchTerm=e}}},watch:{searchTerm:{immediate:!0,handler(e,t){!e&&t?this.collapsed=!0:e&&!t&&(this.collapsed=!1)}}},methods:{...n["a"].mapMutations("editor",["setDiscoverySearchTerm"]),onDrag(e,t,s){let i=this.getNode(t,s);e.dataTransfer.setData("application/vnd.openeo-node",JSON.stringify(i)),e.dataTransfer.setData("text/plain",JSON.stringify(i,null,2))},showCollectionInfo(e){this.emit("showCollection",e)},hasCollectionPreview(e){return Boolean(this.collectionPreview&&n["a"].getPreviewLinkFromSTAC(e))},showCollectionPreview(e){this.emit("showCollectionPreview",e)},showProcess(e){this.emit("showProcess",e)},showUdfInfo(e,t){this.emit("showModal","UdfRuntimeModal",{id:e,data:t,version:t.default})},showFileFormatInfo(e){let t={id:e.name,format:this.fileFormats.output[e.name],type:"output"};this.emit("showModal","FileFormatModal",t)},getNode(e,t){switch(e){case"collection":return{process_id:"load_collection",arguments:this.collectionDefaults(t.id)};case"process":return{process_id:t.id,namespace:t.namespace,arguments:{}};case"udf":return{process_id:"run_udf",arguments:t};case"fileformat":return{process_id:"save_result",arguments:{format:t.name,options:{}}}}}}},p=h,m=(s("7b86"),s("877a"),s("2877")),f=Object(m["a"])(p,i,a,!1,null,"e5b627b0",null);t["a"]=f.exports},ccbe:function(e,t,s){"use strict";s("4525")},cd65:function(e,t,s){},ceb0:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Tabs",{ref:"tabs",staticClass:"editor",attrs:{id:"customProcessContent",position:"bottom"}},[s("Tab",{attrs:{id:"visual",name:"Visual Model",icon:"fa-project-diagram",selected:!0,allowShow:e.canSwitchView},on:{show:e.showModel}},[s("VisualEditor",{ref:"graphBuilder",staticClass:"visualEditorTab",attrs:{editable:e.editable,parent:e.parent,parentSchema:e.parentSchema,value:e.modelValue,title:e.title,id:e.id+"_visual",showDiscoveryToolbar:e.showDiscoveryToolbar,defaultValue:e.defaultValue},on:{input:e.commit,error:e.onError},scopedSlots:e._u([{key:"file-toolbar",fn:function(){return[e._t("file-toolbar")]},proxy:!0},{key:"toolbar",fn:function(){return[e._t("toolbar")]},proxy:!0}],null,!0)})],1),s("Tab",{attrs:{id:"source",name:"Code",icon:"fa-code",allowShow:e.canSwitchView},on:{show:e.showCode}},[s("TextEditor",{ref:"sourceEditor",staticClass:"textEditorTab",attrs:{editable:e.editable,value:e.codeValue,title:e.title,id:e.id+"_text",language:"processgraph"},on:{input:e.commit,error:e.onError},scopedSlots:e._u([{key:"file-toolbar",fn:function(){return[e._t("file-toolbar")]},proxy:!0},{key:"toolbar",fn:function(){return[e._t("toolbar")]},proxy:!0}],null,!0)})],1)],1)},a=[],r=s("025e"),n=s("e7ea"),o=s("bdb2"),l=function(){var e=this,t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"visualEditor",staticClass:"visualEditor"},[i("div",{staticClass:"sourceHeader"},[t.title?i("strong",[t._v(t._s(t.title))]):t._e(),i("div",{staticClass:"sourceToolbar"},[t.editable?i("span",{staticClass:"sepr"},[i("button",{attrs:{type:"button",title:"New script / Clear current script"},on:{click:t.confirmClear}},[i("i",{staticClass:"fas fa-file"})]),t._t("file-toolbar")],2):t._e(),t.editable?i("span",{staticClass:"sepr"},[i("button",{attrs:{type:"button",disabled:!t.canUndo,title:"Revert last change"},on:{click:function(e){return t.$refs.blocks.undo()}}},[i("i",{staticClass:"fas fa-undo-alt"})]),i("button",{attrs:{type:"button",disabled:!t.canRedo,title:"Redo last reverted change"},on:{click:function(e){return t.$refs.blocks.redo()}}},[i("i",{staticClass:"fas fa-redo-alt"})]),i("button",{attrs:{type:"button",disabled:!t.hasSelection,title:"Delete selected elements"},on:{click:function(e){return t.$refs.blocks.deleteSelected()}}},[i("i",{staticClass:"fas fa-trash"})])]):t._e(),t.editable?i("span",{staticClass:"sepr"},[t.parent?t._e():i("button",{attrs:{type:"button",title:"Edit Process Metadata"},on:{click:function(){return t.editProcess(t.value)}}},[i("i",{staticClass:"fas fa-edit"})]),i("button",{attrs:{type:"button",title:"Add Parameter"},on:{click:t.addParameter}},[i("i",{staticClass:"fas fa-parking"})]),t.supportsMath?i("button",{class:{highlightFormula:t.isMath},attrs:{type:"button",title:"Insert/Edit formula"},on:{click:t.showExpressionModal}},[i("i",{staticClass:"fas fa-square-root-alt"})]):t._e()]):t._e(),i("button",{class:{compactMode:t.compactMode},attrs:{type:"button",title:"Compact Mode"},on:{click:function(e){return t.$refs.blocks.toggleCompact()}}},[i("i",{staticClass:"fas fa-compress-arrows-alt"})]),i("button",{attrs:{type:"button",title:"Scale to perfect size"},on:{click:function(e){return t.$refs.blocks.perfectScale()}}},[i("i",{staticClass:"fas fa-arrows-alt"})]),i("FullscreenButton",{attrs:{element:function(){return e.$refs.visualEditor}},on:{changed:function(s){e.$refs.blocks.perfectScale(),t.isFullScreen=s}}}),t._t("toolbar")],2)]),i("div",{staticClass:"editorSplitter"},[(t.showDiscoveryToolbar||t.isFullScreen)&&t.editable?i("DiscoveryToolbar",{staticClass:"discoveryToolbar",attrs:{onAddProcess:t.insertProcess}}):t._e(),i("div",{staticClass:"graphBuilder",on:{drop:t.onDrop,dragover:t.allowDrop}},[i("ModelBuilder",{ref:"blocks",attrs:{editable:t.editable,id:t.id,processes:t.processes,collections:t.collections,parent:t.parent,parentSchema:t.parentSchema,value:t.value},on:{input:t.commit,error:t.errorHandler,showProcess:function(e,s){return t.emit("showProcess",{id:e,namespace:s})},showCollection:function(e){return t.emit("showCollection",e)},showParameter:function(e){return t.emit("showProcessParameter",e)},editParameter:t.editParameter,editArguments:t.openArgumentEditor,compactMode:function(t){return e.compactMode=t},selectionChanged:t.selectionChanged,historyChanged:t.historyChanged}})],1)],1)])},c=[],u=s("1d9a"),d=s("cbd9"),h=s("3115"),p=s("5472"),m=s("fbda"),f=s("db05"),g={name:"VisualEditor",mixins:[h["a"]],components:{ModelBuilder:u["default"],DiscoveryToolbar:d["a"],FullscreenButton:p["a"]},props:{id:String,editable:{type:Boolean,default:!0},value:{type:Object,default:()=>null},parent:{type:Object,default:null},parentSchema:{type:Object,default:null},showDiscoveryToolbar:{type:Boolean,default:!1},title:{type:String},defaultValue:{}},computed:{...r["a"].mapState(["connection","collections"]),...r["a"].mapGetters(["processes","supportsMath"]),...r["a"].mapState("editor",["initialNode"]),isMath(){return this.supportsMath&&this.processes.isMath(this.value)}},data(){return{canUndo:!1,canRedo:!1,compactMode:!1,hasSelection:!1,formula:null,isFullScreen:!1}},watch:{value:{immediate:!0,handler(e){if(this.initialNode&&r["a"].isObject(e)&&r["a"].isObject(e.process_graph))try{let t=this.initialNode;"1"==t&&r["a"].size(e.process_graph)&&(t=Object.keys(e.process_graph)[0]),this.openArgumentEditorForNode(t)}catch(t){r["a"].exception(this,t)}finally{this.setInitialNode(null)}}}},methods:{...r["a"].mapMutations("editor",["setInitialNode"]),commit(e){"undefined"!==typeof this.defaultValue&&r["a"].isObject(e)&&0===r["a"].size(e.process_graph)&&(e=this.defaultValue),this.$emit("input",e)},errorHandler(e,t=null){r["a"].exception(this,e,t)},selectionChanged(e,t){this.hasSelection=Boolean(e.filter(e=>e.$el.allowsDelete).length||t.length)},historyChanged(e,t){this.canUndo=!!e[t-1],this.canRedo=!!e[t+1]},allowDrop(e){e.preventDefault()},onDrop(e){var t=e.dataTransfer.getData("application/vnd.openeo-node");if(t){let s=JSON.parse(t);return this.insertProcess(s,e.pageX,e.pageY),e.preventDefault()}let s=e.dataTransfer.files;if(1===s.length){let t=e.dataTransfer.files[0];if("application/json"===t.type){var i=new FileReader;return i.onload=async e=>{try{let t=JSON.parse(e.target.result);await this.$refs.blocks.import(t)}catch(t){r["a"].exception(this,t,"Parsing JSON file failed")}},i.onerror=e=>r["a"].exception(this,e,"Reading JSON file failed"),i.readAsText(t,"UTF-8"),e.preventDefault()}}},getNameField(e,t="name"){return{value:e,name:t,description:"A unique identifier. Must contain only letters (`a`-`z`), digits (`0`-`9`) and underscores (`_`). `snake_case` is recommended.",label:"Name",schema:{type:"string",pattern:"^\\w+$"},default:null}},getDescriptionField(e,t=!1,s="description",i="Description"){return{value:e,name:s,description:"Provides a detailed description. CommonMark (Markdown) syntax can be used for rich text formatting.",label:i,optional:t,schema:{type:"string",subtype:"commonmark"}}},getOptionalField(e){return{value:e,name:"optional",label:"Optional",description:"Parameters by default are required. CHeck this option to make the parameter optional. For optional parameters a default value should be specified.",optional:!0,schema:{type:"boolean"},default:!1}},getDefaultField(e){return{value:e,name:"default",label:"Default Value",description:"This value is used whenever the user of this process did not specify a value for this parameter.",toggledBy:"optional",optional:!0,schema:{}}},getExperimentalField(e){return{value:e,name:"experimental",label:"Experimental",description:"Declares that this is experimental, which means that it is unstable and likely to change.",optional:!0,schema:{type:"boolean"},default:!1}},getDeprecatedField(e){return{value:e,name:"deprecated",label:"Deprecated",description:"Declares that this is deprecated with the potential to be removed in any of the next versions. It should be transitioned out of usage.",optional:!0,schema:{type:"boolean"},default:!1}},getSchemaField(e,t="schema",s="Data Types"){let i=e?"json-schema":"openeo-datatype";return{value:e,name:t,label:s,description:"Allowed data type(s) as JSON Schema.",schema:[{title:"Single data type",type:"object",subtype:i},{title:"Multiple data types",type:"array",minItems:2,items:{type:"object",subtype:i}}]}},editProcess(e){e=r["a"].isObject(e)?e:{};let t=r["a"].isObject(e.returns)?e.returns:{};var s=[this.getNameField(e.id,"id"),{value:e.summary,name:"summary",description:"A very short description of the process with usually less than 60 characters.",label:"Summary",optional:!0,schema:{type:"string"}},this.getDescriptionField(e.description,!0),{value:e.categories,name:"categories",label:"Categories",optional:!0,schema:{type:"array",items:{type:"string"}}},this.getExperimentalField(e.experimental),this.getDeprecatedField(e.deprecated),{label:"Parameters",description:'The parameters can be edited directly in the "Visual Model" interface.',info:!0},this.getDescriptionField(t.description,!0,"returns_description","Return Value > Description"),this.getSchemaField(t.schema,"returns_schema","Return Value > Data Type"),{value:e.exceptions,name:"exceptions",description:"Declares exceptions (errors) that might occur during execution of this process. This list is just for informative purposes.\n\nThe keys of the object are the error codes, which should only consist of alphanumerical characters. `PascalCase` is recommended.",label:"Errors",optional:!0,schema:{type:"object",additionalProperties:{type:"object",required:["message"],properties:{message:{title:"Error Message",type:"string"},description:{title:"Description",type:"string",subtype:"commonmark"},http:{title:"HTTP Status Code",type:"integer",enum:[400,500,501]}}}}},{value:e.examples,name:"examples",label:"Examples",description:"Example calls for this process with specific values for the parameters (arguments) and the result (return value).",optional:!0,schema:{type:"array",items:{type:"object",required:["arguments"],properties:{title:{title:"Title",type:"string"},title:{title:"Description",type:"string",subtype:"commonmark"},arguments:{title:"Arguments",type:"object",default:{}},returns:{title:"Return Value"}}}}},{value:e.links,name:"links",label:"Links",description:"Links related to this process, e.g. additional documentation.",optional:!0,schema:{type:"array",items:{type:"object",required:["href","rel"],properties:{href:{title:"URL",type:"string"},rel:{title:"Relation",description:"For examples see [IANA relation types](https://www.iana.org/assignments/link-relations/link-relations.xhtml)",type:"string",default:"about"},title:{title:"Title",type:"string"},type:{title:"Media Type",description:"For examples see [IANA media types](https://www.iana.org/assignments/media-types/media-types.xhtml)",type:"string"}}}}}];this.emit("showDataForm","Edit Process",s,async e=>{let t=r["a"].pickFromObject(e,["id","summary","description","categories","experimental","deprecated","exception","examples","links"]);("string"===typeof t.description||r["a"].isObject(t.schema))&&(t.returns={description:e.returns_description,schema:e.returns_schema});let s=this.$refs.blocks.export(!0),i=Object.assign({},s,t);const a={id:"",summary:"",description:"",categories:[],experimental:!1,deprecated:!1,examples:[],links:[],process_graph:{}};for(let n in a)r["a"].equals(a[n],i[n])&&delete i[n];this.commit(i)})},addParameter(){var e=[this.getNameField(),this.getDescriptionField(),this.getOptionalField(),this.getDefaultField(),this.getExperimentalField(),this.getDeprecatedField(),this.getSchemaField()];this.emit("showDataForm","Add Parameter",e,async e=>{"string"===typeof e.name&&e.name.length>0&&await this.$refs.blocks.addPgParameter(e)})},editParameter(e,t="Edit Parameter",s=null){var i=[this.getNameField(e.name),this.getDescriptionField(e.description),this.getOptionalField(e.optional),this.getDefaultField(e.default),this.getExperimentalField(e.experimental),this.getDeprecatedField(e.deprecated),this.getSchemaField(e.schema)];this.emit("showDataForm",t,i,s)},showExpressionModal(){let e=new f["a"](this.value,this.processes,this.connection,!0);e.setCallbackParameters(this.$refs.blocks.getPgParameters().map(e=>e.spec));try{e.parse();let t={process:e},s={save:this.insertNodes};this.emit("showModal","ExpressionModal",t,s)}catch(t){r["a"].exception(this,t)}},openArgumentEditorForNode(e){let t=r["a"].deepClone(this.value),s=t.process_graph[e],i=this.processes.get(s.process_id,s.namespace);this.openArgumentEditor(i.parameters.map(e=>new m["ProcessParameter"](e)).filter(e=>e.isEditable()),s.arguments,i.id,!0,null,e=>{Object.assign(s,{arguments:e}),this.commit(t)})},openArgumentEditor(e,t,s="Edit",i=!0,a=null,r=null,n=null){let o={title:s,parameters:e,data:t,editable:i,selectParameterName:a,parent:n},l={};"function"===typeof r&&(l.save=r),this.emit("showModal","ParameterModal",o,l)},confirmClear(){var e=confirm("Do you really want to clear the existing model?");e&&this.clear()},clear(){this.$refs.blocks&&this.$refs.blocks.clear(),this.commit(null)},insertProcess(e,t=null,s=null){try{var i=this.$refs.blocks.getPositionForPageXY(t,s);let a=e.namespace;"backend"!==a&&"user"!==a||(a=null),this.$refs.blocks.addProcess(e.process_id,e.arguments,i,a)}catch(a){r["a"].exception(this,a)}},async insertNodes(e,t=!1){return await this.$refs.blocks.import({process_graph:e},{clear:t})}}},v=g,b=(s("4d98"),s("2877")),w=Object(b["a"])(v,l,c,!1,null,null,null),y=w.exports,S=s("0f29"),x={name:"Editor",components:{VisualEditor:y,TextEditor:S["a"],Tabs:n["default"],Tab:o["default"]},props:{id:{type:String,default:()=>"editor_"+Date.now()},editable:{type:Boolean,default:!0},value:{type:Object,default:()=>null},title:{type:String},parent:{type:Object,default:null},parentSchema:{type:Object,default:null},showDiscoveryToolbar:{type:Boolean,default:!1},defaultValue:{}},watch:{value(){this.updateTab()}},data(){return{modelValue:null,codeValue:null,error:null}},mounted(){this.updateTab()},methods:{...r["a"].mapActions(["loadProcess"]),showModel(){this.error=null,this.modelValue=this.value},showCode(){this.error=null,this.codeValue=this.value,this.$refs.sourceEditor.updateState()},updateTab(){"source"===this.$refs.tabs.getActiveTabId()?this.showCode():this.showModel()},commit(e){this.error=null,this.$emit("input",e)},onError(e){this.error=e},activeEditor(){return"source"===this.$refs.tabs.getActiveTabId()?this.$refs.sourceEditor:this.$refs.graphBuilder},async insertProcess(e){try{await this.loadProcess({id:e.process_id,namespace:e.namespace}),this.activeEditor().insertProcess(e)}catch(t){r["a"].exception(this,t)}},canSwitchView(){return!this.editable||null===this.error||(r["a"].exception(this,this.error,"Process Invalid Error"),!1)}}},C=x,P=(s("58d3"),Object(b["a"])(C,i,a,!1,null,null,null));t["default"]=P.exports},db05:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s("d9e2");var i=s("025e"),a=s("79f4"),r=s("2b70");const n=["abstract","arguments","await","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield","builder","connection","formula","openeo","result"];class o extends a["a"]{constructor(e,t,s,i=!1){super(e,t,s),this.generateFormula=i}createProcessGraphInstance(e){let t=new o(e,this.processRegistry,this.getJsonSchemaValidator(),this.generateFormula);return this.copyProcessGraphInstanceProperties(t)}parse(){this.parsed||super.parse()}getKeywords(){return n}comment(e){this.addCode(e,"// ")}generateImports(){this.addCode("import { OpenEO, Formula } from '@openeo/js-client';")}generateConnection(){this.addCode(`let connection = await OpenEO.connect('${this.getServerUrl()}');`)}generateAuthentication(){this.comment("ToDo: Here you need to add your authentication steps")}generateBuilder(){this.addCode("let builder = await connection.buildProcess();")}generateMetadataEntry(e,t){this.addCode(`builder.${e} = ${this.e(t)};`)}async generateFunction(e){let t=this.var(e.id),s=e.getParent()?"this":"builder",a=await this.generateArguments(e,!e.namespace);if(this.comment(e.description),i["a"].isObject(a)){let i=e.namespace?`${e.process_id}@${e.namespace}`:e.process_id;this.addCode(`let ${t} = ${s}.process("${i}", ${this.e(a)});`)}else this.addCode(`let ${t} = ${s}.${e.process_id}(${a.map(e=>this.e(e)).join(", ")});`)}generateMissingParameter(e){this.comment(e.description);let t=this.var(e.name,"param"),s="undefined"!==typeof e.default?e.default:null;this.addCode(`let ${t} = ${this.e(s)};`)}async generateCallback(e,t,s){if(this.generateFormula&&e&&e.isMath()){let t=e.toFormulaString(),s=JSON.stringify(t);return`new Formula(${s})`}{let i=this.generateFunctionParams(t);this.newLine(),this.addCode(`let ${s} = function(${i.join(", ")}) {`),this.indent++,this.addCode(await e.toCode(!0)),this.indent--,this.addCode("}")}}generateResult(e,t){if(!e)return;let s=this.var(e.id);t?this.addCode(`return ${s};`):this.addCode(`let result = await connection.computeResult(${s});`)}toFormulaString(){return this.isMath()?this.nodeToFormula(this.getResultNode()):""}getArrayElementPlaceholder(e){if("array_element"===e.process_id&&"parameter"===e.getArgumentType("data")){let t=e.getRawArgument("data").from_parameter,s=this.getCallbackParameters().findIndex(e=>e.name===t);if(s>=0)return"$".repeat(s+1)+(e.getArgument("label")||e.getArgument("index"))}return null}nodeToFormula(e,t=null){if("array_element"===e.process_id){let t=this.getArrayElementPlaceholder(e);if(t)return t}let s=r["Formula"].reverseOperatorMapping[e.process_id],a=this.processRegistry.get(e.process_id),n="undefined"!==typeof r["Formula"].arrayOperatorMapping[e.process_id],o=t=>{if(i["a"].isObject(t))if(t.from_node){let i=e.getProcessGraph().getNode(t.from_node);t=i?this.nodeToFormula(i,s):"#"+t.from_node}else{if(!t.from_parameter)throw new Error("Objects not allowed");t=t.from_parameter}return t},l=[],c=Array.isArray(a.parameters)?a.parameters:[];for(let i of c){let t=o(e.getRawArgument(i.name));if(n&&Array.isArray(t)&&"data"===i.name){l=t.map(e=>o(e));break}if("undefined"!==typeof t)l.push(t);else{if("undefined"===typeof i.default)throw new Error('Argument for parameter "'+i.name+'" missing');l.push(i.default)}}if(n&&(l=l.filter(e=>null!==e)),s){let e=["/","*"],i=["-","+"],a=l.map(e=>e<0?"("+e+")":e).join(s);return!t||i.includes(t)&&i.includes(s)||"^"===s||i.includes(t)&&e.includes(s)?a:"("+a+")"}return e.process_id+"("+l.join(", ")+")"}}},db4b:function(e,t,s){},e979:function(e,t,s){"use strict";var i=s("025e"),a=s("3075");class r extends a["b"]{constructor(e,t="DataViewer"){super(e,t),this.isGeoJson=!1}async parseData(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){console.log(t)}return i["a"].detectGeoJson(e)&&(this.isGeoJson=!0,this.component="MapViewer",this.icon="fa-map"),e}}t["a"]=r},ebe9:function(e,t,s){},ebea:function(e,t,s){const i=s("f460");function a(e,t,s){const a=s&&s.debug||!1,r=s&&s.startIndex||0;a&&console.log("starting findTagByName with",t," and ",s);const n=i(e,`<${t}[ >]`,r);if(a&&console.log("start:",n),-1===n)return;const o=e.slice(n+t.length);let l=i(o,"[ /]"+t+">",0);const c=-1===l;c&&(l=i(o,"[ /]>",0));const u=n+t.length+l+1+(c?0:t.length)+1;if(a&&console.log("end:",u),-1===u)return;const d=e.slice(n,u);let h;return h=c?null:d.slice(d.indexOf(">")+1,d.lastIndexOf("<")),{inner:h,outer:d,start:n,end:u}}e.exports=a},ed22:function(e,t){
/*! http://mths.be/repeat v0.2.0 by @mathias */
String.prototype.repeat||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,s=t(e,e,e)&&t}catch(i){}return s}(),t=function(e){if(null==this)throw TypeError();var t=String(this),s=e?Number(e):0;if(s!=s&&(s=0),s<0||s==1/0)throw RangeError();var i="";while(s)s%2==1&&(i+=t),s>1&&(t+=t),s>>=1;return i};e?e(String.prototype,"repeat",{value:t,configurable:!0,writable:!0}):String.prototype.repeat=t}()},f08e:function(e,t,s){},f3db:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"wrapper"}},[s("div",{class:{authenticated:e.isAuthenticated},attrs:{id:"ide"}},[s("header",{staticClass:"navbar"},[s("Logo"),s("ul",{attrs:{id:"menu"}},[s("li",[s("div",{staticClass:"menuItem",attrs:{title:"Start a guided tour"},on:{click:e.showHelp}},[s("i",{staticClass:"fas fa-question fa-fw"}),e._v(" Help")])]),s("li",[s("div",{staticClass:"menuItem",attrs:{title:"Get server information"},on:{click:e.showServerInfo}},[s("i",{staticClass:"fas fa-info fa-fw"}),e._v(" Server")])]),s("li",[s("UserMenu")],1)])],1),s("Splitpanes",{staticClass:"default-theme",on:{resize:e.resized,"pane-maximize":e.resized}},[s("Pane",{attrs:{id:"discovery",size:e.splitpaneSizeH[0]}},[s("DiscoveryToolbar",{staticClass:"toolbar tour-ide-discovery",attrs:{onAddProcess:e.insertProcess,collectionPreview:!0,persist:!0}})],1),s("Pane",{attrs:{id:"workspace",size:e.splitpaneSizeH[1]}},[s("Splitpanes",{staticClass:"default-theme",attrs:{horizontal:""},on:{resize:e.resized,"pane-maximize":e.resized}},[s("Pane",{attrs:{id:"editor",size:e.splitpaneSizeV[0]}},[s("Editor",{ref:"editor",staticClass:"mainEditor tour-ide-editor",attrs:{id:"main",value:e.process,title:e.contextTitle},on:{input:e.updateEditor},scopedSlots:e._u([{key:"file-toolbar",fn:function(){return[s("button",{attrs:{type:"button",title:"Import process from external source"},on:{click:e.importProcess}},[s("i",{staticClass:"fas fa-cloud-download-alt"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.saveSupported,expression:"saveSupported"}],attrs:{type:"button",disabled:!e.hasProcess,title:"Save to "+e.contextTitle},on:{click:e.saveProcess}},[s("i",{staticClass:"fas fa-save"})]),s("button",{attrs:{type:"button",disabled:!e.hasProcess,title:"Export into another programming language"},on:{click:e.exportCode}},[s("i",{staticClass:"fas fa-file-export"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.validateSupported,expression:"validateSupported"}],attrs:{type:"button",disabled:!e.hasProcess,title:"Validate process on server-side"},on:{click:e.validateProcess}},[s("i",{staticClass:"fas fa-tasks"})])]},proxy:!0}])})],1),s("Pane",{attrs:{id:"user",size:e.splitpaneSizeV[1]}},[e.isAuthenticated?s("UserWorkspace",{staticClass:"userContent tour-ide-workspace"}):s("div",{staticClass:"message info",attrs:{title:"Login is required to interact with the server."}},[s("i",{staticClass:"fas fa-sign-in-alt"}),s("span",{staticClass:"login-message"},[s("strong",[s("a",{on:{click:e.login}},[e._v("Log in")])]),e._v(" is required to interact with the server.")])])],1)],1)],1),s("Pane",{class:{empty:!e.showViewer},attrs:{id:"viewer",size:e.splitpaneSizeH[2]}},[s("Viewer",{staticClass:"tour-ide-viewer",on:{empty:e.onViewerEmpty}})],1)],1)],1)])},a=[],r=s("3115"),n=s("025e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"UserMenu"}},[s("div",{staticClass:"menuItem"},[e._m(0),s("div",{staticClass:"data"},[s("span",{staticClass:"name nowrap"},[s("i",{staticClass:"fas fa-user"}),e._v(" "+e._s(e.userName))]),e.budget?s("span",{staticClass:"credits nowrap"},[s("i",{staticClass:"fas fa-dollar-sign fa-fw"}),e._v(" "+e._s(e.budget))]):e._e(),e.hasStorage?s("span",{staticClass:"storage nowrap"},[s("i",{staticClass:"fas fa-database fa-fw"}),e._v(" "+e._s(e.storageUsedPercent)+"% used")]):e._e()])]),s("div",{staticClass:"dropdown"},[e.profileLink?s("a",{staticClass:"item",attrs:{href:e.profileLink.href,target:"_blank"}},[e._v("Welcome, "+e._s(e.userName)+"!")]):s("div",{staticClass:"item"},[e._v("Welcome, "+e._s(e.userName)+"!")]),e.isAuthenticated?[e.settingsLink?s("a",{staticClass:"item",attrs:{href:e.settingsLink.href,target:"_blank"}},[s("i",{staticClass:"fas fa-user-edit"}),e._v(" "+e._s(e.settingsLink.title||"Edit Profile"))]):e._e(),s("a",{staticClass:"item",on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[s("i",{staticClass:"fas fa-sign-out-alt"}),e._v(" Logout")])]:[s("a",{staticClass:"item",on:{click:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[s("i",{staticClass:"fas fa-sign-in-alt"}),e._v(" Login")]),e.registerLink?s("a",{staticClass:"item",attrs:{href:e.registerLink.href,target:"_blank"}},[s("i",{staticClass:"fas fa-user-plus"}),e._v(" Register")]):e._e(),e.passwordLink?s("a",{staticClass:"item",attrs:{href:e.passwordLink.href,target:"_blank"}},[s("i",{staticClass:"fas fa-key"}),e._v(" Forgotten Password?")]):e._e()],e.$config.serverUrl?e._e():s("a",{staticClass:"item",on:{click:function(t){return t.preventDefault(),e.disconnect.apply(null,arguments)}}},[s("i",{staticClass:"fas fa-sign-out-alt"}),e._v(" Disconnect")]),e.userLinks.length>0?[s("hr"),e._l(e.userLinks,(function(t,i){return s("a",{key:i,staticClass:"item",attrs:{href:t.href,target:"_blank",rel:t.rel}},[e._v(e._s(t.title))])}))]:e._e(),e.budget||e.userInfo.default_plan||e.paymentLink?[s("hr"),s("div",{staticClass:"item"},[s("h4",[e._v("Billing")]),e.userInfo.default_plan?s("div",{staticClass:"secondary-text"},[e._v("Plan: "+e._s(e.userInfo.default_plan))]):e._e(),e.budget?s("div",{staticClass:"secondary-text"},[e._v("Budget: "+e._s(e.budget))]):e._e()]),e.paymentLink?s("a",{staticClass:"item",attrs:{href:e.paymentLink.href,target:"_blank"}},[s("i",{staticClass:"fas fa-credit-card"}),e._v(" "+e._s(e.paymentLink.title||"Recharge"))]):e._e()]:e._e(),e.hasStorage?[s("hr"),s("div",{staticClass:"item"},[s("h4",[e._v("Storage")]),s("div",{staticClass:"secondary-text nowrap"},[e._v("Used "+e._s(e.formatMegabyte(e.storageUsed))+" of "+e._s(e.formatMegabyte(e.userInfo.storage.quota))+".")]),s("div",{staticClass:"storagePercent"},[s("div",{staticClass:"used",style:"width: "+e.storageUsedPercent+"%"})])])]:e._e()],2)])},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"down"},[s("i",{staticClass:"fas fa-chevron-down"})])}],c={name:"UserMenu",mixins:[r["a"]],computed:{...n["a"].mapState(["userInfo","isAuthenticated"]),...n["a"].mapGetters(["currency","capabilities"]),userLinks(){return n["a"].friendlyLinks(this.userInfo.links,!0,["self","edit-form","payment","alternate"])},serverLinks(){return this.capabilities?this.capabilities.links():[]},registerLink(){return this.serverLinks.find(e=>"create-form"===e.rel)},passwordLink(){return this.serverLinks.find(e=>"recovery-form"===e.rel)},settingsLink(){return Array.isArray(this.userInfo.links)?this.userInfo.links.find(e=>"edit-form"===e.rel):void 0},paymentLink(){return Array.isArray(this.userInfo.links)?this.userInfo.links.find(e=>"payment"===e.rel):void 0},profileLink(){return Array.isArray(this.userInfo.links)?this.userInfo.links.find(e=>"alternate"===e.rel):void 0},hasStorage(){return n["a"].isObject(this.userInfo.storage)&&"number"===typeof this.userInfo.storage.quota&&"number"===typeof this.userInfo.storage.free},budget(){return n["a"].formatBudget(this.userInfo.budget,this.currency)},userName(){return"string"===typeof this.userInfo.name?this.userInfo.name:"string"===typeof this.userInfo.user_id?this.userInfo.user_id:this.isAuthenticated?"User":"Guest"},storageUsed(){return this.hasStorage?this.userInfo.storage.quota-this.userInfo.storage.free:null},storageUsedPercent(){return this.hasStorage?Math.round(this.storageUsed/this.userInfo.storage.quota*100):null}},methods:{...n["a"].mapActions({logoutUser:"logout"}),...n["a"].mapMutations("editor",{resetEditor:"reset"}),async logout(){await this.logoutUser(!1),n["a"].ok(this,"Logout successful.")},async disconnect(){await this.logoutUser(!0),this.resetEditor(),window.history.pushState({},"","?")},login(){this.emit("showLogin")},formatMegabyte(e){var t=1073741824;return e>t?Math.round(e/t)+" GB":Math.round(e/1048576)+" MB"}}},u=c,d=(s("fdbd"),s("2877")),h=Object(d["a"])(u,o,l,!1,null,"76333d38",null),p=h.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Tabs",{ref:"tabs",attrs:{id:"userContent"}},[e.showJobs?s("Tab",{attrs:{id:"jobs",name:"Data Processing",icon:"fa-tasks"},on:{show:e.onShow,hide:e.onHide}},[s("JobPanel")],1):e._e(),e.showServices?s("Tab",{attrs:{id:"services",name:"Web Services",icon:"fa-cloud"},on:{show:e.onShow,hide:e.onHide}},[s("ServicePanel")],1):e._e(),e.showCustomProcesses?s("Tab",{attrs:{id:"customProcesses",name:"Custom Processes",icon:"fa-sitemap"},on:{show:e.onShow,hide:e.onHide}},[s("CustomProcessPanel")],1):e._e(),e.showFiles?s("Tab",{attrs:{id:"files",name:"Files",icon:"fa-file"},on:{show:e.onShow,hide:e.onHide}},[s("FilePanel")],1):e._e()],1)},f=[],g=s("e7ea"),v=s("bdb2"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"FilePanel"},on:{dragenter:function(t){return e.dropZoneInfo(!0)},dragleave:function(t){return e.dropZoneInfo(!1)},drop:function(t){return e.uploadFiles(t)},dragover:function(t){return e.allowDrop(t)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showUploadDropHint,expression:"showUploadDropHint"}],staticClass:"dropZone"},[e._v("To upload files, drop them here.")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.supportsCreate,expression:"supportsCreate"}],staticClass:"addFile"},[s("input",{ref:"uploadUserFile",staticClass:"uploadUserFile",attrs:{type:"file",name:"uploadUserFile",multiple:""},on:{change:e.uploadFiles}})]),s("div",{staticClass:"percent"},[s("div",{staticClass:"used",class:{error:e.uploadErrored},style:"width: "+this.uploadProgress+"%; opacity: "+this.uploadFadeOut})]),s("DataTable",{ref:"table",attrs:{data:e.data,columns:e.columns},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsRead,expression:"supportsRead"}],attrs:{title:"Download"},on:{click:function(s){return e.downloadFile(t.row)}}},[s("i",{staticClass:"fas fa-download"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsDelete,expression:"supportsDelete"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteFile(t.row)}}},[s("i",{staticClass:"fas fa-trash"})])]}}])})],1)},w=[],y=s("2f5c"),S=(e,t,s,i=!0)=>({components:{DataTable:y["a"]},data(){return{columns:{},syncTimer:null,lastSyncTime:null}},mounted(){i&&this.updateData()},beforeDestroy(){this.stopSyncTimer()},computed:{...n["a"].mapState(e,{data:e}),...n["a"].mapGetters(e,["supportsList","supportsCreate","supportsRead","supportsUpdate","supportsDelete"])},methods:{...n["a"].mapActions(e,["list","create","read","update","delete"]),getTable(){return this.$refs&&this.$refs.table?this.$refs.table:null},onShow(){this.updateData(),this.startSyncTimer()},onHide(){this.stopSyncTimer()},startSyncTimer(){this.supportsList&&null===this.syncTimer&&(this.syncTimer=setInterval(this.updateData,this.getSyncInterval()))},stopSyncTimer(){null!==this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null)},getSyncInterval(){return 60*this.$config.dataRefreshInterval*1e3},async refreshElement(e,s=null){var i=Object.assign({},e);try{let t=await this.read({data:e});"function"===typeof s&&s(t,i)}catch(a){n["a"].exception(this,a,"Load "+t+" error")}},async updateData(){var e=this.getTable(),i=Date.now()-this.getSyncInterval();if(e&&!(this.lastSyncTime>i))if(this.supportsList)if(this.supportsCreate){var a=this.data.length>0;a||e.setNoData("Loading "+s+"..."),this.lastSyncTime=Date.now();try{let s=await this.list();0==s.length&&e.setNoData("Add your first "+t+" here...")}catch(r){a?console.log(r):(n["a"].exception(this,r),e.setNoData("Sorry, unable to load data from the server."))}}else e.setNoData("Sorry, this feature is not supported by the server.");else e.setNoData("Sorry, listing stored "+s+" is not supported by the server.")}}}),x={name:"FilePanel",mixins:[S("files","file","files")],data(){return{columns:{path:{name:"Path",primaryKey:!0,sortFn:n["a"].sortByPath,sort:"asc"},size:{name:"Size",format:"FileSize",filterable:!1},modified:{name:"Last modified",format:"Timestamp"},actions:{name:"Actions",filterable:!1,sort:!1}},uploadProgress:0,uploadProgressPerFile:[],uploadErrored:!1,uploadFadeOut:1,showUploadDropHint:0}},watch:{uploadProgressPerFile:{deep:!0,handler(){this.uploadProgress=this.uploadProgressPerFile.reduce((e,t)=>e+t,0)/this.uploadProgressPerFile.length,this.uploadProgress>99.9999&&this.finishAllUploads()}}},methods:{allowDrop(e){this.supportsCreate&&(e.preventDefault(),e.stopPropagation())},dropZoneInfo(e){this.showUploadDropHint+=e?1:-1},uploadFiles(e){this.showUploadDropHint=0;var t=[];if(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length?(t=e.dataTransfer.files,e.preventDefault(),e.stopPropagation()):e.target&&e.target.files&&e.target.files.length&&(t=e.target.files),this.supportsCreate)if(0!==t.length){this.uploadProgressPerFile=[],this.uploadProgress=0,this.uploadErrored=!1;for(let e=0;e<t.length;e++)this.uploadFile(t[e],e)}else n["a"].info(this,"Please select files to upload.");else n["a"].error(this,"Uploading files is not supported.")},async uploadFile(e,t){if(this.uploadProgressPerFile.push(0),"string"===typeof e.name)try{await this.create({parameters:[e,null,e=>this.$set(this.uploadProgressPerFile,t,e)]}),this.$set(this.uploadProgressPerFile,t,100),n["a"].ok(this,"File upload completed.",e.name)}catch(s){console.error(s),n["a"].exception(this,s,"Upload File Error: "+e.name)}},finishAllUploads(){this.$refs.uploadUserFile.value="";var e=setInterval(()=>{this.uploadFadeOut-=.05,this.uploadFadeOut<0&&(this.uploadProgress=0,this.uploadFadeOut=1,clearInterval(e))},100)},downloadFile(e){e.downloadFile(e.path)},deleteFile(e){confirm(`Do you really want to delete the file "${e.path}"?`)&&this.delete({data:e}).catch(t=>n["a"].exception(this,t,"Delete File Error: "+e.path))}}},C=x,P=(s("9961"),Object(d["a"])(C,b,w,!1,null,null,null)),_=P.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("DataTable",{ref:"table",staticClass:"JobPanel",attrs:{data:e.data,columns:e.columns},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsRead,expression:"supportsRead"}],attrs:{title:"Details"},on:{click:function(s){return e.showJobInfo(t.row)}}},[s("i",{staticClass:"fas fa-info"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("estimateJob"),expression:"supports('estimateJob')"}],attrs:{title:"Estimate"},on:{click:function(s){return e.estimateJob(t.row)}}},[s("i",{staticClass:"fas fa-file-invoice-dollar"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsUpdate,expression:"supportsUpdate"}],attrs:{title:"Edit metadata",disabled:!e.isJobInactive(t.row)},on:{click:function(s){return e.editMetadata(t.row)}}},[s("i",{staticClass:"fas fa-edit"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsRead,expression:"supportsRead"}],attrs:{title:"Edit process"},on:{click:function(s){return e.showInEditor(t.row)}}},[s("i",{staticClass:"fas fa-project-diagram"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsDelete,expression:"supportsDelete"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteJob(t.row)}}},[s("i",{staticClass:"fas fa-trash"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("startJob")&&e.isJobInactive(t.row),expression:"supports('startJob') && isJobInactive(p.row)"}],attrs:{title:"Start processing"},on:{click:function(s){return e.queueJob(t.row)}}},[s("i",{staticClass:"fas fa-play-circle"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("stopJob")&&e.isJobActive(t.row),expression:"supports('stopJob') && isJobActive(p.row)"}],attrs:{title:"Cancel processing"},on:{click:function(s){return e.cancelJob(t.row)}}},[s("i",{staticClass:"fas fa-stop-circle"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("downloadResults")&&e.mayHaveResults(t.row),expression:"supports('downloadResults') && mayHaveResults(p.row)"}],attrs:{title:"Download"},on:{click:function(s){return e.downloadResults(t.row)}}},[s("i",{staticClass:"fas fa-download"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("downloadResults")&&e.mayHaveResults(t.row),expression:"supports('downloadResults') && mayHaveResults(p.row)"}],attrs:{title:"View results"},on:{click:function(s){return e.viewResults(t.row,!0)}}},[s("i",{staticClass:"fas fa-eye"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("debugJob"),expression:"supports('debugJob')"}],attrs:{title:"View logs"},on:{click:function(s){return e.showLogs(t.row)}}},[s("i",{staticClass:"fas fa-bug"})])]}}])},[s("template",{slot:"toolbar"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsCreate,expression:"supportsCreate"}],attrs:{title:"Add new job for batch processing",disabled:!this.hasProcess},on:{click:function(t){return e.createJobFromScript()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Create Batch Job")]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("computeResult"),expression:"supports('computeResult')"}],attrs:{title:"Run the process directly and view the results without storing them permanently",disabled:!this.hasProcess},on:{click:e.executeProcess}},[s("i",{staticClass:"fas fa-play"}),e._v(" Run / Preview")])])],2)},T=[],E=s("2b70");const F=S("jobs","batch job","batch jobs");var z={name:"JobPanel",mixins:[F,r["a"]],data(){return{columns:{id:{name:"ID",primaryKey:!0,hide:!0},title:{name:"Batch Job",computedValue:e=>n["a"].getResourceTitle(e),format:e=>n["a"].formatIdOrTitle(e),edit:this.updateTitle},status:{name:"Status",stylable:!0},created:{name:"Submitted",format:"Timestamp",sort:"desc"},updated:{name:"Last update",format:"Timestamp"},actions:{name:"Actions",filterable:!1,sort:!1}},watchers:{},jobUpdater:null,runId:0}},mounted(){this.listen("replaceProcess",this.replaceProcess)},computed:{...n["a"].mapState(["connection"]),...n["a"].mapGetters(["supports","supportsBilling","supportsBillingPlans"]),...n["a"].mapGetters("editor",["hasProcess"]),...n["a"].mapState("editor",["process"])},watch:{data:{handler:function(e){this.watchers={};for(let t of e)n["a"].isActiveJobStatusCode(t.status)&&(this.watchers[t.id]=t)},deep:!0}},methods:{...n["a"].mapActions("jobs",["queue","cancel"]),startSyncTimer(){F.methods.startSyncTimer.call(this),this.jobUpdater=setInterval(this.executeWatchers,1e4)},stopSyncTimer(){F.methods.stopSyncTimer.call(this),null!==this.jobUpdater&&clearInterval(this.jobUpdater)},showInEditor(e){this.refreshElement(e,e=>this.emit("editProcess",e))},async executeProcess(){let e,t=new E["AbortController"],s={timeout:0,type:"async",buttons:[{text:"Cancel",action:e=>{t.abort(),this.$snotify.remove(e.id,!0)}}]};try{this.runId++;let i="A process is currently executed synchronously...",a="Run / Preview #"+this.runId,r=()=>new Promise(()=>{});e=this.$snotify.async(i,a,r,s);let n=await this.connection.computeResult(this.process,null,null,t);this.emit("viewSyncResult",n)}catch(i){axios.isCancel(i)||("string"===typeof i.message&&n["a"].isObject(i.response)&&[400,500].includes(i.response.status)?(this.emit("viewLogs",[{id:i.id,code:i.code,level:"error",message:i.message,links:i.links||[]}]),n["a"].error(this,"Synchronous processing failed. Please see the logs for details.","Processing Error")):n["a"].exception(this,i,"Server Error"))}finally{e&&this.$snotify.remove(e.id,!0)}},jobCreated(e){var t=[];this.supports("estimateJob")&&t.push({text:"Estimate",action:()=>this.estimateJob(e)}),this.supports("startJob")&&t.push({text:"Start processing",action:()=>this.queueJob(e)}),this.supports("deleteJob")&&t.push({text:"Delete",action:()=>this.deleteJob(e)}),n["a"].confirm(this,'Job "'+n["a"].getResourceTitle(e)+'" created!',t)},getTitleField(e=null){return{name:"title",label:"Title",schema:{type:"string"},default:null,value:e,optional:!0}},getDescriptionField(e=null){return{name:"description",label:"Description",schema:{type:"string",subtype:"commonmark"},default:null,value:e,description:"CommonMark (Markdown) is allowed.",optional:!0}},getBillingPlanField(e){return{name:"plan",label:"Billing plan",schema:{type:"string",subtype:"billing-plan"},value:e,optional:!0}},getBudgetField(e=null){return{name:"budget",label:"Budget",schema:{type:"number",subtype:"budget"},default:null,value:e,optional:!0}},normalizeToDefaultData(e){return"undefined"===typeof e.title||"string"===typeof e.title&&0!==e.title.length||(e.title=null),"undefined"===typeof e.description||"string"===typeof e.description&&0!==e.description.length||(e.description=null),"undefined"===typeof e.plan||"string"===typeof e.plan&&0!==e.plan.length||(e.plan=null),"undefined"!==typeof e.budget&&("number"!==typeof e.budget||e.budget<0)&&(e.budget=null),e},async createJob(e,t){try{t=this.normalizeToDefaultData(t);let s=await this.create({parameters:[e,t.title,t.description,t.plan,t.budget]});this.jobCreated(s)}catch(s){n["a"].exception(this,s,"Create Job Error: "+(t.title||""))}},createJobFromScript(){var e=[this.getTitleField(),this.getDescriptionField(),this.supportsBillingPlans?this.getBillingPlanField():null,this.supportsBilling?this.getBudgetField():null];this.emit("showDataForm","Create new batch job",e,e=>this.createJob(this.process,e))},async deleteJob(e){if(confirm(`Do you really want to delete the batch job "${n["a"].getResourceTitle(e)}"?`))try{await this.delete({data:e}),this.emit("removeBatchJob",e.id)}catch(t){n["a"].exception(this,t,"Delete Job Error: "+n["a"].getResourceTitle(e))}},executeWatchers(){for(var e in this.watchers)this.refreshElement(this.watchers[e],(e,t)=>{if("finished"!==t.status&&"finished"===e.status){var s=[];this.supports("downloadResults")&&(s.push({text:"Download",action:()=>this.downloadResults(e)}),s.push({text:"View",action:()=>this.viewResults(e)})),n["a"].confirm(this,'Job "'+n["a"].getResourceTitle(e)+'" has finished!',s)}else"error"!==t.status&&"error"===e.status&&n["a"].error(this,'Job "'+n["a"].getResourceTitle(e)+'" has stopped due to an error or timeout.');t.status!==e.status&&this.emit("jobStatusUpdated",e,t)})},async showJobInfo(e){this.refreshElement(e,async e=>{let t=null;if("finished"===e.status)try{t=await e.getResultsAsStac()}catch(s){n["a"].exception(this,s,"Load Results Error: "+n["a"].getResourceTitle(e))}this.emit("showModal","JobInfoModal",{job:e.getAll(),result:t})})},async estimateJob(e){try{let t=await e.estimateJob();this.emit("showModal","JobEstimateModal",{job:e.getAll(),estimate:t})}catch(t){n["a"].exception(this,t,"Job Estimate Error: "+n["a"].getResourceTitle(e))}},showLogs(e){this.emit("viewLogs",e)},replaceProcess(e,t){e instanceof E["Job"]&&(this.isJobActive(e)?n["a"].error(this,"Can't update process while batch job is running."):this.updateJob(e,{process:t}))},editMetadata(e){this.refreshElement(e,e=>{var t=[this.getTitleField(e.title),this.getDescriptionField(e.description),this.supportsBillingPlans?this.getBillingPlanField(e.plan):null,this.supportsBilling?this.getBudgetField(e.budget):null];this.emit("showDataForm","Edit batch job",t,t=>this.updateJob(e,t))})},updateTitle(e,t){this.updateJob(e,{title:t})},async updateJob(e,t){try{let s=await this.update({data:e,parameters:this.normalizeToDefaultData(t)});n["a"].ok(this,'Job "'+n["a"].getResourceTitle(s)+'" successfully updated.')}catch(s){n["a"].exception(this,s,"Update Job Error: "+n["a"].getResourceTitle(e))}},async queueJob(e){this.refreshElement(e,async t=>{if("finished"!==t.status||confirm(`The batch job "${n["a"].getResourceTitle(t)}" has already finished with results. Queueing the job again may discard all previous results! Do you really want to queue it again?`))try{let t=await this.queue({data:e});n["a"].ok(this,'Job "'+n["a"].getResourceTitle(t)+'" successfully queued.')}catch(s){n["a"].exception(this,s,"Queue Job Error: "+n["a"].getResourceTitle(e))}})},async cancelJob(e){if(confirm(`Do you really want to cancel the execution of batch job "${n["a"].getResourceTitle(e)}"?`))try{let t=await this.cancel({data:e});n["a"].ok(this,'Job "'+n["a"].getResourceTitle(t)+'" successfully canceled.')}catch(t){n["a"].exception(this,t,"Cancel Job Error: "+n["a"].getResourceTitle(e))}},async viewResults(e){try{let t=await e.getResultsAsStac();if(0==n["a"].size(t.assets))return void n["a"].error(this,'No results available for job "'+n["a"].getResourceTitle(e)+'".');this.emit("viewJobResults",t,e)}catch(t){n["a"].exception(this,t,"View Result Error: "+n["a"].getResourceTitle(e))}},async downloadResults(e){try{let t=await e.getResultsAsStac();if(0==n["a"].size(t.assets))return void n["a"].error(this,'No results available for job "'+n["a"].getResourceTitle(e)+'".');this.emit("showModal","DownloadAssetsModal",{job:e,result:t})}catch(t){n["a"].exception(this,t,"Download Result Error: "+n["a"].getResourceTitle(e))}},mayHaveResults(e){return"string"!==typeof e.status||"finished"==e.status.toLowerCase()},isJobInactive(e){return!0!==n["a"].isActiveJobStatusCode(e.status)},isJobActive(e){return!1!==n["a"].isActiveJobStatusCode(e.status)}}},D=z,M=(s("8663"),Object(d["a"])(D,k,T,!1,null,null,null)),I=M.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("DataTable",{ref:"table",staticClass:"CustomProcessPanel",attrs:{data:e.data,columns:e.columns},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsRead,expression:"supportsRead"}],attrs:{title:"Details"},on:{click:function(s){return e.processInfo(t.row)}}},[s("i",{staticClass:"fas fa-info"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsRead,expression:"supportsRead"}],attrs:{title:"Edit process"},on:{click:function(s){return e.showInEditor(t.row)}}},[s("i",{staticClass:"fas fa-project-diagram"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsDelete,expression:"supportsDelete"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteProcess(t.row)}}},[s("i",{staticClass:"fas fa-trash"})])]}}])},[s("template",{slot:"toolbar"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsCreate,expression:"supportsCreate"}],attrs:{title:"Add new custom process",disabled:!this.hasProcess},on:{click:e.addProcessFromScript}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Add")])])],2)},A=[],N={name:"CustomProcessPanel",mixins:[S("userProcesses","custom process","custom processes",!1),r["a"]],data(){return{columns:{id:{name:"ID",primaryKey:!0,sort:"asc"},summary:{name:"Summary"},actions:{name:"Actions",filterable:!1,sort:!1}}}},computed:{...n["a"].mapState("editor",["process"]),...n["a"].mapGetters(["processes"]),...n["a"].mapGetters("editor",["hasProcess"])},mounted(){this.listen("replaceProcess",this.replaceProcess)},methods:{showInEditor(e){this.refreshElement(e,e=>this.emit("editProcess",e))},getIdField(e){return{value:e,name:"id",description:"A unique identifier. Must contain only letters (`a`-`z`), digits (`0`-`9`) and underscores (`_`). `snake_case` is recommended.",label:"Process ID",schema:{type:"string",pattern:"^\\w+$"},default:null}},addProcessFromScript(){let e=[];this.process.id?this.process.id.match("^\\w+$")?this.processes.has(this.process.id,"user")&&(e.push({label:"Warning!",description:"A process with the given name exists! If you click 'Save' below, you confirm that you want to override the existing process. If you don't want to override the existing process, please choose a different name below.",info:!0}),e.push(this.getIdField(this.process.id))):(e.push({label:"Please note...",description:"The given process name is invalid, please choose another one below.",info:!0}),e.push(this.getIdField(this.process.id))):e.push(this.getIdField());let t=e=>this.addProcess(this.normalize(this.process,e));e.length>0?this.emit("showDataForm","Store a new custom process",e,t):t()},normalize(e,t={}){return Object.assign({},"function"===typeof e.toJSON?e.toJSON():e,t)},addProcess(e){this.create({parameters:[e.id,e]}).catch(t=>n["a"].exception(this,t,"Store Process Error"+(e.id?": "+e.id:"")))},processInfo(e){this.emit("showProcess",e)},replaceProcess(e,t){e instanceof E["UserProcess"]&&this.updateMetadata(e,t)},async updateMetadata(e,t){try{let s=await this.update({data:e,parameters:this.normalize(e,t)});n["a"].ok(this,'Process "'+n["a"].getResourceTitle(s)+'" successfully updated.')}catch(s){n["a"].exception(this,s,"Update Process Error"+(e.id?": "+e.id:""))}},deleteProcess(e){confirm(`Do you really want to delete the process "${n["a"].getResourceTitle(e)}"?`)&&this.delete({data:e}).catch(t=>n["a"].exception(this,t,"Delete Process Error"+(e.id?": "+e.id:"")))}}},$=N,j=(s("1b7a"),Object(d["a"])($,R,A,!1,null,null,null)),O=j.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("DataTable",{ref:"table",staticClass:"ServicePanel",attrs:{data:e.data,columns:e.columns},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsRead,expression:"supportsRead"}],attrs:{title:"Details"},on:{click:function(s){return e.serviceInfo(t.row)}}},[s("i",{staticClass:"fas fa-info"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsUpdate,expression:"supportsUpdate"}],attrs:{title:"Edit metadata"},on:{click:function(s){return e.editMetadata(t.row)}}},[s("i",{staticClass:"fas fa-edit"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsRead,expression:"supportsRead"}],attrs:{title:"Edit process"},on:{click:function(s){return e.showInEditor(t.row)}}},[s("i",{staticClass:"fas fa-project-diagram"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsDelete,expression:"supportsDelete"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteService(t.row)}}},[s("i",{staticClass:"fas fa-trash"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.row.enabled&&e.isMapServiceSupported(t.row.type),expression:"p.row.enabled && isMapServiceSupported(p.row.type)"}],attrs:{title:"View on map"},on:{click:function(s){return e.viewService(t.row)}}},[s("i",{staticClass:"fas fa-map"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("debugService"),expression:"supports('debugService')"}],attrs:{title:"View logs"},on:{click:function(s){return e.showLogs(t.row)}}},[s("i",{staticClass:"fas fa-bug"})])]}}])},[s("template",{slot:"toolbar"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supportsCreate,expression:"supportsCreate"}],attrs:{title:"Add new service",disabled:!this.hasProcess},on:{click:function(t){return e.createServiceFromScript()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Create")])])],2)},L=[],J={name:"ServicePanel",mixins:[S("services","web service","web services"),r["a"]],data(){return{columns:{id:{name:"ID",primaryKey:!0,hide:!0},title:{name:"Web Service",computedValue:e=>n["a"].getResourceTitle(e),format:e=>n["a"].formatIdOrTitle(e),edit:this.updateTitle},type:{name:"Type",format:e=>"string"===typeof e?e.toUpperCase():e},enabled:{name:"Enabled",edit:this.toggleEnabled},created:{name:"Submitted",format:"Timestamp",sort:"desc"},actions:{name:"Actions",filterable:!1,sort:!1}}}},computed:{...n["a"].mapState("editor",["process"]),...n["a"].mapGetters("editor",["hasProcess"]),...n["a"].mapState(["serviceTypes"]),...n["a"].mapGetters(["supports","supportsBilling","supportsBillingPlans"])},mounted(){this.listen("replaceProcess",this.replaceProcess)},methods:{isMapServiceSupported(e){return n["a"].isMapServiceSupported(e)},showInEditor(e){this.refreshElement(e,e=>this.emit("editProcess",e))},showLogs(e){this.emit("viewLogs",e)},serviceCreated(e){var t=[];this.isMapServiceSupported(e.type)&&t.push({text:"View on map",action:()=>this.viewService(e)}),this.supportsRead&&t.push({text:"Details",action:()=>this.serviceInfo(e)}),this.supportsDelete&&t.push({text:"Delete",action:()=>this.deleteService(e)}),n["a"].confirm(this,"Web Service created!",t)},getTitleField(e=null){return{name:"title",label:"Title",schema:{type:"string"},default:null,value:e,optional:!0}},getDescriptionField(e=null){return{name:"description",label:"Description",schema:{type:"string",subtype:"commonmark"},default:null,value:e,description:"CommonMark (Markdown) is allowed.",optional:!0}},getServiceTypeField(e){return{name:"type",label:"Type",schema:{type:"string",subtype:"service-type"},value:e}},getBillingPlanField(e){return{name:"plan",label:"Billing plan",schema:{type:"string",subtype:"billing-plan"},value:e,optional:!0}},getBudgetField(e=null){return{name:"budget",label:"Budget",schema:{type:"number",subtype:"budget"},default:null,value:e,optional:!0}},getEnabledField(e=!0){return{name:"enabled",label:"Enabled",schema:{type:"boolean"},default:!0,value:e,optional:!0}},getConfigField(e){return{name:"configuration",label:"Service Configuration",schema:{type:"object",subtype:"service-config"},value:e,optional:!0}},normalizeToDefaultData(e){return"undefined"===typeof e.title||"string"===typeof e.title&&0!==e.title.length||(e.title=null),"undefined"===typeof e.description||"string"===typeof e.description&&0!==e.description.length||(e.description=null),"undefined"!==typeof e.enabled&&"boolean"!==typeof e.enabled&&(e.enabled=!0),"undefined"===typeof e.configuration||n["a"].isObject(e.configuration)||(e.configuration={}),"undefined"===typeof e.plan||"string"===typeof e.plan&&0!==e.plan.length||(e.plan=null),"undefined"!==typeof e.budget&&("number"!==typeof e.budget||e.budget<0)&&(e.budget=null),e},async createService(e,t){t=this.normalizeToDefaultData(t);try{let s=await this.create({parameters:[e,t.type,t.title,t.description,t.enabled,t.configuration,t.plan,t.budget]});this.serviceCreated(s)}catch(s){n["a"].exception(this,s,"Create Service Error: "+(t.title||""))}},createServiceFromScript(){var e=[this.getTitleField(),this.getDescriptionField(),this.getServiceTypeField(),this.getEnabledField(),this.supportsBillingPlans?this.getBillingPlanField():null,this.supportsBilling?this.getBudgetField():null,this.getConfigField()];this.emit("showDataForm","Create new web service",e,e=>this.createService(this.process,e))},editMetadata(e){this.refreshElement(e,e=>{var t=[this.getTitleField(e.title),this.getDescriptionField(e.description),this.getEnabledField(e.enabled),this.supportsBillingPlans?this.getBillingPlanField(e.plan):null,this.supportsBilling?this.getBudgetField(e.budget):null,this.getConfigField(e.configuration)];this.emit("showDataForm","Edit web service",t,t=>this.updateService(e,t))})},serviceInfo(e){this.refreshElement(e,e=>{this.emit("showModal","ServiceInfoModal",{service:e.getAll()})})},replaceProcess(e,t){e instanceof E["Service"]&&this.updateService(e,{process:t})},updateTitle(e,t){this.updateService(e,{title:t})},toggleEnabled(e){this.updateService(e,{enabled:!e.enabled})},async updateService(e,t){try{let s=await this.update({data:e,parameters:this.normalizeToDefaultData(t)});n["a"].ok(this,'Service "'+n["a"].getResourceTitle(s)+'" successfully updated.')}catch(s){n["a"].exception(this,s,"Update Service Error: "+n["a"].getResourceTitle(e))}},async deleteService(e){if(confirm(`Do you really want to delete the service "${n["a"].getResourceTitle(e)}"?`))try{await this.delete({data:e}),this.emit("removeWebService",e.id)}catch(t){n["a"].exception(this,t,"Delete Service Error: "+n["a"].getResourceTitle(e))}},viewService(e){this.emit("viewWebService",e)}}},V=J,B=(s("916f"),Object(d["a"])(V,U,L,!1,null,null,null)),H=B.exports,q={name:"UserWorkspace",components:{FilePanel:_,JobPanel:I,CustomProcessPanel:O,ServicePanel:H,Tabs:g["default"],Tab:v["default"]},computed:{...n["a"].mapGetters(["supports"]),showJobs(){return this.supports("listJobs")||this.supports("createJob")},showServices(){return this.supports("listServices")||this.supports("createService")},showCustomProcesses(){return this.supports("listUserProcesses")||this.supports("setUserProcess")},showFiles(){return this.supports("listFiles")||this.supports("uploadFile")}},methods:{onShow(e){e.$children.length&&"function"===typeof e.$children[0].onShow&&e.$children[0].onShow()},onHide(e){e.$children.length&&"function"===typeof e.$children[0].onHide&&e.$children[0].onHide()}}},G=q,W=(s("b5d7"),Object(d["a"])(G,m,f,!1,null,null,null)),K=W.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"viewerContainer",on:{drop:e.onDrop,dragover:e.allowDrop}},[s("Tabs",{ref:"tabs",attrs:{id:"viewerTabs"},on:{empty:e.onTabsEmpty},scopedSlots:e._u([{key:"empty",fn:function(){return[e._v("Nothing to show right now...")]},proxy:!0},{key:"dynamic",fn:function(t){var i=t.tab;return[e.logViewerIcons.includes(i.icon)?s("LogViewer",{attrs:{data:i.data}}):"fa-map"===i.icon?s("MapViewer",{attrs:{data:i.data,removableLayers:e.isCollectionPreview(i.data)},on:{show:e.onShow,hide:e.onHide}}):i.data.component?s(i.data.component,e._g(e._b({tag:"component",on:{show:e.onShow,hide:e.onHide}},"component",i.data.props,!1),i.data.events)):s("div",{staticClass:"unsupported"},[e._v(" Sorry, the viewer doesn't support showing this type of data. "),e.isFormat(i.data)?[e._v(" Instead, you can download the data by clicking the link below."),s("br"),s("a",{attrs:{href:i.data.getUrl(),download:""}},[e._v("Download")])]:e._e()],2)]}}])})],1)},X=[],Y=(s("d9e2"),s("b40f")),Q=s.n(Y),ee=s("3075");class te extends ee["b"]{constructor(e){super(e,"ImageViewer","fa-image")}isBinary(){return!0}async fetchData(){let e=new Image;return e.crossOrigin="anonymous",e.src=this.getUrl(),e}}var se=te;class ie extends ee["b"]{constructor(e,t=[",",";"]){super(e,"TableViewer","fa-table"),this.delim=t}async parseData(e){if("string"===typeof e){let t=this.parseCSV(e.trim());return t.map(e=>e.map(e=>{let t=Number.parseFloat(e);return Number.isNaN(t)?e:t}))}return e}parseCSV(e){for(var t=[],s=!1,i=0,a=0,r=0;r<e.length;r++){var n=e[r],o=e[r+1];t[i]=t[i]||[],t[i][a]=t[i][a]||"",'"'==n&&s&&'"'==o?(t[i][a]+=n,++r):'"'!=n?!this.delim.includes(n)||s?"\r"!=n||"\n"!=o||s?("\n"!=n||s)&&("\r"!=n||s)?t[i][a]+=n:(++i,a=0):(++i,a=0,++r):++a:s=!s}return t}}var ae=ie,re=s("57f6"),ne=s("e979");class oe extends ee["b"]{constructor(e){super(e,"DataViewer")}}var le=oe;class ce extends ae{constructor(e){super(e,["\t"])}}var ue=ce;class de{constructor(){}createFilesFromSTAC(e,t=null){let s=Object.values(e.assets).map(t=>this.createFileFromAsset(t,e));return t&&s.forEach(e=>e.setContext(t)),s}createFilesFromBlob(e){if(!(e instanceof Blob))throw new Error("Given data is not a valid Blob");return this.createFilesFromSTAC({assets:{result:{href:URL.createObjectURL(e),type:e.type}}})}createFileFromAsset(e,t){let s="string"===typeof e.type?e.type:"application/octet-stream";try{let t=Q.a.parse(s.toLowerCase());switch(t.type){case"image/png":case"image/jpg":case"image/jpeg":case"image/gif":case"image/webp":return new se(e);case"application/json":case"text/json":case"application/geo+json":return new ne["a"](e);case"text/plain":return new le(e);case"text/csv":return new ae(e);case"text/tab-separated-values":return new ue(e);case"image/tiff":return new re["a"](e)}}catch(i){console.log(i)}return new ee["c"](e)}}var he={name:"Viewer",mixins:[r["a"]],components:{Tabs:g["default"],DataViewer:()=>s.e("chunk-06323022").then(s.bind(null,"39d6")),TableViewer:()=>Promise.all([s.e("chunk-cf520b28"),s.e("chunk-2d0f00ac")]).then(s.bind(null,"9f85")),ImageViewer:()=>s.e("chunk-24c310f4").then(s.bind(null,"3ae0")),LogViewer:()=>s.e("chunk-59b9f0ba").then(s.bind(null,"3f19")),MapViewer:()=>Promise.all([s.e("chunk-8acc053c"),s.e("chunk-54000d26"),s.e("chunk-a7a6feee"),s.e("chunk-89dcb064"),s.e("chunk-3af191a7"),s.e("chunk-08a80732"),s.e("chunk-fd645248"),s.e("chunk-58c5f8f8"),s.e("chunk-fb557d00"),s.e("chunk-c25ba866"),s.e("chunk-6251d9eb")]).then(s.bind(null,"9115"))},mounted(){this.listen("viewSyncResult",this.showSyncResults),this.listen("viewJobResults",this.showJobResults),this.listen("viewWebService",this.showWebService),this.listen("showCollectionPreview",this.showCollectionPreview),this.listen("viewLogs",this.showLogs),this.listen("removeWebService",this.closeTabWithLogs),this.listen("removeBatchJob",this.closeTabWithLogs)},data(){return{registry:new de,tabTitleCounter:{},tabIdCounter:0,logViewerIcons:["fa-bug","fa-bomb","fa-tasks"]}},computed:{...n["a"].mapState(["connection","userLocation"]),nextTabId(){return"viewer~"+this.tabIdCounter}},methods:{...n["a"].mapActions(["describeCollection"]),isCollectionPreview(e){return e instanceof E["Service"]&&n["a"].isObject(e.attributes)&&!0===e.attributes.preview},isFormat(e){return e instanceof ee["a"]},async showCollectionPreview(e){if("string"===typeof e)try{e=await this.describeCollection(e)}catch(i){return void n["a"].error(this,"Sorry, can't load collection '"+e+"'.")}let t=n["a"].getPreviewLinkFromSTAC(e);t||n["a"].error(this,"No visualizations found for collection");let s=new E["Service"](null,"collection-preview~"+e.id);s.url=t.href,s.type=t.rel.toLowerCase(),s.attributes={preview:!0,bbox:n["a"].extentToBBox(e.extent.spatial.bbox[0])},"wmts"===t.rel.toLowerCase()&&("string"===typeof t["wmts:layer"]?s.attributes.layers=[t["wmts:layer"]]:Array.isArray(t["wmts:layer"])&&(s.attributes.layers=t["wmts:layer"]),s.attributes.dimensions=t["wmts:dimensions"]),this.showMapViewer(s,s.id,n["a"].getResourceTitle(e,!0),!0)},showWebService(e){this.showMapViewer(e,e.id,null,!0)},showLogs(e,t="Logs",s=!0,i="fa-bug"){let a=Array.isArray(e)?t:n["a"].getResourceTitle(e,"Logs"),r=Array.isArray(e)?null:"logs~"+e.id;this.$refs.tabs.addTab(a,i,e,r,s,!0,e=>this.onShow(e),e=>this.onHide(e))},closeTabWithLogs(e){this.closeTab(e),this.closeTab("logs~"+e)},closeTab(e){let t=this.$refs.tabs.getTab(e);t&&this.$refs.tabs.closeTab(t)},showSyncResults(e){let t=this.makeTitle("Result"),s=this.registry.createFilesFromBlob(e.data);s.forEach(e=>e.download()),this.showViewer(s,t).finally(()=>{Array.isArray(e.logs)&&e.logs.length>0&&this.showLogs(e.logs,t,!1)})},showJobResults(e,t){let s=this.registry.createFilesFromSTAC(e,t);this.showViewer(s)},showMapViewer(e,t=null,s=null,i=!1){if(s||(s=n["a"].getResourceTitle(e,!0)),t){if(i){let e=this.$refs.tabs.getTab(t);if(e)return this.$refs.tabs.selectTab(e)}}else if(t=this.nextTabId,this.tabIdCounter++,i)throw new Error("Tabs without id can't be re-used");this.$refs.tabs.addTab(s,"fa-map",e,t,!0,!0,e=>this.onShow(e),e=>this.onHide(e))},async showViewer(e,t=null){for(let i of e)try{let e=i.getContext(),s=e?e.id:null;!t&&e?t=n["a"].getResourceTitle(e,!0):t||(t=this.makeTitle("Untitled")),await i.getData(this.connection),this.$refs.tabs.addTab(t,i.icon,i,s,!0,!0,e=>this.onShow(e),e=>this.onHide(e))}catch(s){n["a"].exception(this,s,"Viewer Error")}},async callChildFunction(e,t,...s){let i;if(1===e.$children.length&&"function"===typeof e.$children[0][t])i=e.$children[0][t](...s);else{if("function"!==typeof e[t])return Promise.reject();i=e[t](...s)}return i instanceof Promise&&(i=await i),i},async onDrop(e){var t=e.dataTransfer.getData("application/vnd.openeo-node");if(!t)return;let s=JSON.parse(t);if("load_collection"===s.process_id){e.preventDefault();let t=n["a"].isObject(s.arguments)?s.arguments.id:null;try{let e=await this.describeCollection(t);this.showCollectionPreview(e)}catch(i){n["a"].error(this,"Sorry, can't load collection details for '"+t+"'.")}}},allowDrop(e){e.preventDefault()},onShow(e){this.callChildFunction(e,"onShow")},onHide(e){this.callChildFunction(e,"onHide")},onTabsEmpty(e){this.$emit("empty",e)},uniqueTitle(e){return this.tabTitleCounter[e]?(this.tabTitleCounter[e]++,e+" ("+this.tabTitleCounter[e]+")"):(this.tabTitleCounter[e]=1,e)},makeTitle(e,t,s=!0){return e?s?this.uniqueTitle(e):e:this.uniqueTitle(t)}}},pe=he,me=(s("55b5"),Object(d["a"])(pe,Z,X,!1,null,null,null)),fe=me.exports,ge=s("ceb0"),ve=s("2241"),be=s("cbd9"),we=s("fbda"),ye=s("9def"),Se={name:"IDE",mixins:[r["a"]],components:{DiscoveryToolbar:be["a"],Editor:ge["default"],Logo:ve["a"],Viewer:fe,UserMenu:p,UserWorkspace:K,Splitpanes:ye["b"],Pane:ye["a"]},data(){return{showViewer:!1,resizeListener:null,userInfoUpdater:null}},computed:{...n["a"].mapState(["connection","isAuthenticated"]),...n["a"].mapState("editor",["context","process","collectionPreview"]),...n["a"].mapGetters(["title","apiVersion","supports"]),...n["a"].mapGetters("jobs",{supportsJobUpdate:"supportsUpdate"}),...n["a"].mapGetters("services",{supportsServiceUpdate:"supportsUpdate"}),...n["a"].mapGetters("userProcesses",{supportsUserProcessUpdate:"supportsUpdate"}),contextTitle(){return null!==this.context?n["a"].getResourceTitle(this.context,!0):""},saveSupported(){return null!==this.context&&(this.context instanceof E["Job"]&&this.supportsJobUpdate||this.context instanceof E["Service"]&&this.supportsServiceUpdate||this.context instanceof E["UserProcess"]&&this.supportsUserProcessUpdate)},hasProcess(){return n["a"].size(this.process)>0},validateSupported(){return this.supports("validateProcess")},splitpaneSizeH(){return this.showViewer?[20,40,40]:[25,75,0]},splitpaneSizeV(){return this.isAuthenticated?[50,50]:[99,1]}},async mounted(){this.listen("showDataForm",this.showDataForm),this.listen("editProcess",this.editProcess),this.listen("showLogin",this.login),this.resizeListener=e=>this.resized(e),window.addEventListener("resize",this.resizeListener),this.isAuthenticated&&(this.userInfoUpdater=setInterval(this.describeAccount,60*this.$config.dataRefreshInterval*1e3)),this.emit("title",this.title),this.collectionPreview&&this.$nextTick(()=>{this.emit("showCollectionPreview",this.collectionPreview),this.setCollectionPreview(null)})},beforeDestroy(){null!==this.resizeListener&&window.removeEventListener("resize",this.resizeListener),null!==this.userInfoUpdater&&clearInterval(this.userInfoUpdater)},methods:{...n["a"].mapActions(["describeAccount"]),...n["a"].mapMutations(["discoveryCompleted"]),...n["a"].mapMutations("editor",["setContext","setProcess","setCollectionPreview"]),resized(e){this.emit("windowResized",e)},onViewerEmpty(e){this.showViewer=!e},login(){this.discoveryCompleted(!1)},importProcess(){let e={save:this.updateEditor};this.emit("showModal","ImportProcessModal",{},e)},saveProcess(){this.emit("replaceProcess",this.context,this.process)},async exportCode(){this.emit("showModal","ExportCodeModal")},async validateProcess(){if(!this.validateSupported)return n["a"].error(this,"Server doesn't support validation");if(!this.hasProcess)return n["a"].info(this,"Nothing to validate...");try{let e=await this.connection.validateProcess(this.process);e.length>0?(e.forEach(e=>e.level="error"),this.emit("viewLogs",e,"Validation Result","fa-tasks")):n["a"].ok(this,"The process is valid")}catch(e){n["a"].exception(this,e,"Validation rejected")}},updateEditor(e){this.setProcess(e),null===e&&this.setContext(null)},editProcess(e){this.setContext(e)},insertProcess(e){this.$refs.editor.insertProcess(e)},showServerInfo(){this.emit("showModal","ServerInfoModal")},showHelp(){this.emit("showTour","ide")},showDataForm(e,t,s=null,i=null){var a="function"===typeof s,r={},n=[];for(let c of t)null!==c&&(n.push(new we["ProcessParameter"](c)),r[c.name]=c.value);let o={title:e,parameters:n,data:r,editable:a},l={};"function"===typeof s&&(l.save=s),"function"===typeof i&&(l.closed=i),this.emit("showModal","ParameterModal",o,l)}}},xe=Se,Ce=(s("80e5"),Object(d["a"])(xe,i,a,!1,null,null,null));t["default"]=Ce.exports},f460:function(e,t){function s(e,t,s){const i=new RegExp(t),a=i.exec(e.slice(s));return a?s+a.index:-1}e.exports=s},fdbd:function(e,t,s){"use strict";s("8099")}}]);
//# sourceMappingURL=chunk-1d3ab60a.6759dc8e.js.map