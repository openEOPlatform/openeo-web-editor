{"version":3,"sources":["webpack:///./node_modules/entities/lib/encode.js","webpack:///./node_modules/leaflet.antimeridian/dist/leaflet.antimeridian-src.js","webpack:///./src/components/modals/Modal.vue","webpack:///src/components/modals/Modal.vue","webpack:///./src/components/modals/Modal.vue?3946","webpack:///./src/components/modals/Modal.vue?2371","webpack:///./src/components/modals/CollectionModal.vue?a5e3","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue","webpack:///node_modules/@openeo/vue-components/components/Collection.vue","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?95fb","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?7551","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?e1d3","webpack:///./node_modules/@radiantearth/stac-fields/formatters.js","webpack:///./src/components/modals/Modal.vue?678d","webpack:///./node_modules/entities/lib/decode_codepoint.js","webpack:///./node_modules/@openeo/vue-components/components/internal/StacMixin.js","webpack:///./src/components/modals/CollectionModal.vue","webpack:///src/components/modals/CollectionModal.vue","webpack:///./src/components/modals/CollectionModal.vue?1553","webpack:///./src/components/modals/CollectionModal.vue?d1fb","webpack:///./node_modules/@musement/iso-duration/dist/index.esm.js","webpack:///./node_modules/entities/lib/index.js","webpack:///./node_modules/entities/lib/decode.js","webpack:///./node_modules/mdurl/encode.js","webpack:///./node_modules/@openeo/vue-components/components/internal/FederationMixin.js","webpack:///./node_modules/commonmark/lib/node.js","webpack:///./node_modules/commonmark/lib/from-code-point.js","webpack:///./node_modules/commonmark/lib/common.js","webpack:///./node_modules/commonmark/lib/inlines.js","webpack:///./node_modules/commonmark/lib/blocks.js","webpack:///./node_modules/commonmark/lib/render/renderer.js","webpack:///./node_modules/commonmark/lib/render/html.js","webpack:///./node_modules/commonmark/lib/render/xml.js","webpack:///./node_modules/string.prototype.repeat/repeat.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","escape","encodeHTML","encodeXML","xml_json_1","inverseXML","getInverseObj","default","xmlReplacer","getInverseReplacer","getInverse","entities_json_1","inverseHTML","htmlReplacer","obj","keys","sort","reduce","inverse","name","single","multiple","_i","_a","length","k","push","start","end","charCodeAt","count","splice","unshift","join","RegExp","reNonASCII","singleCharReplacer","c","codePointAt","toString","toUpperCase","re","data","replace","reXmlChars","global","factory","version","sign","x","NaN","calculateAntimeridianLat","latLngA","latLngB","L","LatLng","lat","temp","A","Math","abs","lng","B","a","Error","isCrossMeridian","pushLatLng","ring","projectedBounds","latlng","map","Array","Bounds","Map","latLngToLayerPoint","extend","isBreakRing","breakRing","currentLat","nextLat","rings","breakLat","breakLatLngs","shift","pop","Polyline","_projectLatlngs","latlngs","result","isMultiRing","_createRings","i","len","compareLatLng","_getCompareLatLng","currentLatLng","_map","secondMeridianLatLng","_startNextRing","wrappedPolyline","options","Wrapped","Polygon","_checkConcaveRings","_joinLastRing","isLastLatLng","firstRing","lastRing","firstLatLng","layerPointToLatLng","middleLatLng","lastLatLng","newRing","concat","wrappedPolygon","render","_vm","_c","_self","staticClass","style","zIndex","on","backgroundClose","ref","startMove","_t","_v","_s","title","close","attrs","staticRenderFns","mixins","props","type","minWidth","width","show","position","dragPosition","computed","watch","immediate","handler","methods","open","window","event","document","stopMove","move","escCloseListener","component","stac","id","$props","_e","hasElements","keywords","_l","keyword","key","description","deprecated","supportedBy","federation","domProps","license","directives","rawName","thumbnails","expression","img","href","temporalIntervals","boundingBoxes","worldwide","bbox","mapOptions","interval","formatters","formatTemporalExtent","hasProviders","providers","provider","url","roles","role","hasDimensions","dim","scrollToBands","axis","extent","formatExtent","isArray","values","step","formatDuration","reference_system","formatEPSG","formatWKT2","ignoredFields","hasAssets","assets","asset","links","components","ObjectTree","StacMixin","FederationMixin","showMap","addFeatures","console","geom","color","fillOpacity","features","elem","setTimeout","evt","isoDuration","en","Registry","externalRenderer","prefix","spec","Fields","extensions","_","normalizeField","field","metadata","specs","addMetadataField","str","String","arr","formatter","list","tag","slice","DataTypes","null","rel","target","e","html","label","formatKey","short","long","split","part","substr","fields","parts","alias","assign","format","Formatters","isObject","items","itemOrder","i1","i2","order","localeCompare","item","hexString","Uint8Array","match","byte","parseInt","bytes","padStart","objectList","o","indexOf","unit","toList","v","toObject","num","parseFloat","toLocaleString","undefined","maximumFractionDigits","bool","boolean","number","string","array","object","context","parent","toLink","media","Boolean","shorten","mediaType","parse","error","parameters","application","profile","group","Date","timeZone","timeZoneName","day","month","year","licenses","filter","link","r","formatCommonMark","commonmark","reader","Parser","writer","HtmlRenderer","safe","smart","software","startsWith","substring","authority","code","formatDate","formatTimestamp","date","sortExtents","b","formatted","indent","tabs","repeat","fileSizeUnits","floor","log","pow","toFixed","multihash","meta","decode","hexToUint8","hex","uint8ToHex","digest","fileDataTypes","abbrev","rows","chunk","formatCSV","numeric","find","splitHalf","labelA","labelB","mid","designator","utm","band","sq","coord","quad","quarter","zone","quadkey","formatGrouped","coreKey","groups","ext","getSpecification","isSummarizedListWithKeys","listWithKeys","itemFieldNames","keysFromListOfObjects","fieldName","includes","forEach","explain","minimum","maximum","custom","warn","extension","properties","formatAsset","formatLink","formatSummaries","collection","summaries","formatCollection","formatItemProperties","mapping","toLowerCase","callback","p","formattedValues","normalizeFields","module","Helper","decode_json_1","decodeCodePoint","codePoint","output","fromCharCode","IMAGE_MEDIA_TYPES","IMAGE_EXTENSIONS","Description","DeprecationNotice","LinkList","StacAsset","StacFields","validator","allowedTypes","height","basemap","attribution","wrapAroundAntimeridian","scrollWheelZoom","allowedKeys","every","cloned","deepClone","noWrap","assetIsImage","size","initMap","val","enableHtmlProps","$refs","mapContainer","$nextTick","oldL","leaflet","instance","geometries","hasLeaflet","validate","compare","css","$root","$options","shadowRoot","__inject__","leafletOptions","osm","tileLayer","addTo","invalidateSize","updateMapView","onAfterMapInit","bounds","getBounds","zoom","getBoundsZoom","newZoom","min","fitBounds","setZoom","once","$event","$emit","scopedSlots","_u","fn","extents","currentItems","geometry","hasPrevItems","paginate","hasNextItems","MapExtentViewer","Modal","Collection","Items","itemsPage","itemsIterator","__assign","t","s","n","arguments","prototype","hasOwnProperty","call","apply","numbers","weekPattern","datePattern","timePattern","iso8601","pattern","durationKeys","durationUnitToIsoKey","years","months","days","hours","minutes","seconds","weeks","durationZero","freeze","parseIsoString","durationString","durationMatchedPattern","parsed","prev","next","idx","normalizeDurationObj","partialDurationObj","res","config","locales","setLocales","getLangConfig","lang","localesConfig","fallbackLocale","getIsoDateElements","durationObj","isoItems","isoDate","isoItems_1","getIsoTimeElements","isoItems_2","durationObjToString","durationIsoString","isoDateElement","isoTimeElement","humanizeWeek","localeConfig","humanizeDate","humanizeConfig","humanizedTime","humanizeOrder","numOfHumanizedUnits","index","unitDuration","largest","humanize","normalizeOrder","getNormalizer","maxValue","nextUnitValue","getDaysInMonth","getDate","unitNormalizer","helperDate","getTime","fullMonths","daysInMonth","getMonth","getFullYear","setMonth","normalize","duration","normalizedDuration","unitValue","nextUnit","IsoDuration","isEmpty","_this","lang$6","decimal","encode","decodeStrict","decode_1","encode_1","level","decodeXML","decodeHTML","decodeHTMLStrict","encode_2","enumerable","get","decode_2","legacy_json_1","decode_codepoint_1","getStrictDecoder","getReplacer","sorter","charAt","secondChar","legacy","j","replacer","encodeCache","getEncodeCache","exclude","ch","cache","test","keepEscaped","l","nextCode","defaultChars","encodeURIComponent","componentChars","FederationNotice","FederationMissingNotice","isContainer","node","_type","resumeAt","entering","current","cur","container","_firstChild","root","_next","_parent","NodeWalker","Node","nodeType","sourcepos","_lastChild","_prev","_sourcepos","_lastLineBlank","_lastLineChecked","_open","_string_content","_literal","_listData","_info","_destination","_title","_isFenced","_fenceChar","_fenceLength","_fenceOffset","_level","_onEnter","_onExit","proto","set","tight","delimiter","delim","appendChild","child","unlink","prependChild","insertAfter","sibling","insertBefore","walker","_fromCodePoint","C_BACKSLASH","ENTITY","TAGNAME","ATTRIBUTENAME","UNQUOTEDVALUE","SINGLEQUOTEDVALUE","DOUBLEQUOTEDVALUE","ATTRIBUTEVALUE","ATTRIBUTEVALUESPEC","ATTRIBUTE","OPENTAG","CLOSETAG","HTMLCOMMENT","PROCESSINGINSTRUCTION","DECLARATION","CDATA","HTMLTAG","reHtmlTag","reBackslashOrAmp","ESCAPABLE","reEntityOrEscapedChar","XMLSPECIAL","reXmlSpecial","unescapeChar","unescapeString","normalizeURI","uri","err","replaceUnsafeChar","escapeXml","fromCodePoint","RangeError","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","Number","isFinite","C_NEWLINE","C_ASTERISK","C_UNDERSCORE","C_BACKTICK","C_OPEN_BRACKET","C_CLOSE_BRACKET","C_LESSTHAN","C_BANG","C_AMPERSAND","C_OPEN_PAREN","C_CLOSE_PAREN","C_COLON","C_SINGLEQUOTE","C_DOUBLEQUOTE","ESCAPED_CHAR","rePunctuation","reLinkTitle","reLinkDestinationBraces","reEscapable","reEntityHere","reTicks","reTicksHere","reEllipses","reDash","reEmailAutolink","reAutolink","reSpnl","reWhitespaceChar","reUnicodeWhitespaceChar","reFinalSpace","reInitialSpace","reSpaceAtEndOfLine","reLinkLabel","reMain","normalizeReference","trim","m","exec","subject","pos","peek","spnl","parseBackticks","block","ticks","matched","contents","afterOpenTicks","parseBackslash","subj","parseAutolink","dest","parseHtmlTag","scanDelims","cc","char_before","char_after","cc_after","left_flanking","right_flanking","can_open","can_close","after_is_whitespace","after_is_punctuation","before_is_whitespace","before_is_punctuation","numdelims","startpos","handleDelim","delimiters","origdelims","previous","removeDelimiter","removeDelimitersBetween","bottom","top","processEmphasis","stack_bottom","opener","closer","old_closer","opener_inl","closer_inl","tempstack","use_delims","tmp","opener_found","openers_bottom","odd_match","closercc","emph","literal","parseLinkTitle","parseLinkDestination","savepos","openparens","parseLinkLabel","parseOpenBracket","addBracket","parseBang","parseCloseBracket","is_image","reflabel","brackets","active","removeBracket","image","beforelabel","bracketAfter","refmap","destination","previousDelimiter","parseEntity","parseString","chars","enCount","emCount","parseNewline","lastc","hardbreak","parseReference","rawlabel","matchChars","beforetitle","atLineEnd","normlabel","parseInline","parseInlines","InlineParser","CODE_INDENT","C_TAB","C_GREATERTHAN","C_SPACE","reHtmlBlockOpen","reHtmlBlockClose","reThematicBreak","reMaybeSpecial","reNonSpace","reBulletListMarker","reOrderedListMarker","reATXHeadingMarker","reCodeFence","reClosingCodeFence","reSetextHeadingLine","reLineEnding","isBlank","isSpaceOrTab","ln","endsWithBlankLine","addLine","partiallyConsumedTab","offset","charsToTab","column","tip","currentLine","addChild","blocks","canContain","finalize","lineNumber","column_number","newBlock","parseListMarker","parser","nextc","spacesStartCol","spacesStartOffset","rest","nextNonspace","bulletChar","padding","markerOffset","advanceNextNonspace","advanceOffset","blank_item","spaces_after_marker","listsMatch","list_data","item_data","closeUnmatchedBlocks","allClosed","oldtip","lastMatchedContainer","continue","acceptsLines","subitem","block_quote","indented","blank","heading","thematic_break","code_block","lastLineLength","content","newlinePos","firstLine","info","html_block","_htmlBlockType","paragraph","hasReferenceDefs","inlineParser","blockStarts","fenceLength","blockType","columns","charsToAdvance","nextNonspaceColumn","findNextNonspace","cols","incorporateLine","lastChild","all_matched","doc","matchedLeaf","starts","startsLen","lastLineBlank","cont","above","processInlines","Document","input","time","lines","timeEnd","Renderer","ast","buffer","lastOut","lit","cr","out","esc","reUnsafeProtocol","reSafeDataProtocol","potentiallyUnsafe","selfclosing","disableTags","attrib","softbreak","linebreak","strong","grandparent","listTight","tagname","info_words","listType","listStart","html_inline","custom_inline","onEnter","onExit","custom_block","att","create","text","reXMLTag","toTagName","XmlRenderer","indentLevel","selfClosing","nodetype","listDelimiter","delimword","$defineProperty","TypeError","Infinity"],"mappings":"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","file":"js/chunk-882fdec8.9605047a.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escape = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\nexports.encodeXML = getInverse(inverseXML, xmlReplacer);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nfunction singleCharReplacer(c) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return \"&#x\" + c.codePointAt(0).toString(16).toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reXmlChars = getInverseReplacer(inverseXML);\nfunction escape(data) {\n    return data\n        .replace(reXmlChars, singleCharReplacer)\n        .replace(reNonASCII, singleCharReplacer);\n}\nexports.escape = escape;\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.L = global.L || {}, global.L.Wrapped = {})));\n}(this, (function (exports) { 'use strict';\n\nvar version = \"1.0.0+master.7986dc5\";\n\n/*\r\n * @namespace L.Wrapped\r\n * Utility functions to perform calculations not always supported by the\r\n * standard Javascript Math namespace.\r\n */\r\n\r\n// @function sign(Number)\r\n// Returns NaN for non-numbers, 0 for 0, -1 for negative numbers,\r\n// 1 for positive numbers\r\nfunction sign(x) {\r\n\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : 0 : NaN;\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * Utility functions to calculate various shared aspects of mapping a line\r\n * accross the antimeridian.\r\n */\r\n\r\n// @function calculateAntimeridianLat (latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Returns the calculated latitude where a line drawn between\r\n// two Latitude/Longitude points will cross the antimeridian.\r\nfunction calculateAntimeridianLat(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\t// Ensure that the latitude A is less than latidue B. This will allow the\r\n\t\t// crossing point to be calculated based on the proportional similarity of\r\n\t\t// right triangles.\r\n\r\n\t\t// Locate which latitude is lower on the map. This will be the most\r\n\t\t// accute angle of the right triangle. If the lowest latitude is not latLngA\r\n\t\t// then swap the latlngs so it is.\r\n\t\tif (latLngA.lat > latLngB.lat) {\r\n\t\t\tvar temp = latLngA;\r\n\t\t\tlatLngA = latLngB;\r\n\t\t\tlatLngB = temp;\r\n\t\t}\r\n\r\n\t\t// This gets the width of the distance between the two points\r\n\t\t// (The bottom of a large right triangle drawn between them)\r\n\t\tvar A = 360 - Math.abs(latLngA.lng - latLngB.lng);\r\n\t\t// This gets the height of the of distance between the two points\r\n\t\t// (The vertical line of a large right triange drawn between them)\r\n\t\tvar B = latLngB.lat - latLngA.lat;\r\n\t\t// This gets the bottom distance of a proportional triangle inside the large\r\n\t\t// trangle where the vertical line instead sits at the 180 mark.\r\n\t\tvar a = Math.abs(180 - Math.abs(latLngA.lng));\r\n\r\n\t\t// Because triangle with identical angles must be proportional along the sides,\r\n\t\t// find the length of the vertical side of that inner triangle and then\r\n\t\t// add it to the lower point to predict the crossing point of the Antimeridian.\r\n\t\treturn latLngA.lat + ((B * a) / A);\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate the Antimeridian latitude, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n// @function isCrossAntimeridian(latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Returns true if the line between the two points will cross either\r\n// the prime meridian (Greenwich) or its antimeridian (International Date Line)\r\nfunction isCrossMeridian(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\t// Returns true if the signs are not the same.\r\n\t\treturn sign(latLngA.lng) * sign(latLngB.lng) < 0;\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate whether two LatLngs cross a meridian, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n\r\n// @function pushLatLng(ring: L.Point[], projectedBounds: L.Bounds, latlng: L.LatLng, map: L.Map)\r\n// Adds the latlng to the current ring as a layer point and expands the projected bounds.\r\nfunction pushLatLng(ring, projectedBounds, latlng, map) {\r\n\tif (ring instanceof Array && projectedBounds instanceof L.Bounds && latlng instanceof L.LatLng && map instanceof L.Map) {\r\n\t\tring.push(map.latLngToLayerPoint(latlng));\r\n\t\tprojectedBounds.extend(ring[ring.length - 1]);\r\n\t} else {\r\n\t\tthrow new Error('In order to push a LatLng into a ring, the ring point array, the LatLng, the projectedBounds, and the map must all be valid.');\r\n\t}\r\n}\r\n\r\n// @function isBreakRing(latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Determines when the ring should be broken and a new one started.\r\n// This will return true if the distance is smaller when mapped across the Antimeridian.\r\nfunction isBreakRing(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\treturn isCrossMeridian(latLngA, latLngB)  &&\r\n\t\t(360 - Math.abs(latLngA.lng) - Math.abs(latLngB.lng) < 180);\r\n\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate whether the ring created by two LatLngs should be broken, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n// @function breakRing(currentLat: L.LatLng, nextLat: L.LatLng, rings: L.Point[][],\r\n//  projectedBounds: L.Bounds, map: L.Map)\r\n// Breaks the existing ring along the anti-meridian.\r\n// returns the starting latLng for the next ring.\r\nfunction breakRing(currentLat, nextLat, rings, projectedBounds, map) {\r\n\tif (currentLat instanceof L.LatLng && nextLat instanceof L.LatLng && rings instanceof Array && projectedBounds instanceof L.Bounds && map instanceof L.Map) {\r\n\t\tvar ring = rings[rings.length - 1];\r\n\r\n\t\t// Calculate two points for the anti-meridian crossing.\r\n\t\tvar breakLat = calculateAntimeridianLat(currentLat, nextLat);\r\n\t\tvar breakLatLngs = [new L.LatLng(breakLat, 180), new L.LatLng(breakLat, -180)];\r\n\r\n\t\t// Add in first anti-meridian latlng to this ring to finish it.\r\n\t\t// Positive if positive, negative if negative.\r\n\t\tif (sign(currentLat.lng) > 0) {\r\n\t\t\tpushLatLng(ring, projectedBounds, breakLatLngs.shift(), map);\r\n\t\t} else {\r\n\t\t\tpushLatLng(ring, projectedBounds, breakLatLngs.pop(), map);\r\n\t\t}\r\n\r\n\t\t// Return the second anti-meridian latlng\r\n\t\treturn breakLatLngs.pop();\r\n\t} else {\r\n\t\tthrow new Error('In order to break a ring, all the inputs must exist and be valid.');\r\n\t}\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * A polyline that will automatically split and wrap around the Antimeridian (Internation Date Line).\r\n */\r\nvar Polyline = L.Polyline.extend({\r\n\r\n\t// recursively turns latlngs into a set of rings with projected coordinates\r\n\t// This is the entrypoint that is called from the overriden class to change\r\n\t// the rendering.\r\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\r\n\t\tvar isMultiRing = latlngs[0] instanceof L.LatLng;\r\n\r\n\t\tif (isMultiRing) {\r\n\t\t\tthis._createRings(latlngs, result, projectedBounds);\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < latlngs.length; i++) {\r\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates the rings used to render the latlngs.\r\n\t_createRings: function (latlngs, rings, projectedBounds) {\r\n\t\tvar len = latlngs.length;\r\n\t\trings.push([]);\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tvar compareLatLng = this._getCompareLatLng(i, len, latlngs);\r\n\t\t\tvar currentLatLng = latlngs[i];\r\n\r\n\t\t\tpushLatLng(rings[rings.length - 1], projectedBounds, latlngs[i], this._map);\r\n\r\n\t\t\t// If the next point to check exists, then check to see if the\r\n\t\t\t// ring should be broken.\r\n\t\t\tif (compareLatLng && isBreakRing(compareLatLng, currentLatLng)) {\r\n\t\t\t\tvar secondMeridianLatLng = breakRing(currentLatLng, compareLatLng,\r\n\t\t\t\t\trings, projectedBounds, this._map);\r\n\r\n\t\t\t\tthis._startNextRing(rings, projectedBounds, secondMeridianLatLng);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// returns the latlng to compare the current latlng to.\r\n\t_getCompareLatLng: function (i, len, latlngs) {\r\n\t\treturn (i + 1 < len) ? latlngs[i + 1] : null;\r\n\t},\r\n\r\n\t\t// Starts a new ring and adds the second meridian point.\r\n\t_startNextRing: function (rings, projectedBounds, secondMeridianLatLng) {\r\n\t\tvar ring = [];\r\n\t\trings.push(ring);\r\n\t\tpushLatLng(ring, projectedBounds, secondMeridianLatLng, this._map);\r\n\t}\r\n});\r\n\r\n// @factory L.wrappedPolyline(latlngs: LatLng[], options?: Polyline options)\r\n// Instantiates a polyline that will automatically split around the\r\n// antimeridian (Internation Date Line) if that is a shorter path.\r\nfunction wrappedPolyline(latlngs, options) {\r\n\treturn new L.Wrapped.Polyline(latlngs, options);\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * A polygon that will automatically split and wrap around the Antimeridian (Internation Date Line).\r\n */\r\nvar Polygon = L.Polygon.extend({\r\n\r\n\t// recursively turns latlngs into a set of rings with projected coordinates\r\n\t// This is the entrypoint that is called from the overriden class to change\r\n\t// the rendering.\r\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\r\n\t\tvar isMultiRing = latlngs[0] instanceof L.LatLng;\r\n\r\n\t\tif (isMultiRing) {\r\n\t\t\tthis._createRings(latlngs, result, projectedBounds);\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < latlngs.length; i++) {\r\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates the rings used to render the latlngs.\r\n\t_createRings: function (latlngs, rings, projectedBounds) {\r\n\t\tvar len = latlngs.length;\r\n\t\trings.push([]);\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t// Because this is a polygon, there will always be a comparison latlng\r\n\t\t\tvar compareLatLng = this._getCompareLatLng(i, len, latlngs);\r\n\t\t\tvar currentLatLng = latlngs[i];\r\n\r\n\t\t\tpushLatLng(rings[rings.length - 1], projectedBounds, currentLatLng, this._map);\r\n\r\n\t\t\t// Check to see if the ring should be broken.\r\n\t\t\tif (isBreakRing(compareLatLng, currentLatLng)) {\r\n\t\t\t\tvar secondMeridianLatLng = breakRing(currentLatLng, compareLatLng,\r\n\t\t\t\t\trings, projectedBounds, this._map);\r\n\r\n\t\t\t\tthis._startNextRing(rings, projectedBounds, secondMeridianLatLng, i === len - 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Join the last two rings if needed.\r\n\t\tthis._checkConcaveRings(rings);\r\n\t\tthis._joinLastRing(rings, latlngs);\r\n\t},\r\n\r\n\t// Starts a new ring if needed and adds the second meridian point to the\r\n\t// correct ring.\r\n\t_startNextRing: function (rings, projectedBounds, secondMeridianLatLng, isLastLatLng) {\r\n\t\tvar ring;\r\n\t\tif (!isLastLatLng) {\r\n\t\t\tring = [];\r\n\t\t\trings.push(ring);\r\n\t\t\tpushLatLng(ring, projectedBounds, secondMeridianLatLng, this._map);\r\n\t\t} else {\r\n\t\t\t// If this is the last latlng, don't bother starting a new ring.\r\n\t\t\t// instead, join the last meridian point to the first point, to connect\r\n\t\t\t// the shape correctly.\r\n\t\t\tring = rings[0];\r\n\t\t\tring.unshift(this._map.latLngToLayerPoint(secondMeridianLatLng));\r\n\t\t\tprojectedBounds.extend(ring[0]);\r\n\t\t}\r\n\t},\r\n\r\n\t// returns the latlng to compare the current latlng to.\r\n\t_getCompareLatLng: function (i, len, latlngs) {\r\n\t\treturn (i + 1 < len) ? latlngs[i + 1] : latlngs[0];\r\n\t},\r\n\r\n\t// Joins the last ring to the first if they were accidentally disconnected by\r\n\t// crossing the anti-meridian\r\n\t_joinLastRing: function (rings, latlngs) {\r\n\t\tvar firstRing = rings[0];\r\n\t\tvar lastRing = rings[rings.length - 1];\r\n\r\n\t\t// If either the first or last latlng cross the meridian immediately, then\r\n\t\t// they will be drawn as a single line, not a polygon, since they will not be\r\n\t\t// connected to the last ring. Reconnect them.\r\n\t\tif (rings.length > 1 && (firstRing.length === 2 || lastRing.length === 2) &&\r\n\t\t\t !isCrossMeridian(latlngs[0], latlngs[latlngs.length - 1])) {\r\n\t\t\tvar len = lastRing.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tfirstRing.unshift(lastRing.pop());\r\n\t\t\t}\r\n\t\t\t// Remove the empty ring.\r\n\t\t\trings.pop();\r\n\t\t}\r\n\t},\r\n\r\n\t// Check for concave sections of the rings and join the rings if they are\r\n\t// concave\r\n\t_checkConcaveRings: function (rings) {\r\n\t\tvar firstLatLng = this._map.layerPointToLatLng(rings[0][0]);\r\n\r\n\t\tfor (var i = 0; i <= rings.length - 3; i++) {\r\n\t\t\tvar middleLatLng = this._map.layerPointToLatLng(rings[i + 1][0]);\r\n\t\t\tvar lastLatLng = this._map.layerPointToLatLng(rings[i + 2][0]);\r\n\r\n\t\t\t// If the meridian is crossed and then is crossed again\r\n\t\t\t// over the first polygon, the polygon is concave. Join the rings.\r\n\t\t\tif (isCrossMeridian(firstLatLng, middleLatLng) &&\r\n\t\t\tisCrossMeridian(middleLatLng, lastLatLng)) {\r\n\t\t\t\tvar firstRing = rings[0];\r\n\t\t\t\tvar lastRing = rings[i + 2];\r\n\r\n\t\t\t\tvar newRing = firstRing.concat(lastRing);\r\n\r\n\t\t\t\t// Remove the joined polygon and then update the first polygon.\r\n\t\t\t\trings.splice(i + 2, 1);\r\n\t\t\t\trings.splice(0, 1, newRing);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @factory L.wrappedPolygon(latlngs: LatLng[], options?: Polygon options)\r\n// Instantiates a polygon that will automatically split around the\r\n// antimeridian (Internation Date Line) if that is a shorter path.\r\nfunction wrappedPolygon(latlngs, options) {\r\n\treturn new L.Wrapped.Polygon(latlngs, options);\r\n}\n\nexports.version = version;\nexports.Polyline = Polyline;\nexports.wrappedPolyline = wrappedPolyline;\nexports.Polygon = Polygon;\nexports.wrappedPolygon = wrappedPolygon;\nexports.calculateAntimeridianLat = calculateAntimeridianLat;\nexports.isCrossMeridian = isCrossMeridian;\nexports.isBreakRing = isBreakRing;\nexports.sign = sign;\n\n})));\n//# sourceMappingURL=leaflet.antimeridian-src.js.map\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal\",style:({'z-index': _vm.zIndex}),on:{\"mousedown\":_vm.backgroundClose}},[_c('div',{ref:\"container\",staticClass:\"modal-container\",style:(_vm.style)},[_c('header',{staticClass:\"modal-header\",on:{\"mousedown\":_vm.startMove}},[_vm._t(\"header\",function(){return [_c('h2',[_vm._v(_vm._s(_vm.title))]),_c('span',{staticClass:\"close\",on:{\"click\":_vm.close}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]})],2),_c('main',{staticClass:\"modal-content\"},[_vm._t(\"default\")],2),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"modal\" @mousedown=\"backgroundClose\" :style=\"{'z-index': zIndex}\">\n\t\t<div ref=\"container\" class=\"modal-container\" :style=\"style\">\n\t\t\t<header class=\"modal-header\" @mousedown=\"startMove\">\n\t\t\t\t<slot name=\"header\">\n\t\t\t\t\t<h2>{{ title }}</h2>\n\t\t\t\t\t<span class=\"close\" @click=\"close\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></span>\n\t\t\t\t</slot>\n\t\t\t</header>\n\t\t\t<main class=\"modal-content\">\n\t\t\t\t<slot></slot>\n\t\t\t</main>\n\t\t\t<footer class=\"modal-footer\">\n\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t</footer>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from '../EventBusMixin.vue';\nimport Utils from '../../utils.js';\n\nexport default {\n\tname: 'Modal',\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\tminWidth: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\twidth: {\n\t\t\ttype: String,\n\t\t\tdefault: \"auto\"\n\t\t},\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tzIndex: 1000,\n\t\t\tposition: null,\n\t\t\tdragPosition: null\n\t\t};\n\t},\n    computed: {\n\t\t...Utils.mapState('editor', ['hightestModalZIndex']),\n\t\tstyle() {\n\t\t\tlet style = {\n\t\t\t\t'width': this.width\n\t\t\t};\n\t\t\tif (this.minWidth) {\n\t\t\t\tstyle['min-width'] = this.minWidth;\n\t\t\t}\n\t\t\tif (Array.isArray(this.position)) {\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = this.position[0] + 'px';\n\t\t\t\tstyle.top = this.position[1] + 'px';\n\t\t\t}\n\t\t\treturn style;\n\t\t}\n    },\n\twatch: {\n\t\tshow: {\n\t\t\timmediate: true,\n\t\t\thandler(show) {\n\t\t\t\tif (!show) {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.open();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['openModal', 'closeModal']),\n\t\topen() {\n\t\t\tthis.openModal();\n\t\t\tthis.zIndex = this.hightestModalZIndex;\n\t\t\twindow.addEventListener('keydown', this.escCloseListener);\n\t\t\tthis.$emit('shown');\n\t\t},\n\t\tclose() {\n\t\t\twindow.removeEventListener('keydown', this.escCloseListener);\n\t\t\tthis.closeModal();\n\t\t\tthis.$emit('closed');\n\t\t},\n\t\tstartMove(event) {\n\t\t\tif (event.target.tagName !== 'H2') {\n\t\t\t\tthis.dragPosition = [\n\t\t\t\t\tevent.clientX,\n\t\t\t\t\tevent.clientY\n\t\t\t\t];\n\n\t\t\t\tdocument.addEventListener('mousemove', this.move);\n\t\t\t\tdocument.addEventListener('mouseup', this.stopMove);\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tstopMove() {\n\t\t\tdocument.removeEventListener('mousemove', this.move);\n\t\t\tdocument.removeEventListener('mouseup', this.stopMove);\n\t\t},\n\t\tmove(event) {\n      \t\tevent.preventDefault();\n\t\t\t// set the element's new position\n\t\t\tthis.position = [\n\t\t\t\tthis.$refs.container.offsetLeft - (this.dragPosition[0] - event.clientX),\n\t\t\t\tthis.$refs.container.offsetTop - (this.dragPosition[1] - event.clientY)\n\t\t\t];\n\t\t\t// Store for later\n\t\t\tthis.dragPosition = [\n\t\t\t\tevent.clientX,\n\t\t\t\tevent.clientY\n\t\t\t];\n\t\t},\n\t\tescCloseListener(event) {\n\t\t\tif (event.key == \"Escape\") { \n\t\t\t\tthis.close();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tbackgroundClose(event) {\n\t\t\tif (event.target === this.$el) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n@import '../../../theme.scss';\n\n.modal {\n    position: fixed;\n    z-index: 1000; /* Snotify has 9999 and is intentionally above the modals */\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0,0,0,0.4);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.modal .modal-container {\n    background-color: #fff;\n    border: 1px solid #fff;\n\tmin-height: 50vh;\n\tmin-width: 300px;\n\twidth: 70%;\n\tmax-height: 96%;\n\tmax-width: 96%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-shadow: 8px 8px 8px 0px rgba(0,0,0,0.3);\n\tresize: both;\n\toverflow: hidden;\n}\n\n.modal .modal-header {\n\tbackground-color: $mainColor;\n\tcolor: white;\n\tmargin: 0;\n\theight: 1.5rem;\n\tpadding: 1rem;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n    cursor: move;\n}\n\n.modal .modal-header h2 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tmargin-left: -0.5rem;\n\tpadding: 0.5rem;\n\tfont-size: 1.5rem;\n\tborder: 0;\n\tcursor: text;\n\ttext-overflow: ellipsis;\n    overflow: hidden;\n}\n\n.modal .modal-content {\n    padding: 1rem;\n\toverflow: auto;\n\tflex-grow: 1;\n}\n\n.modal .inline .modal-content {\n\tpadding: 0;\n}\n\n.modal .modal-footer:empty {\n\tdisplay: none;\n}\n\n.modal .modal-footer {\n\tbackground-color: #eee;\n\tmargin: 0;\n\tpadding: 1rem;\n}\n\n.modal .close {\n\tfont-size: 1.5rem;\n\theight: 2rem;\n\twidth: 2rem;\n    color: white;\n    cursor: pointer;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.modal .close:hover, .modal .close:focus {\n    color: red;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=4920e25e&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&id=4920e25e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionModal.vue?vue&type=style&index=0&id=07961b69&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('article',{staticClass:\"vue-component stac collection\"},[_vm._t(\"title\",function(){return [_c('a',{staticClass:\"anchor\",attrs:{\"name\":_vm.stac.id}}),_c('h2',[_vm._v(_vm._s(_vm.stac.id))])]},null,_vm.$props),(_vm.stac.title)?_c('summary',[_vm._v(_vm._s(_vm.stac.title))]):_vm._e(),(_vm.hasElements(_vm.stac.keywords))?_c('section',{staticClass:\"keywords\"},[_c('ul',{staticClass:\"badges\"},_vm._l((_vm.stac.keywords),function(keyword){return _c('li',{key:keyword,staticClass:\"badge\"},[_vm._v(_vm._s(keyword))])}),0)]):_vm._e(),_vm._t(\"before-description\",null,null,_vm.$props),(_vm.stac.description)?_c('section',{staticClass:\"description\"},[_c('h3',[_vm._v(\"Description\")]),_c('Description',{attrs:{\"description\":_vm.stac.description}}),(_vm.stac.deprecated)?_c('DeprecationNotice',{attrs:{\"entity\":\"collection\"}}):_vm._e(),(_vm.supportedBy)?_c('FederationNotice',{attrs:{\"backends\":_vm.supportedBy,\"federation\":_vm.federation,\"entity\":\"collection\"}}):_vm._e(),(_vm.stac['federation:missing'])?_c('FederationMissing',{attrs:{\"missing\":_vm.stac['federation:missing'],\"federation\":_vm.federation}}):_vm._e()],1):_vm._e(),_c('section',{staticClass:\"license\"},[_c('h3',[_vm._v(\"License\")]),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.license)}})]),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.thumbnails.length),expression:\"thumbnails.length\"}],staticClass:\"preview\"},[_c('h3',[_vm._v(\"Previews\")]),_c('div',{staticClass:\"thumbnails\"},_vm._l((_vm.thumbnails),function(img){return _c('a',{key:img.href,attrs:{\"href\":img.href,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":img.href,\"title\":img.title,\"alt\":img.title || 'Preview'}})])}),0)]),(_vm.temporalIntervals.length || _vm.boundingBoxes.length)?_c('section',{staticClass:\"extent\"},[(_vm.boundingBoxes.length)?_c('div',[_c('h3',[_vm._v(\"Spatial Extent\")]),_vm._t(\"spatial-extents\",function(){return [(_vm.worldwide)?_c('span',{staticClass:\"worldwide\"},[_c('i',{staticClass:\"fas fa-globe\"}),_vm._v(\" Worldwide\")]):_c('div',{ref:\"mapContainer\",staticClass:\"map\"},[(!_vm.map)?_vm._l((_vm.boundingBoxes),function(bbox,i){return _c('ul',{key:i},[_c('li',[_vm._v(\"Latitudes: \"+_vm._s(bbox[1])+\" / \"+_vm._s(bbox[3])+\", Longitudes: \"+_vm._s(bbox[0])+\" / \"+_vm._s(bbox[2]))])])}):_vm._e()],2)]},{\"extents\":_vm.boundingBoxes,\"mapOptions\":_vm.mapOptions,\"worldwide\":_vm.worldwide})],2):_vm._e(),(_vm.temporalIntervals.length)?_c('div',[_c('h3',[_vm._v(\"Temporal Extent\")]),_vm._t(\"temporal-extents\",function(){return [(_vm.temporalIntervals.length > 1)?_vm._l((_vm.temporalIntervals),function(interval,i){return _c('ul',{key:i},[(i !== 0)?_c('li',{domProps:{\"innerHTML\":_vm._s(_vm.formatters.formatTemporalExtent(interval))}}):_vm._e()])}):_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.formatters.formatTemporalExtent(_vm.temporalIntervals[0]))}})]},{\"extents\":_vm.temporalIntervals.length > 0})],2):_vm._e()]):_vm._e(),(_vm.hasProviders)?_c('section',{staticClass:\"providers\"},[_c('h3',[_vm._v(\"Providers\")]),_c('ol',_vm._l((_vm.stac.providers),function(provider){return _c('li',{key:provider.name},[(provider.url)?_c('a',{attrs:{\"href\":provider.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(provider.name))]):[_vm._v(_vm._s(provider.name))],(_vm.hasElements(provider.roles))?[_c('ul',{staticClass:\"badges small inline\"},_vm._l((provider.roles),function(role){return _c('li',{key:role,staticClass:\"badge provider-role\"},[_vm._v(_vm._s(role))])}),0)]:_vm._e(),(provider.description)?_c('Description',{attrs:{\"description\":provider.description,\"compact\":true}}):_vm._e()],2)}),0)]):_vm._e(),(_vm.hasDimensions)?_c('section',{staticClass:\"dimensions\"},[_c('h3',[_vm._v(\"Data Cube Dimensions\")]),_c('ul',_vm._l((_vm.stac['cube:dimensions']),function(dim,name){return _c('li',{key:name,staticClass:\"dimension\"},[_c('h4',[(dim.type === 'bands')?_c('a',{staticClass:\"name\",attrs:{\"href\":\"#summary_eo:bands\"},on:{\"click\":_vm.scrollToBands}},[_vm._v(_vm._s(name))]):_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(name))]),_c('ul',{staticClass:\"type badges small inline\"},[_c('li',{staticClass:\"badge\"},[_vm._v(_vm._s(dim.type))])])]),(dim.description)?_c('Description',{attrs:{\"description\":dim.description}}):_vm._e(),(dim.axis)?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Axis:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(dim.axis))])]):_vm._e(),_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Labels:\")]),(dim.extent)?_c('div',{staticClass:\"value\"},[(dim.type === 'temporal')?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.formatters.formatTemporalExtent(dim.extent))}}):_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.formatters.formatExtent(dim.extent))}})]):(Array.isArray(dim.values) && dim.values.length > 0)?_c('ul',{staticClass:\"value comma-separated-list\"},_vm._l((dim.values),function(value){return _c('li',{key:value},[_vm._v(_vm._s(value))])}),0):_c('div',{staticClass:\"value\"},[_c('i',[_vm._v(\"n/a\")])])]),((typeof dim.step !== 'undefined'))?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Steps:\")]),_c('div',{staticClass:\"value\"},[(dim.step === null)?[_vm._v(\"irregularly spaced\")]:(dim.type === 'temporal')?[_vm._v(_vm._s(_vm.formatDuration(dim.step)))]:[_vm._v(_vm._s(dim.step))]],2)]):_vm._e(),((typeof dim.reference_system !== 'undefined'))?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Reference System:\")]),_c('div',{staticClass:\"value\"},[((typeof dim.reference_system === 'number'))?_c('div',{staticClass:\"epsg\",domProps:{\"innerHTML\":_vm._s(_vm.formatters.formatEPSG(dim.reference_system))}}):((typeof dim.reference_system === 'string'))?_c('div',{staticClass:\"wkt2\",domProps:{\"innerHTML\":_vm._s(_vm.formatters.formatWKT2(dim.reference_system))}}):((typeof dim.reference_system === 'object'))?_c('ObjectTree',{staticClass:\"projjson\",attrs:{\"data\":dim.reference_system}}):[_vm._v(_vm._s(dim.reference_system))]],2)]):_vm._e()],1)}),0)]):_vm._e(),_c('StacFields',{staticClass:\"summaries\",attrs:{\"type\":\"Collection\",\"metadata\":_vm.stac,\"ignore\":_vm.ignoredFields}}),(_vm.hasAssets)?_c('section',{staticClass:\"assets\"},[_c('h3',[_vm._v(\"Assets\")]),_c('ul',{staticClass:\"list\"},_vm._l((_vm.stac.assets),function(asset,id){return _c('StacAsset',{key:id,attrs:{\"asset\":asset,\"id\":id,\"context\":_vm.stac}})}),1)]):_vm._e(),_c('section',{staticClass:\"links\"},[_c('LinkList',{attrs:{\"links\":_vm.stac.links,\"heading\":\"See Also\",\"headingTag\":\"h3\",\"ignoreRel\":['self', 'parent', 'root', 'license', 'cite-as']}})],1),_vm._t(\"end\",null,null,_vm.$props)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<article class=\"vue-component stac collection\">\r\n\r\n\t\t<slot name=\"title\" v-bind=\"$props\">\r\n\t\t\t<a class=\"anchor\" :name=\"stac.id\"></a>\r\n\t\t\t<h2>{{ stac.id }}</h2>\r\n\t\t</slot>\r\n\r\n\t\t<summary v-if=\"stac.title\">{{ stac.title }}</summary>\r\n\r\n\t\t<section class=\"keywords\" v-if=\"hasElements(stac.keywords)\">\r\n\t\t\t<ul class=\"badges\">\r\n\t\t\t\t<li class=\"badge\" v-for=\"keyword in stac.keywords\" :key=\"keyword\">{{ keyword }}</li>\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\r\n\t\t<slot name=\"before-description\" v-bind=\"$props\"></slot>\r\n\r\n\t\t<section class=\"description\" v-if=\"stac.description\">\r\n\t\t\t<h3>Description</h3>\r\n\r\n\t\t\t<Description :description=\"stac.description\"></Description>\r\n\t\t\t<DeprecationNotice v-if=\"stac.deprecated\" entity=\"collection\" />\r\n\t\t\t<FederationNotice v-if=\"supportedBy\" :backends=\"supportedBy\" :federation=\"federation\" entity=\"collection\" />\r\n\t\t\t<FederationMissing v-if=\"stac['federation:missing']\" :missing=\"stac['federation:missing']\" :federation=\"federation\" />\r\n\t\t</section>\r\n\r\n\t\t<section class=\"license\">\r\n\t\t\t<h3>License</h3>\r\n\t\t\t<span v-html=\"license\" />\r\n\t\t</section>\r\n\r\n\t\t<!-- v-show to prevent issue with thumbnails and Leaflet map, see https://github.com/Open-EO/openeo-vue-components/issues/44 -->\r\n\t\t<section class=\"preview\" v-show=\"thumbnails.length\">\r\n\t\t\t<h3>Previews</h3>\r\n\t\t\t<div class=\"thumbnails\">\r\n\t\t\t\t<a v-for=\"img in thumbnails\" :key=\"img.href\" :href=\"img.href\" target=\"_blank\">\r\n\t\t\t\t\t<img :src=\"img.href\" :title=\"img.title\" :alt=\"img.title || 'Preview'\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"extent\" v-if=\"temporalIntervals.length || boundingBoxes.length\">\r\n\t\t\t<div v-if=\"boundingBoxes.length\">\r\n\t\t\t\t<h3>Spatial Extent</h3>\r\n\t\t\t\t<slot name=\"spatial-extents\" :extents=\"boundingBoxes\" :mapOptions=\"mapOptions\" :worldwide=\"worldwide\">\r\n\t\t\t\t\t<span v-if=\"worldwide\" class=\"worldwide\"><i class=\"fas fa-globe\"></i> Worldwide</span>\r\n\t\t\t\t\t<div v-else class=\"map\" ref=\"mapContainer\">\r\n\t\t\t\t\t\t<template v-if=\"!map\">\r\n\t\t\t\t\t\t\t<ul v-for=\"(bbox, i) in boundingBoxes\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t<li>Latitudes: {{ bbox[1] }} / {{ bbox[3] }}, Longitudes: {{ bbox[0] }} / {{ bbox[2] }}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</slot>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-if=\"temporalIntervals.length\">\r\n\t\t\t\t<h3>Temporal Extent</h3>\r\n\t\t\t\t<slot name=\"temporal-extents\" :extents=\"temporalIntervals.length > 0\">\r\n\t\t\t\t\t<template v-if=\"temporalIntervals.length > 1\">\r\n\t\t\t\t\t\t<ul v-for=\"(interval, i) in temporalIntervals\" :key=\"i\">\r\n\t\t\t\t\t\t\t<li v-if=\"i !== 0\" v-html=\"formatters.formatTemporalExtent(interval)\" />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span v-else v-html=\"formatters.formatTemporalExtent(temporalIntervals[0])\" />\r\n\t\t\t\t</slot>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"providers\" v-if=\"hasProviders\">\r\n\t\t\t<h3>Providers</h3>\r\n\t\t\t<ol>\r\n\t\t\t\t<li v-for=\"provider in stac.providers\" :key=\"provider.name\">\r\n\t\t\t\t\t<a v-if=\"provider.url\" :href=\"provider.url\" target=\"_blank\">{{ provider.name }}</a>\r\n\t\t\t\t\t<template v-else>{{ provider.name }}</template>\r\n\t\t\t\t\t<template v-if=\"hasElements(provider.roles)\">\r\n\t\t\t\t\t\t<ul class=\"badges small inline\">\r\n\t\t\t\t\t\t\t<li v-for=\"role in provider.roles\" :key=\"role\" class=\"badge provider-role\">{{ role }}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<Description v-if=\"provider.description\" :description=\"provider.description\" :compact=\"true\" />\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"dimensions\" v-if=\"hasDimensions\">\r\n\t\t\t<h3>Data Cube Dimensions</h3>\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(dim, name) in stac['cube:dimensions']\" :key=\"name\" class=\"dimension\">\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t<a v-if=\"dim.type === 'bands'\" @click=\"scrollToBands\" class=\"name\" href=\"#summary_eo:bands\">{{ name }}</a>\r\n\t\t\t\t\t\t<span v-else class=\"name\">{{ name }}</span>\r\n\t\t\t\t\t\t<ul class=\"type badges small inline\"><li class=\"badge\">{{ dim.type }}</li></ul>\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<Description v-if=\"dim.description\" :description=\"dim.description\" />\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"dim.axis\">\r\n\t\t\t\t\t\t<label>Axis:</label>\r\n\t\t\t\t\t\t<div class=\"value\">{{ dim.axis }}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\">\r\n\t\t\t\t\t\t<label>Labels:</label>\r\n\t\t\t\t\t\t<div v-if=\"dim.extent\" class=\"value\">\r\n\t\t\t\t\t\t\t<span v-if=\"dim.type === 'temporal'\" v-html=\"formatters.formatTemporalExtent(dim.extent)\" />\r\n\t\t\t\t\t\t\t<span v-else v-html=\"formatters.formatExtent(dim.extent)\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul v-else-if=\"Array.isArray(dim.values) && dim.values.length > 0\" class=\"value comma-separated-list\">\r\n\t\t\t\t\t\t\t<li v-for=\"value in dim.values\" :key=\"value\">{{ value }}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div v-else class=\"value\"><i>n/a</i></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"(typeof dim.step !== 'undefined')\">\r\n\t\t\t\t\t\t<label>Steps:</label>\r\n\t\t\t\t\t\t<div class=\"value\">\r\n\t\t\t\t\t\t\t<template v-if=\"dim.step === null\">irregularly spaced</template>\r\n\t\t\t\t\t\t\t<template v-else-if=\"dim.type === 'temporal'\">{{ formatDuration(dim.step) }}</template>\r\n\t\t\t\t\t\t\t<template v-else>{{ dim.step }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"(typeof dim.reference_system !== 'undefined')\">\r\n\t\t\t\t\t\t<label>Reference System:</label>\r\n\t\t\t\t\t\t<div class=\"value\">\r\n\t\t\t\t\t\t\t<div class=\"epsg\" v-if=\"(typeof dim.reference_system === 'number')\" v-html=\"formatters.formatEPSG(dim.reference_system)\" />\r\n\t\t\t\t\t\t\t<div class=\"wkt2\" v-else-if=\"(typeof dim.reference_system === 'string')\" v-html=\"formatters.formatWKT2(dim.reference_system)\" />\r\n\t\t\t\t\t\t\t<ObjectTree class=\"projjson\" v-else-if=\"(typeof dim.reference_system === 'object')\" :data=\"dim.reference_system\" />\r\n\t\t\t\t\t\t\t<template v-else>{{ dim.reference_system }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\r\n\t\t<StacFields class=\"summaries\" type=\"Collection\" :metadata=\"stac\" :ignore=\"ignoredFields\" />\r\n\r\n\t\t<section class=\"assets\" v-if=\"hasAssets\">\r\n\t\t\t<h3>Assets</h3>\r\n\t\t\t<ul class=\"list\">\r\n\t\t\t\t<StacAsset v-for=\"(asset, id) in stac.assets\" :key=\"id\" :asset=\"asset\" :id=\"id\" :context=\"stac\" />\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"links\">\r\n\t\t\t<LinkList :links=\"stac.links\" heading=\"See Also\" headingTag=\"h3\" :ignoreRel=\"['self', 'parent', 'root', 'license', 'cite-as']\" />\r\n\t\t</section>\r\n\r\n\t\t<slot name=\"end\" v-bind=\"$props\"></slot>\r\n\r\n\t</article>\r\n</template>\r\n\r\n<script>\r\nimport Utils from '../utils';\r\nimport { Formatters } from '@radiantearth/stac-fields';\r\nimport FederationMixin from './internal/FederationMixin.js';\r\nimport StacMixin from './internal/StacMixin.js';\r\nimport { isoDuration, en } from '@musement/iso-duration';\r\n\r\nexport default {\r\n\tname: 'Collection',\r\n\tcomponents: {\r\n\t\tObjectTree: () => import('./ObjectTree.vue')\r\n\t},\r\n\tmixins: [\r\n\t\tStacMixin,\r\n\t\tFederationMixin\r\n\t],\r\n\t// Mixins don't work properly in web components,\r\n\t// see https://github.com/vuejs/vue-web-component-wrapper/issues/30\r\n\tprops: {\r\n\t\t...StacMixin.props,\r\n\t\t...FederationMixin.props\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tignoredFields: ['federation:backends'],\r\n\t\t\tformatters: Formatters\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tsupportedBy() {\r\n\t\t\tif (Utils.isObject(this.stac.summary) && Array.isArray(this.stac.summary['federation:backends'])) {\r\n\t\t\t\treturn this.stac.summary['federation:backends'];\r\n\t\t\t}\r\n\t\t\telse if (Array.isArray(this.stac['federation:backends'])) {\r\n\t\t\t\treturn this.stac['federation:backends'];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowMap() {\r\n\t\t\treturn this.boundingBoxes.length > 0 && !this.worldwide;\r\n\t\t},\r\n\t\ttemporalIntervals() {\r\n\t\t\tlet e = this.stac.extent;\r\n\t\t\tif (Utils.isObject(e) && Utils.isObject(e.temporal) && Utils.size(e.temporal.interval) > 0) {\r\n\t\t\t\treturn e.temporal.interval.filter(interval => Array.isArray(interval) && interval.length >= 2 && interval.filter(i => typeof i === 'string').length > 0);\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t},\r\n\t\tboundingBoxes() {\r\n\t\t\tlet e = this.stac.extent;\r\n\t\t\tif (Utils.isObject(e) && Utils.isObject(e.spatial) && Utils.size(e.spatial.bbox) > 0) {\r\n\t\t\t\treturn e.spatial.bbox.filter(bbox => Array.isArray(bbox) && bbox.length >= 4);\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t},\r\n\t\tworldwide() {\r\n\t\t\tif (this.boundingBoxes.length !== 1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet bbox = this.boundingBoxes[0];\r\n\t\t\treturn (Math.round(bbox[0]) == -180 && Math.round(bbox[1]) == -90 && Math.round(bbox[2]) == 180 && Math.round(bbox[3]) == 90);\r\n\t\t},\r\n\t\thasProviders() {\r\n\t\t\treturn Utils.size(this.stac.providers) > 0;\r\n\t\t},\r\n\t\thasDimensions() {\r\n\t\t\treturn Utils.size(this.stac['cube:dimensions']) > 0;\r\n\t\t},\r\n\t\tlicense() {\r\n\t\t\tif (typeof this.stac.license !== 'string' || this.stac.license.length === 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn Formatters.formatLicense(this.stac.license, null, null, this.stac);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\taddFeatures() {\r\n\t\t\ttry {\r\n\t\t\t\tL.Wrapped = require('leaflet.antimeridian');\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.warn(`Leaflet Antimeridian plugin is not available: ${error.message}`);\r\n\t\t\t}\r\n\t\t\tlet features = L.featureGroup();\r\n\t\t\tlet bboxes = this.boundingBoxes.length > 1 ? this.boundingBoxes.slice(1) : this.boundingBoxes;\r\n\t\t\tfor(let bbox of bboxes) {\r\n\t\t\t\tlet p = [[bbox[1], bbox[0]], [bbox[3], bbox[0]], [bbox[3], bbox[2]], [bbox[1], bbox[2]]];\r\n\t\t\t\tlet geom;\r\n\t\t\t\tif (L.Wrapped && bbox[2] < bbox[0]) {\r\n\t\t\t\t\tgeom = new L.Wrapped.Polygon(p);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tgeom = L.polygon(p);\r\n\t\t\t\t}\r\n\t\t\t\tgeom.setStyle({\r\n\t\t\t\t\tcolor: '#3388ff',\r\n\t\t\t\t\tfillOpacity: 0.2\r\n\t\t\t\t});\r\n\t\t\t\tfeatures.addLayer(geom);\r\n\t\t\t}\r\n\t\t\treturn features;\r\n\t\t},\r\n\t\tscrollToBands(evt) {\r\n\t\t\tlet elem = this.$el.querySelector('#field_eo\\\\:bands');\r\n\t\t\tif (elem) {\r\n\t\t\t\telem.scrollIntoView();\r\n\t\t\t\telem.classList.add('highlight-box');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\telem.classList.remove('highlight-box');\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t\tevt.preventDefault();\r\n\t\t},\r\n\t\thasElements(data) {\r\n\t\t\treturn (typeof data === 'object' && data !== null && Object.keys(data).length > 0);\r\n\t\t},\r\n\t\tformatDuration(duration) {\r\n\t\t\tif (typeof duration === 'string') {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tisoDuration.setLocales({en});\r\n\t\t\t\t\treturn isoDuration(duration).humanize('en');\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.warn(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn 'n/a';\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './base.scss';\r\n\r\n.vue-component.collection {\r\n\t.keywords {\r\n\t\tmargin-top: 1em;\r\n\t}\r\n\t.dimensions > ul .dimension {\r\n\t\th4 {\r\n\t\t\tmargin: 0;\r\n\t\t\tmargin-bottom: 0.5em;\r\n\t\t}\r\n\t\t.type {\r\n\t\t\tfont-weight: normal;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (min-width: 1000px) {\r\n\t\t.dimensions > ul {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin: 0;\r\n\t\t\tpadding: 0;\r\n\r\n\t\t\t.dimension {\r\n\t\t\t\tlist-style-type: none;\r\n\t\t\t\tmin-width: 23%;\r\n\r\n\t\t\t\tmargin-left: 1%;\r\n\t\t\t\tborder-left: 1px dotted #ccc;\r\n\t\t\t\tpadding-left: 1%;\r\n\r\n\t\t\t\t&:first-of-type {\r\n\t\t\t\t\tmargin-left: 0;\r\n\t\t\t\t\tborder: 0;\r\n\t\t\t\t\tpadding-left: 0;\r\n\t\t\t\t}\r\n\t\t\t\t.tabular {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\r\n\t\t\t\t\tlabel {\r\n\t\t\t\t\t\tmargin-top: 0.5em;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.extent {\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t> div {\r\n\t\t\t\tmin-width: 49%;\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t}\r\n\r\n\t\t\t> div:nth-child(2) {\r\n\t\t\t\tmargin-left: 1%;\r\n\t\t\t\tborder-left: 1px dotted #ccc;\r\n\t\t\t\tpadding-left: 1%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.projjson,\r\n\t.wkt2,\r\n\ttd > dl, td > ol, td > ul {\r\n\t\tmargin: -3px;\r\n\t\tpadding: 3px;\r\n\t\theight: 7em;\r\n\t\toverflow: auto;\r\n    \tresize: vertical;\r\n\t}\r\n\t.provider-role {\r\n\t\ttext-transform: capitalize;\r\n\t}\r\n}\r\n</style>","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Collection.vue?vue&type=template&id=484f3bfd&\"\nimport script from \"./Collection.vue?vue&type=script&lang=js&\"\nexport * from \"./Collection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Collection.vue?vue&type=style&index=0&id=484f3bfd&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=style&index=0&id=484f3bfd&prod&lang=scss&\"","var Registry = {\n\n\texternalRenderer: false,\n\n\taddExtension(prefix, spec) {\n\t\tFields.extensions[prefix] = _.normalizeField(spec, Fields.extensions);\n\t},\n\n\taddMetadataField(field, spec) {\n\t\tFields.metadata[field] = _.normalizeField(spec, Fields.metadata);\n\t},\n\n\taddLinkField(field, spec) {\n\t\tFields.links[field] = _.normalizeField(spec, Fields.links);\n\t},\n\n\taddAssetField(field, spec) {\n\t\tFields.assets[field] = _.normalizeField(spec, Fields.assets);\n\t},\n\n\taddMetadataFields(specs) {\n\t\tfor(var key in specs) {\n\t\t\tRegistry.addMetadataField(key, specs[key]);\n\t\t}\n\t},\n\n\tgetSpecification(field, type = null) {\n\t\tlet spec = {};\n\t\tif (type === 'assets' && Fields.assets[field]) {\n\t\t\tspec = Fields.assets[field];\n\t\t}\n\t\telse if (type === 'links' && Fields.links[field]) {\n\t\t\tspec = Fields.links[field];\n\t\t}\n\t\telse if (Fields.metadata[field]) {\n\t\t\tspec = Fields.metadata[field];\n\t\t}\n\t\treturn spec;\n\t}\n\n};\n\nvar _ = {\n\n\te(str) {\n\t\tif (typeof str !== 'string') {\n\t\t\tstr = String(str);\n\t\t}\n\t\treturn str.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, '&apos;');\n\t},\n\n\ttoList(arr, sort = false, formatter = null) {\n\t\tlet list = arr;\n\t\tlet tag = 'ul';\n\t\tif (!Array.isArray(arr)) {\n\t\t\tarr = [arr];\n\t\t}\n\t\tif (sort) {\n\t\t\tlist = list.slice(0);\n\t\t\tif (typeof sort === 'function') {\n\t\t\t\tlist.sort(sort);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlist.sort();\n\t\t\t}\n\t\t\ttag = 'ol';\n\t\t}\n\t\tif (typeof formatter === 'function') {\n\t\t\tlist = list.map(formatter);\n\t\t}\n\t\tif (list.length === 0) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\telse if (list.length === 1) {\n\t\t\treturn list[0];\n\t\t}\n\t\telse {\n\t\t\treturn `<${tag}><li>${list.join(\"</li><li>\")}</li></${tag}>`;\n\t\t}\n\t},\n\n\ttoLink(url, title = \"\", rel = \"\", target = \"_blank\") {\n\t\tif (!title) {\n\t\t\tif (url.length > 50) {\n\t\t\t\ttitle = url.replace(/^\\w+:\\/\\/([^\\/]+)((\\/[^\\/\\?]+)*\\/([^\\/\\?]+)(\\?.*)?)?$/i, function(...x) {\n\t\t\t\t\tif (x[4]) {\n\t\t\t\t\t\treturn x[1] + '/[]/' + x[4]; // There are invisible zero-width whitespaces after and before the slashes. It allows breaking the link in the browser. Be careful when editing.\n\t\t\t\t\t}\n\t\t\t\t\treturn x[1];\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttitle = url.replace(/^\\w+:\\/\\//i, '');\n\t\t\t}\n\t\t}\n\t\treturn `<a href=\"${_.e(url)}\" rel=\"${_.e(rel)}\" target=\"${_.e(target)}\">${_.e(title)}</a>`;\n\t},\n\n\ttoObject(obj, formatter = null) {\n\t\tlet html = '<dl>';\n\t\tfor(let key in obj) {\n\t\t\t// ToDo: also convert CamelCase? but not abbreviations like \"USA\".\n\t\t\tlet label = _.formatKey(key, true);\n\t\t\tlet value = obj[key];\n\t\t\tif (typeof formatter === 'function') {\n\t\t\t\tvalue = formatter(value, key, obj);\n\t\t\t}\n\t\t\t// TODO: Format label (also in arrays)\n\t\t\thtml += `<dt>${label}</dt><dd>${value}</dd>`;\n\t\t}\n\t\thtml += `</dl>`;\n\t\treturn html;\n\t},\n\n\tabbrev(short, long) {\n\t\treturn `<abbr title=\"${_.e(long)}\">${_.e(short)}</abbr>`;\n\t},\n\n\tisObject(obj) {\n\t\treturn (typeof obj === 'object' && obj === Object(obj) && !Array.isArray(obj));\n\t},\n\n\tformatKey(key, prefix = false) {\n\t\tif (prefix === false) {\n\t\t\tkey = key.replace(/^\\w+:/i, '');\n\t\t}\n\t\treturn _.e(key).split(/[:_\\-\\s]/g).map(part => part.substr(0, 1).toUpperCase() + part.substr(1)).join(' ');\n\t},\n\n\tnormalizeFields(fields) {\n\t\tlet parts = ['extensions', 'metadata', 'links', 'assets'];\n\t\tfor (let part of parts) {\n\t\t\tfor(let key in fields[part]) {\n\t\t\t\tfields[part][key] = _.normalizeField(fields[part][key], fields[part]);\n\t\t\t}\n\t\t}\n\t\treturn fields;\n\t},\n\n\tnormalizeField(spec, fields = {}) {\n\t\t// If just a string label is given, make a normal object with a label from it\n\t\tif (typeof spec === 'string') {\n\t\t\treturn {\n\t\t\t\tlabel: spec\n\t\t\t};\n\t\t}\n\t\t// Resolve alias\n\t\tif (typeof spec.alias === 'string') {\n\t\t\t// As we don't know whether the alias has been resolved so far, resolve it here, too.\n\t\t\treturn Object.assign(spec, _.normalizeField(fields[spec.alias], fields));\n\t\t}\n\n\t\t// Add formatting callback as `formatter`\n\t\tif (typeof spec.format === 'string') {\n\t\t\tspec.formatter = Formatters[`format${spec.format}`];\n\t\t}\n\n\t\t// Normalize items\n\t\tif (_.isObject(spec.items)) {\n\t\tlet itemOrder = [];\n\t\t\tfor(let key in spec.items) {\n\t\t\t\tspec.items[key] = _.normalizeField(spec.items[key], fields);\n\t\t\t\titemOrder.push(Object.assign({key}, spec.items[key]));\n\t\t\t}\n\n\t\t\tspec.itemOrder = itemOrder\n\t\t\t\t.sort((i1, i2) => {\n\t\t\t\t\tif (i1.id === true) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\telse if (i2.id === true) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof i1.order === 'number' && typeof i2.order === 'number') {\n\t\t\t\t\t\treturn i1.order - i2.order;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn i1.label.localeCompare(i2.label);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.map(item => item.key);\n\t\t}\n\n\t\treturn spec;\n\t},\n\n\thexToUint8(hexString) {\n\t\tif(hexString.length === 0 || hexString.length % 2 !== 0){\n\t\t\tthrow new Error(`The string \"${hexString}\" is not valid hex.`)\n\t\t}\n  \t\treturn new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n\t},\n\n\tuint8ToHex(bytes) {\n\t\treturn bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\n\t},\n\n\tkeysFromListOfObjects(objectList) {\n\t\treturn objectList.reduce(\n\t\t\t(arr, o) => Object.keys(o).reduce(\n\t\t\t\t(a, k) => {\n\t\t\t\t\tif (a.indexOf(k) == -1) {\n\t\t\t\t\t\ta.push(k);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t},\n\t\t\t\tarr\n\t\t\t),\n\t\t\t[]\n\t\t);\n\t},\n\n\tunit(value, unit = '') {\n\t\tif (typeof unit === 'string' && unit.length > 0) {\n\t\t\treturn `${value}&nbsp;<span class=\"unit\">${unit}</unit>`;\n\t\t}\n\t\treturn value;\n\t}\n\n};\n\nvar DataTypes = {\n\n\tarray(arr, sort = false, unit = '') {\n\t\treturn _.toList(arr, sort, v => DataTypes.format(v, unit));\n\t},\n\t\n\tobject(obj) {\n\t\treturn _.toObject(obj, v => DataTypes.format(v));\n\t},\n\t\n\tnull(label = 'n/a') {\n\t\treturn `<i class=\"null\">${label}</i>`;\n\t},\n\t\n\tnumber(num, unit = '') {\n\t\tif (typeof num !== 'number') {\n\t\t\tnum = parseFloat(num);\n\t\t}\n\t\treturn _.unit(num.toLocaleString(undefined, {maximumFractionDigits: 10}), unit);\n\t},\n\n\tstring(str, unit = '') {\n\t\treturn _.unit(_.e(str).replace(/(\\r\\n|\\r|\\n){2,}/g, '<br />'), unit);\n\t},\n\t\n\tboolean(bool) {\n\t\treturn bool ? '' : '';\n\t},\n\t\n\tformat(value, unit = '') {\n\t\tif (typeof value === 'boolean') {\n\t\t\treturn DataTypes.boolean(value);\n\t\t}\n\t\telse if (typeof value === 'number') {\n\t\t\treturn DataTypes.number(value, unit);\n\t\t}\n\t\telse if (typeof value === 'string') {\n\t\t\treturn DataTypes.string(value, unit);\n\t\t}\n\t\telse if (Array.isArray(value)) {\n\t\t\treturn DataTypes.array(value, unit);\n\t\t}\n\t\telse if (_.isObject(value)) {\n\t\t\treturn DataTypes.object(value);\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t}\n\n};\n\nvar Formatters = {\n\n\tformatUrl(value, field, spec = {}, context = null, parent = null) {\n\t\tlet title = _.isObject(parent) && typeof parent === 'string' ? parent.title : value;\n\t\treturn _.toLink(value, title, parent.rel || \"\");\n\t},\n\n\tformatMediaType(value, field, spec = {}) {\n\t\tlet short = Boolean(spec.shorten);\n\n\t\tlet media;\n\t\ttry {\n\t\t\tconst mediaType = require('content-type');\n\t\t\tmedia = mediaType.parse(value);\n\t\t} catch (error) {\n\t\t\treturn short ? \"\" : DataTypes.null('Unknown');\n\t\t}\n\n\t\tswitch(media.type) {\n\t\t\tcase 'image/tiff':\n\t\t\t\tif (media.parameters.application === \"geotiff\") {\n\t\t\t\t\tif (media.parameters.profile === \"cloud-optimized\") {\n\t\t\t\t\t\treturn short ? 'COG' : 'Cloud-optimized GeoTIFF image';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn short ? 'GeoTiff' : 'GeoTIFF image';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn short ? 'TIFF' : 'TIFF image';\n\t\t\t\t}\n\t\t\tcase 'image/jp2':\n\t\t\t\treturn short ? 'JPEG 2000' : 'JPEG 2000 image';\n\t\t\tcase 'image/png':\n\t\t\tcase 'image/apng':\n\t\t\tcase 'image/vnd.mozilla.apng':\n\t\t\t\treturn short ? 'PNG' : 'PNG image';\n\t\t\tcase 'image/gif':\n\t\t\t\treturn short ? 'GIF' : 'GIF image';\n\t\t\tcase 'image/jpeg':\n\t\t\tcase 'image/jpg':\n\t\t\t\treturn short ? 'JPEG' : 'JPEG image';\n\t\t\tcase 'image/webp':\n\t\t\t\treturn short ? 'WebP' : 'WebP image';\n\t\t\tcase 'image/bmp':\n\t\t\tcase 'image/x-bmp':\n\t\t\tcase 'image/x-ms-bmp':\n\t\t\tcase 'image/wbmp':\n\t\t\t\treturn short ? 'Bitmap' : 'Bitmap image';\n\t\t\tcase 'image/svg+xml':\n\t\t\t\treturn short ? 'SVG' : 'SVG vector image';\n\t\t\tcase 'text/csv':\n\t\t\t\treturn short ? 'CSV' : 'Comma-separated values (CSV)';\n\t\t\tcase 'text/xml':\n\t\t\tcase 'application/xml':\n\t\t\t\treturn 'XML';\n\t\t\tcase 'text/json':\n\t\t\tcase 'application/json':\n\t\t\t\treturn 'JSON';\n\t\t\tcase 'text/yaml':\n\t\t\tcase 'text/vnd.yaml':\n\t\t\tcase 'text/x-yaml':\n\t\t\tcase 'application/x-yaml':\n\t\t\t\treturn 'YAML';\n\t\t\tcase 'application/geo+json':\n\t\t\t\treturn 'GeoJSON';\n\t\t\tcase 'application/geopackage+vnd.sqlite3':\n\t\t\tcase 'application/geopackage+sqlite3':\n\t\t\t\treturn 'GeoPackage';\n\t\t\tcase 'text/html':\n\t\t\tcase 'application/xhtml+xml':\n\t\t\t\treturn short ? 'HTML' : 'HTML (Website)';\n\t\t\tcase 'text/plain':\n\t\t\t\treturn short ? 'Text' : 'Text document';\n\t\t\tcase 'text/markdown':\n\t\t\t\treturn short ? 'Markdown' : 'Markdown document';\n\t\t\tcase 'application/pdf':\n\t\t\t\treturn short ? 'PDF' : 'PDF document';\n\t\t\tcase 'application/zip':\n\t\t\t\treturn short ? 'ZIP' : 'ZIP archive';\n\t\t\tcase 'application/gzip':\n\t\t\t\treturn short ? 'GZIP' : 'GZIP archive';\n\t\t\tcase 'application/x-hdf':\n\t\t\t\treturn 'HDF';\n\t\t\tcase 'application/x-netcdf':\n\t\t\t\treturn 'NetCDF';\n\t\t\tcase 'application/wmo-GRIB2':\n\t\t\t\treturn 'GRIB2';\n\t\t\tcase 'application/octet-stream':\n\t\t\t\treturn short ? 'Binary' : 'Binary file';\n\t\t\tcase 'application/vnd.laszip':\n\t\t\t\treturn 'LASzip';\n\t\t\tcase 'application/vnd.laszip+copc': // https://github.com/copcio/copcio.github.io/issues/53\n\t\t\t\treturn short ? 'COPC' : 'Cloud-optimized Point Cloud (LASzip)';\n\t\t\tcase 'application/vnd+zarr': // https://github.com/zarr-developers/zarr-specs/issues/123\n\t\t\t\treturn short ? 'zarr' : 'Cloud-optimized Point Cloud (LASzip)';\n\t\t\t// ToDo: Add media types for:\n\t\t\t// - flatgeobuf: https://github.com/flatgeobuf/flatgeobuf/discussions/112\n\t\t\t// - geoparquet: https://github.com/opengeospatial/geoparquet/issues/115\n\t\t\tdefault:\n\t\t\t\tlet [group, format] = media.type.split('/');\n\t\t\t\tformat = _.formatKey(format.replace(/^(vnd|x)[\\.\\+]/, ''));\n\t\t\t\tif (short) {\n\t\t\t\t\treturn format;\n\t\t\t\t}\n\t\t\t\tswitch(group) {\n\t\t\t\t\tcase 'audio':\n\t\t\t\t\t\treturn `${format} audio`;\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\treturn `${format} image`;\n\t\t\t\t\tcase 'font':\n\t\t\t\t\t\treturn `Font`;\n\t\t\t\t\tcase 'model':\n\t\t\t\t\t\treturn `${format} 3D model`;\n\t\t\t\t\tcase 'video':\n\t\t\t\t\t\treturn `${format} video`;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'application':\n\t\t\t\t\t\treturn format;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn _.e(value);\n\t\t\t\t}\n\t\t}\n\t},\n\n\tformatTimestamp(value) {\n\t\tif (typeof value === 'string') {\n\t\t\ttry {\n\t\t\t\treturn new Date(value).toLocaleString([], {\n\t\t\t\t\ttimeZone: \"UTC\",\n\t\t\t\t\ttimeZoneName: \"short\"\n\t\t\t\t});\n\t\t\t} catch (error) {}\n\t\t}\n\t\treturn DataTypes.null();\n\t},\n\n\tformatDate(value) {\n\t\tif (typeof value === 'string') {\n\t\t\ttry {\n\t\t\t\treturn new Date(value).toLocaleString([], {\n\t\t\t\t\tday: 'numeric',\n\t\t\t\t\tmonth: 'numeric',\n\t\t\t\t\tyear: 'numeric'\n\t\t\t\t});\n\t\t\t} catch (error) {}\n\t\t}\n\t\treturn DataTypes.null();\n\t},\n\n\tformatLicense(value, field, spec = {}, context = null) {\n\t\tif (typeof value !== 'string' || value.length === 0) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\n\t\t// We could use the spdx-license-ids and/or spdx-to-html packages previously used in STAC Browser,\n\t\t// but let's try it without additional dependency for now.\n\t\tif (value !== 'proprietary' && value !== 'various' && value.match(/^[\\w\\.\\-]+$/i)) { // SPDX\n\t\t\treturn _.toLink(`https://spdx.org/licenses/${value}.html`, value, \"license\");\n\t\t}\n\t\t\n\t\tlet licenses = Array.isArray(context.links) ? context.links.filter(link => (_.isObject(link) && typeof link.href === 'string' && link.rel === 'license')) : [];\n\t\tif (licenses.length > 0) {\n\t\t\treturn _.toList(licenses, false, link => _.toLink(link.href, link.title || value, \"license\"));\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.string(value);\n\t\t}\n\t},\n\n\tformatProviders(value) {\n\t\treturn _.toList(value, false, provider => {\n\t\t\tlet name = provider.name;\n\t\t\tlet roles = '';\n\t\t\tlet description = '';\n\t\t\tif (typeof provider.url === 'string' && provider.url.length > 0) {\n\t\t\t\tname = _.toLink(provider.url, name);\n\t\t\t}\n\t\t\tif (Array.isArray(provider.roles) && provider.roles.length > 0) {\n\t\t\t\troles = provider.roles.map(r => DataTypes.format(r)).join(', ');\n\t\t\t\troles = ` (<em>${roles}</em>)`;\n\t\t\t}\n\t\t\tif (typeof provider.description === 'string' && provider.description.length > 0) {\n\t\t\t\tdescription = Formatters.formatCommonMark(provider.description);\n\t\t\t}\n\t\t\treturn `${name}${roles}${description}`;\n\t\t});\n\t},\n\n\tformatCommonMark(value) {\n\t\tif (typeof value !== 'string' || value.length === 0) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\tconst commonmark = require('commonmark');\n\t\tlet reader = new commonmark.Parser();\n\t\tlet writer = new commonmark.HtmlRenderer({safe: true, smart: true});\n\t\tlet html = writer.render(reader.parse(value));\n\t\treturn `<div class=\"description\">${html}</div>`;\n\t},\n\n\tformatSoftware(value) {\n\t\tif (!_.isObject(value)) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\n\t\tlet list = [];\n\t\tfor(let software in value) {\n\t\t\tlet version = value[software];\n\t\t\tif ((typeof version === 'string' && version.length > 0) || typeof version === 'number') {\n\t\t\t\tlist.push(`${software} (${version})`);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlist.push(software);\n\t\t\t}\n\t\t}\n\t\treturn _.toList(list, true);\n\t},\n\n\tformatDOI(value) {\n\t\tvalue = DataTypes.format(value);\n\t\treturn _.toLink(`http://doi.org/${value}`, value);\n\t},\n\n\tformatCRS(value) {\n\t\treturn _.toList(value, false, value => {\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tlet title = value\n\t\t\t\t\t.replace(/^https?:\\/\\/www\\.opengis\\.net\\/def\\/crs\\//i, '') // HTTP(s) URI\n\t\t\t\t\t.replace(/^urn:ogc:def:crs:/i, ''); // OGC URN\n\t\t\t\treturn _.toLink(value, title);\n\t\t\t}\n\t\t\treturn DataTypes.format(value);\n\t\t});\n\t},\n\n\tformatEPSG(value) {\n\t\t// Remove leading 'epsg:' which people sometimes prepend\n\t\tif (typeof value === 'string') {\n\t\t\tvalue = value.replace(/^epsg:/i, '');\n\t\t}\n\t\tvalue = parseInt(value, 10);\n\t\tif (value > 0) {\n\t\t\treturn _.toLink(`http://epsg.io/${value}`, value);\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t},\n\n\tformatExtent(value, field, spec = {}) {\n\t\tif (!Array.isArray(value) || value.length < 2 || (value[0] === null && value[1] === null)) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\telse if (value[0] === null) {\n\t\t\treturn `Until ${DataTypes.format(value[1], spec.unit)}`;\n\t\t}\n\t\telse if (value[1] === null) {\n\t\t\treturn `From ${DataTypes.format(value[0], spec.unit)}`;\n\t\t}\n\t\telse if (value[0] === value[1]) {\n\t\t\treturn DataTypes.format(value[0], spec.unit);\n\t\t}\n\t\telse {\n\t\t\treturn value.map(v => DataTypes.format(v, spec.unit)).join('  ');\n\t\t}\n\t},\n\n\tformatHexColor(value) {\n\t\tif (typeof value !== 'string' || !value.match(/^#?[\\dA-F]{3,8}$/i)) {\n\t\t\treturn _.null();\n\t\t}\n\t\tif (value.startsWith('#')) {\n\t\t\tvalue = value.substring(1);\n\t\t}\n\t\treturn `<div class=\"color\" style=\"background-color: #${value}\"><code class=\"color-code\">#${value}</code></div>`;\n\t},\n\n\tformatPROJJSON(value) {\n\t\tif (!_.isObject(value)) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\tif (_.isObject(value.id) && value.id.authority === 'EPSG' && typeof value.code === 'number' && value.code > 0) {\n\t\t\treturn 'EPSG ' + Formatters.formatEPSG(value);\n\t\t}\n\t\telse if (typeof value.name === 'string') {\n\t\t\treturn DataTypes.string(value.name);\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.object(value);\n\t\t}\n\t},\n\n\tformatTemporalExtent(value, field, spec = {}) {\n\t\tlet formatter = spec.shorten ? Formatters.formatDate : Formatters.formatTimestamp;\n\t\tif (!Array.isArray(value) || value.length < 2 || (typeof value[0] !== 'string' && typeof value[1] !== 'string')) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\telse if (typeof value[0] !== 'string') {\n\t\t\treturn `Until ${formatter(value[1])}`;\n\t\t}\n\t\telse if (typeof value[1] !== 'string') {\n\t\t\treturn `${formatter(value[0])} until present`;\n\t\t}\n\t\telse if (value[0] === value[1]) {\n\t\t\treturn Formatters.formatTimestamp(value[0]);\n\t\t}\n\t\telse {\n\t\t\treturn value.map(date => formatter(date)).join(' - ');\n\t\t}\n\t},\n\n\tformatTemporalExtents(value, field, spec = {}) {\n\t\tlet sortExtents = (a,b) => {\n\t\t\tif (a[0] === null) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn a[0].localeCompare(b[0]);\n\t\t\t}\n\t\t};\n\t\treturn _.toList(value, sortExtents, v => Formatters.formatTemporalExtent(v, field, spec));\n\t},\n\n\tformatWKT2(value) {\n\t\tif (typeof value !== 'string') {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t\t\n\t\t// This is a VERY simplistic WKT2 formatter, which may fail to render properly in some cases.\n\t\tlet indent = -1;\n\t\tlet formatted;\n\t\ttry {\n\t\t\tformatted = value.replace(/([A-Z]+)\\[|\\]/ig, (match, keyword) => {\n\t\t\t\tif (match === ']') {\n\t\t\t\t\tindent--;\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tindent++;\n\t\t\t\t\tlet tabs = \"  \".repeat(indent);\n\t\t\t\t\treturn `\\n${tabs}${keyword}[`;\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\t// In case the formatting did not work properly\n\t\t\t// (usually the number of [ and ] doesn't match)\n\t\t\t// just return the unformatted value\n\t\t\tformatted = value;\n\t\t\t\n\t\t}\n\n\t\treturn `<pre>${formatted}</pre>`;\n\t},\n\n\tfileSizeUnits: ['B', 'kB', 'MB', 'GB', 'TB'],\n\n\tformatFileSize(value) {\n\t\tif (typeof value !== 'number') {\n\t\t\treturn DataTypes.format(value);\n\t\t}\n\t\tvar i = value == 0 ? 0 : Math.floor( Math.log(value) / Math.log(1024) );\n\t\treturn _.unit(( value / Math.pow(1024, i) ).toFixed(2) * 1, Formatters.fileSizeUnits[i]);\n\t},\n\n\tformatChecksum(value) {\n\t\tif (typeof value !== 'string') {\n\t\t\treturn DataTypes.null();\n\t\t}\n\n\t\ttry {\n\t\t\tconst multihash = require('multihashes');\n\t\t\tconst meta = multihash.decode(_.hexToUint8(value));\n\t\t\tconst name = _.e(meta.name);\n\t\t\tconst hex = _.e(_.uint8ToHex(meta.digest));\n\t\t\treturn `<div class=\"checksum\"><input class=\"checksum-input\" size=\"32\" value=\"${hex}\" readonly /><br /><span class=\"checksum-algo\">Hashing algorithm: <strong>${name}</strong></span></div>`;\n\t\t} catch (error) {\n\t\t\treturn DataTypes.null();\n\t\t}\n\t},\n\n\tfileDataTypes: {\n\t\t\"int8\": \"8-bit integer\",\n\t\t\"int16\": \"16-bit integer\",\n\t\t\"int32\": \"32-bit integer\",\n\t\t\"int64\": \"64-bit integer\",\n\t\t\"uint8\": \"unsigned 8-bit integer\",\n\t\t\"uint16\": \"unsigned 16-bit integer\",\n\t\t\"uint32\": \"unsigned 32-bit integer\",\n\t\t\"uint64\": \"unsigned 64-bit integer\",\n\t\t\"float16\": \"16-bit float\",\n\t\t\"float32\": \"32-bit float\",\n\t\t\"float64\": \"64-big float\",\n\t\t\"cint16\": \"16-bit complex integer\",\n\t\t\"cint32\": \"32-bit complex integer\",\n\t\t\"cfloat32\": \"32-bit complex float\",\n\t\t\"cfloat64\": \"64-bit complex float\",\n\t\t\"other\": \"Other\"\n\t},\n\n\tformatFileDataType(value) {\n\t\tif (typeof value === 'string' && value in Formatters.fileDataTypes) {\n\t\t\treturn _.abbrev(value, Formatters.fileDataTypes[value]);\n\t\t}\n\n\t\treturn DataTypes.null();\n\t},\n\n\tformatTransform(value) {\n\t\tif (Array.isArray(value) && value.length % 3 === 0) {\n\t\t\tlet rows = [];\n\t\t\tfor (let i = 0; i < value.length; i = i+3) {\n\t\t\t\tlet chunk = value.slice(i, i + 3);\n\t\t\t\trows.push(`[${Formatters.formatCSV(chunk)}]`);\n\t\t\t}\n\t\t\treturn rows.join('<br />');\n\t\t}\n\t\telse {\n\t\t\treturn Formatters.formatCSV(value);\n\t\t}\n\t},\n\n\tformatShape(value, field, spec = {}) {\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value.map(x => DataTypes.format(x, spec.unit)).join('  ');\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.format(value, spec.unit);\n\t\t}\n\t},\n\n\tformatCSV(value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tlet numeric = value.find(v => typeof v === 'number') !== undefined;\n\t\t\t// If there's potentially a comma in the values (decimal or thousand separators in numbers), use semicolon instead of comma.\n\t\t\treturn value.map(DataTypes.format).join(numeric ? '; ' : ', ');\n\t\t}\n\t\telse {\n\t\t\treturn DataTypes.format(value);\n\t\t}\n\t},\n\n\tformatGridCode(value) {\n\t\tif (typeof value !== 'string') {\n\t\t\treturn DataTypes.format(value);\n\t\t}\n\n\t\tlet splitHalf = function(parts, value, labelA, labelB) {\n\t\t\tlet len = value.length;\n\t\t\tif ((len % 2) === 1) {\n\t\t\t\tparts.push(`Code: ${value}`);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet mid = len/2;\n\t\t\t\tlet a = value.substring(0, mid);\n\t\t\t\tparts.push(`${labelA}: ${a}`);\n\t\t\t\tlet b = value.substring(mid, len);\n\t\t\t\tparts.push(`${labelB}: ${b}`);\n\t\t\t}\n\t\t};\n\n\t\tlet [designator, code] = value.split(/-(.*)/);\n\t\tlet parts = [];\n\t\tswitch(designator) {\n\t\t\tcase 'MGRS': \n\t\t\t\tparts.push(_.abbrev(designator, 'Military Grid Reference System'));\n\t\t\t\tlet [, utm, band, sq, coord] = code.match(/^(\\d{2})([C-X])([A-Z]{2})(\\d+)$/);\n\t\t\t\tparts.push(`UTM Zone: ${utm}`);\n\t\t\t\tparts.push(`Latitude Band: ${band}`);\n\t\t\t\tparts.push(`Square Identifier: ${sq}`);\n\t\t\t\tsplitHalf(parts, coord, \"Easting\", \"Northing\");\n\t\t\t\tbreak;\n\t\t\tcase 'MSIN':\n\t\t\t\tparts.push('MODIS Sinusoidal Tile Grid');\n\t\t\t\tsplitHalf(parts, code, 'Horizontal', 'Vertical');\n\t\t\t\tbreak;\n\t\t\tcase 'WRS1':\n\t\t\tcase 'WRS2':\n\t\t\t\tlet version = designator.substring(3,4);\n\t\t\t\tparts.push(_.abbrev('WRS-' + version, 'Worldwide Reference System ' + version));\n\t\t\t\tsplitHalf(parts, code, 'Path', 'Row');\n\t\t\t\tbreak;\n\t\t\tcase 'DOQ':\n\t\t\t\tparts.push('Digital Orthophoto Quadrangle');\n\t\t\t\tparts.push(`Quadrangle: ${code}`);\n\t\t\t\tbreak;\n\t\t\tcase 'DOQQ':\n\t\t\t\tparts.push('Digital Orthophoto Quarter Quadrangle');\n\t\t\t\tlet quad = code.substr(0, code.length - 2);\n\t\t\t\tparts.push(`Quadrangle: ${quad}`);\n\t\t\t\tlet quarter = code.substr(-2);\n\t\t\t\tlet a = quarter[0] === 'N' ? 'North' : 'South';\n\t\t\t\tlet b = quarter[1] === 'E' ? 'East' : 'West';\n\t\t\t\tparts.push(`Quarter: ${a} ${b}`);\n\t\t\t\tbreak;\n\t\t\tcase 'MXRA':\n\t\t\t\tparts.push('Maxar ARD Tile Grid');\n\t\t\t\tlet [zone, quadkey] = code.split(/-(.*)/);\n\t\t\t\tif (zone.startsWith('Z')) {\n\t\t\t\t\tzone = zone.substring(1);\n\t\t\t\t}\n\t\t\t\tparts.push(`UTM Zone: ${zone}`);\n\t\t\t\tparts.push(`Quadkey: ${quadkey}`);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn parts.join('<br />');\n\t}\n\n};\n\nfunction formatGrouped(context, data, type, filter, coreKey) {\n\t// Group fields into extensions\n\tlet groups = {};\n\tfor(let field in data) {\n\t\tlet value;\n\t\ttry {\n\t\t\tlet parts = field.split(/:(.*)/);\n\t\t\tif (parts.length === 1) {\n\t\t\t\tparts.unshift(coreKey);\n\t\t\t}\n\t\t\tlet ext = parts[0];\n\t\t\tif (typeof filter === 'function' && !filter(field)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvalue = data[field];\n\t\t\tlet spec = Registry.getSpecification(field, type);\n\n\t\t\t// Move to another extension (e.g. if no prefix is provided)\n\t\t\tif (spec.ext) {\n\t\t\t\text = spec.ext;\n\t\t\t}\n\n\t\t\t// Special handling for summaries that contain a list with keys (e.g. cube:dimensions, gee:schema)\n\t\t\t// There's usually just a single object included, so get that as value\n\t\t\tlet isSummarizedListWithKeys = false;\n\t\t\tif (type === 'summaries' && spec.listWithKeys && Array.isArray(value) && value.length > 0) {\n\t\t\t\tvalue = value[0];\n\t\t\t\tisSummarizedListWithKeys = true;\n\t\t\t}\n\n\t\t\t// Fill items with missing properties\n\t\t\tlet items = null;\n\t\t\tlet itemOrder = [];\n\t\t\tif (_.isObject(spec.items)) {\n\t\t\t\tlet temp = value;\n\t\t\t\t// Ignore keys for lists that are stored as object (e.g. cube:dimensions)\n\t\t\t\tif (spec.listWithKeys) {\n\t\t\t\t\ttemp = Object.values(temp);\n\t\t\t\t}\n\n\t\t\t\tlet itemFieldNames = [];\n\t\t\t\tif (Array.isArray(temp)) {\n\t\t\t\t\titemFieldNames = _.keysFromListOfObjects(temp);\n\t\t\t\t}\n\t\t\t\telse if (_.isObject(temp)) {\n\t\t\t\t\titemFieldNames = Object.keys(temp);\n\t\t\t\t}\n\n\t\t\t\titems = {};\n\t\t\t\t// Remove fields from list that are not available in the data\n\t\t\t\titemOrder = spec.itemOrder.filter(fieldName => itemFieldNames.includes(fieldName));\n\n\t\t\t\titemFieldNames.forEach(key => {\n\t\t\t\t\tif (typeof spec.items[key] === 'undefined') {\n\t\t\t\t\t\t// Add fields that are not specified in fields.json\n\t\t\t\t\t\titems[key] = {\n\t\t\t\t\t\t\tlabel: _.formatKey(key),\n\t\t\t\t\t\t\texplain: key\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// Place non-specified fields at the end\n\t\t\t\t\t\titemOrder.push(key);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Clone field spec from fields.json\n\t\t\t\t\t\titems[key] = Object.assign({}, spec.items[key]);\n\t\t\t\t\t\titems[key].label = label(key, spec.items[key]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Format values\n\t\t\tlet formatted;\n\n\t\t\t// Handle summaries\n\t\t\tif (type === 'summaries') {\n\t\t\t\tif (!isSummarizedListWithKeys && _.isObject(value)) {\n\t\t\t\t\tif (typeof value.minimum !== 'undefined' && typeof value.minimum !== 'undefined') {\n\t\t\t\t\t\tformatted = Formatters.formatExtent([value.minimum, value.maximum], field, spec);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tformatted = DataTypes.object(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Registry.externalRenderer && items) {\n\t\t\t\t\tlet formatted = isSummarizedListWithKeys ? Object.assign({}, value) : value.slice(0);\n\t\t\t\t\t// Go through each field's summary\n\t\t\t\t\tfor(let i in formatted) {\n\t\t\t\t\t\tlet result = _.isObject(formatted[i]) ? {} : [];\n\t\t\t\t\t\t// Go through each entry in a field's summary (this is besically a single value as defined in the Item spec)\n\t\t\t\t\t\tfor(let key in items) {\n\t\t\t\t\t\t\tresult[key] = format(formatted[i][key], key, context, data, items[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformatted[i] = result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\tformatted = _.toList(value, !spec.custom && !spec.items, v => format(v, field, context, data, spec));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.warn(`Invalid summary value: ${value}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Fallback to \"normal\" rendering if not handled by summaries yet\n\t\t\tif (typeof formatted === 'undefined') {\n\t\t\t\tformatted = format(value, field, context, data, spec);\n\t\t\t}\n\n\t\t\t// Add group if missing\n\t\t\tif (!_.isObject(groups[ext])) {\n\t\t\t\tgroups[ext] = {\n\t\t\t\t\textension: ext,\n\t\t\t\t\tlabel: extension(ext),\n\t\t\t\t\tproperties: {}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tgroups[ext].properties[field] = {\n\t\t\t\tlabel: label(field, spec),\n\t\t\t\tvalue,\n\t\t\t\tformatted,\n\t\t\t\titems,\n\t\t\t\titemOrder,\n\t\t\t\tspec\n\t\t\t};\n\t\t} catch(error) {\n\t\t\tconsole.error(`Field '${field}' with value '${value}' resulted in an error`, error);\n\t\t}\n\t}\n\treturn Object.values(groups).sort((a,b) => a.extension.localeCompare(b.extension));\n\n}\n\n// For assets (item and collection) and item-assets (extension)\nfunction formatAsset(asset, context, filter = null, coreKey = '') {\n\treturn formatGrouped(context, asset, 'assets', filter, coreKey);\n}\n\n// For links\nfunction formatLink(link, context, filter = null, coreKey = '') {\n\treturn formatGrouped(context, link, 'links', filter, coreKey);\n}\n\n// For Collection summaries\nfunction formatSummaries(collection, filter = null, coreKey = '') {\n\treturn formatGrouped(collection, collection.summaries, 'summaries', filter, coreKey);\n}\n\n// For Collections\nfunction formatCollection(collection, filter = null, coreKey = '') {\n\treturn formatGrouped(collection, collection, 'collection', filter, coreKey);\n}\n\n// For item properties\nfunction formatItemProperties(item, filter = null, coreKey = '') {\n\treturn formatGrouped(item, item.properties, 'metadata', filter, coreKey);\n}\n\nfunction format(value, field, context = null, parent = null, spec = null) {\n\tif (!_.isObject(spec)) {\n\t\tspec = Fields.metadata[field] || {};\n\t}\n\n\tif (typeof spec.formatter === 'function') {\n\t\treturn spec.formatter(value, field, spec, context, parent);\n\t}\n\telse if (_.isObject(spec.mapping)) {\n\t\tlet key = String(value).toLowerCase();\n\t\tif (typeof spec.mapping[key] !== 'undefined') {\n\t\t\tvalue = spec.mapping[key];\n\t\t}\n\t\treturn DataTypes.format(value, spec.unit);\n\t}\n\telse if (value === null && spec.null) {\n\t\treturn DataTypes.null(spec.null);\n\t}\n\telse if (Array.isArray(value)) {\n\t\tlet callback = v => format(v, field, context, parent, spec);\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items)) {\n\t\t\treturn value.map(callback);\n\t\t}\n\t\telse {\n\t\t\treturn _.toList(value, false, callback);\n\t\t}\n\t}\n\telse if (_.isObject(value) && _.isObject(spec.items)) {\n\t\tlet callback = (v, k, p) => format(v, k, context, p, spec.listWithKeys ? Object.assign({}, spec, {listWithKeys: false}) : spec.items[k]);\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items)) {\n\t\t\tlet formattedValues = {};\n\t\t\tfor(let key in value) {\n\t\t\t\tformattedValues[key] = callback(value[key], key, value);\n\t\t\t}\n\t\t\treturn formattedValues;\n\t\t}\n\t\telse {\n\t\t\treturn _.toObject(value, callback);\n\t\t}\n\t}\n\telse {\n\t\treturn DataTypes.format(value, spec.unit);\n\t}\n}\n\nfunction label(key, spec = null) {\n\tif (!_.isObject(spec)) {\n\t\tspec = Fields.metadata[key] || {};\n\t}\n\tif (_.isObject(spec) && typeof spec.label === 'string') {\n\t\tif (typeof spec.explain === 'string') {\n\t\t\tif (spec.explain.match(/^https?:\\/\\//i)) {\n\t\t\t\treturn _.toLink(spec.explain, spec.label, \"about\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn _.abbrev(spec.label, spec.explain);\n\t\t\t}\n\t\t}\n\t\telse if (typeof spec.label === 'string') {\n\t\t\treturn spec.label;\n\t\t}\n\t}\n\treturn _.formatKey(key);\n}\n\nfunction extension(key) {\n\treturn label(key, Fields.extensions[key]);\n}\n\nvar Fields = _.normalizeFields(require('./fields.json'));\n\nmodule.exports = {\n\tformat,\n\tlabel,\n\textension,\n\tformatCollection,\n\tformatSummaries,\n\tformatItemProperties,\n\tformatAsset,\n\tformatLink,\n\tFields,\n\tRegistry,\n\tHelper: _,\n\tDataTypes,\n\tFormatters\n};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&id=4920e25e&prod&lang=scss&\"","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    var output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n}\nexports.default = decodeCodePoint;\n","import Utils from '../../utils';\r\nimport { Versions } from '@openeo/js-commons';\r\nimport StacMigrate from '@radiantearth/stac-migrate';\r\n\r\nconst IMAGE_MEDIA_TYPES = ['image/apng', 'image/gif', 'image/png', 'image/jpeg', 'image/webp'];\r\nconst IMAGE_EXTENSIONS = ['gif', 'png', 'jpg', 'jpeg', 'webp'];\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tDescription: () => import('../Description.vue'),\r\n\t\tDeprecationNotice: () => import('../DeprecationNotice.vue'),\r\n\t\tLinkList: () => import('../LinkList.vue'),\r\n\t\tStacAsset: () => import('../internal/StacAsset.vue'),\r\n\t\tStacFields: () => import('../internal/StacFields.vue')\r\n\t},\r\n\tprops: {\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t},\r\n\t\tmapOptions: {\r\n\t\t\t// It's not possible to specify defaults for the individual properties, therefore this prop is only accessed through a computed property which adds them in.\r\n\t\t\ttype: Object,\r\n\t\t\t// Default values will be set in computed.leafletOptions\r\n\t\t\tdefault: () => ({}),\r\n\t\t\tvalidator: function(value) {\r\n\t\t\t\tconst allowedTypes = {  // keep in sync with Readme\r\n\t\t\t\t\theight: \"string\",\r\n\t\t\t\t\twidth: \"string\",\r\n\t\t\t\t\tbasemap: \"string\",\r\n\t\t\t\t\tattribution: \"string\",\r\n\t\t\t\t\twrapAroundAntimeridian: \"boolean\",\r\n\t\t\t\t\tscrollWheelZoom: \"boolean\"\r\n\t\t\t\t};\r\n\t\t\t\tconst allowedKeys = Object.keys(allowedTypes);\r\n\t\t\t\treturn typeof value == 'object' && Object.keys(value).every(key =>\r\n\t\t\t\t\tallowedKeys.indexOf(key) != -1 && typeof value[key] == allowedTypes[key]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmap: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstac() {\r\n\t\t\tlet cloned = Utils.deepClone(this.data);\r\n\t\t\treturn StacMigrate.stac(cloned);\r\n\t\t},\r\n\t\tleafletOptions() {\r\n\t\t\treturn {  // keep in sync with Readme\r\n\t\t\t\theight: this.mapOptions.height || '250px',\r\n\t\t\t\twidth: this.mapOptions.width || 'auto',\r\n\t\t\t\tbasemap: this.mapOptions.basemap || 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n\t\t\t\tattribution: this.mapOptions.attribution || 'Map data &copy; <a href=\"http://www.osm.org\">OpenStreetMap</a>',\r\n\t\t\t\tnoWrap: this.mapOptions.wrapAroundAntimeridian === undefined ? true : !this.mapOptions.wrapAroundAntimeridian,  // negate!\r\n\t\t\t\tscrollWheelZoom: this.mapOptions.scrollWheelZoom === undefined ? false : this.mapOptions.scrollWheelZoom\r\n\t\t\t}\r\n\t\t},\r\n\t\tthumbnails() {\r\n\t\t\tif (!Utils.isObject(this.stac.assets)) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn Object.values(this.stac.assets).filter(this.assetIsImage);\r\n\t\t},\r\n\t\thasAssets() {\r\n\t\t\treturn Utils.size(this.stac.assets) > 0;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tdata() {\r\n\t\t\tthis.initMap();\r\n\t\t},\r\n\t\tshowMap(val) {\r\n\t\t\tif (val) {\r\n\t\t\t\tthis.initMap();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tbeforeCreate() {\r\n\t\tUtils.enableHtmlProps(this);\r\n\t},\r\n\tmounted() {\r\n\t\tthis.initMap();\r\n\t},\r\n\tmethods: {\r\n\t\tassetIsImage(asset) {\r\n\t\t\tlet ext = typeof asset.href === 'string' ? asset.href.split('.').pop() : '';\r\n\t\t\treturn Array.isArray(asset.roles) && \r\n\t\t\t\t(asset.roles.includes('thumbnail') || asset.roles.includes('overview')) && \r\n\t\t\t\t(IMAGE_MEDIA_TYPES.includes(asset.type) || IMAGE_EXTENSIONS.includes(ext));\r\n\t\t},\r\n\t\tinitLeafletPlugins() {\r\n\t\t\t// To be implemented in Collection/Item, if required.\r\n\t\t},\r\n\t\tasync initMap() {\r\n\t\t\tif (!this.$refs.mapContainer) {\r\n\t\t\t\tawait this.$nextTick();\r\n\t\t\t}\r\n\t\t\tif (!this.$refs.mapContainer || this.map !== null || !this.showMap) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// Only use the L for leaflet temporarily and release it later again\r\n\t\t\tlet oldL = window.L;\r\n\t\t\ttry {\r\n\t\t\t\tthis.map = {\r\n\t\t\t\t\tleaflet: null,\r\n\t\t\t\t\tinstance: null,\r\n\t\t\t\t\tgeometries: null\r\n\t\t\t\t};\r\n\t\t\t\t// Leaflet no conflict fix: Try to re-use an already available instance of Leaflet to avoid\r\n\t\t\t\t// conflicts with other libraries such as ipyleaflet. Also, use L variable as long as initMap\r\n\t\t\t\t// is running. For all other cases store Leaflet in this.map.leaflet, which can be used in other places.\r\n\t\t\t\tlet hasLeaflet = () => Utils.isObject(window.L) && Versions.validate(window.L.version) && Versions.compare(window.L.version, \"1.x.x\", \"=\");\r\n\t\t\t\tif (!hasLeaflet()) {\r\n\t\t\t\t\twindow.L = await import('leaflet');\r\n\t\t\t\t}\r\n\t\t\t\tif (!hasLeaflet()) {\r\n\t\t\t\t\tconsole.warn(\"Leaflet is not available\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.map.leaflet = window.L;\r\n\r\n\t\t\t\tlet css = await import('leaflet/dist/leaflet.css');\r\n\t\t\t\t// In Web Component mode inject the CSS into the shadowroot\r\n\t\t\t\tif (this.$root && this.$root.$options.shadowRoot && css.__inject__) {\r\n\t\t\t\t\tcss.__inject__(this.$root.$options.shadowRoot);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar map = this.map.leaflet.map(this.$refs.mapContainer, {scrollWheelZoom: this.leafletOptions.scrollWheelZoom});\r\n\t\t\t\tthis.map.instance = map;\r\n\t\t\t\tvar osm = this.map.leaflet.tileLayer(this.leafletOptions.basemap, {\r\n\t\t\t\t\tname: 'Basemap',\r\n\t\t\t\t\tattribution: this.leafletOptions.attribution,\r\n\t\t\t\t\tnoWrap: this.leafletOptions.noWrap\r\n\t\t\t\t});\r\n\t\t\t\tosm.addTo(map);\r\n\r\n\t\t\t\tif (typeof this.addFeatures === 'function') {\r\n\t\t\t\t\tthis.map.geometries = this.addFeatures();\r\n\t\t\t\t\tif (this.map.geometries) {\r\n\t\t\t\t\t\tthis.map.geometries.addTo(map);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update map container in DOM\r\n\t\t\t\tthis.$refs.mapContainer.style.width = this.leafletOptions.width;\r\n\t\t\t\tthis.$refs.mapContainer.style.height = this.leafletOptions.height;\r\n\t\t\t\tmap.invalidateSize(false);\r\n\t\t\t\tthis.updateMapView();\r\n\r\n\t\t\t\tif (typeof this.mapOptions.onAfterMapInit === 'function') {\r\n\t\t\t\t\ttypeof this.mapOptions.onAfterMapInit(map, this.map.geometries);\r\n\t\t\t\t}\r\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\r\n\t\t\t\twindow.L = oldL;\r\n\t\t\t\treturn true;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\r\n\t\t\t\twindow.L = oldL;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateMapView() {\r\n\t\t\tif (!this.map || !this.map.geometries) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Compute somewhat smart map extent and zoom level around bbox\r\n\t\t\tvar bounds = this.map.geometries.getBounds();\r\n\t\t\tvar zoom = this.map.instance.getBoundsZoom(bounds);\r\n\t\t\tvar newZoom = Math.min(zoom, 11); // Never zoom closer than 8\r\n\t\t\tif (zoom > 8) {\r\n\t\t\t\tnewZoom = newZoom - 3; // Zoom out three levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 5) {\r\n\t\t\t\tnewZoom = newZoom - 2; // Zoom out two levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 2) {\r\n\t\t\t\tnewZoom--; // Zoom out one level\r\n\t\t\t}\r\n\t\t\tthis.map.instance.fitBounds(bounds);\r\n\t\t\tthis.map.instance.setZoom(newZoom);\r\n\r\n\t\t\tthis.map.instance.once('moveend zoomend', () => this.map.instance.invalidateSize(false));\r\n\t\t}\r\n\t}\r\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{attrs:{\"width\":\"80%\",\"title\":_vm.collection.id},on:{\"closed\":function($event){return _vm.$emit('closed')}}},[_c('div',{staticClass:\"docgen\"},[_c('Collection',{attrs:{\"data\":_vm.collection},scopedSlots:_vm._u([{key:\"spatial-extents\",fn:function(p){return [(p.worldwide)?_c('span',{staticClass:\"worldwide\"},[_c('i',{staticClass:\"fas fa-globe\"}),_vm._v(\" Worldwide\")]):_c('MapExtentViewer',{staticClass:\"map\",attrs:{\"footprint\":p.extents}})]}}])}),(_vm.currentItems)?_c('section',[_c('Items',{attrs:{\"items\":_vm.currentItems},scopedSlots:_vm._u([{key:\"item-location\",fn:function(p){return [_c('MapExtentViewer',{attrs:{\"footprint\":p.geometry}})]}}],null,false,635288746)}),_c('div',{staticClass:\"pagination\"},[_c('button',{attrs:{\"title\":\"Previous page\",\"disabled\":!_vm.hasPrevItems},on:{\"click\":function($event){return _vm.paginate(-1)}}},[_c('i',{staticClass:\"fas fa-arrow-left\"}),_vm._v(\" Previous Page\")]),_c('button',{attrs:{\"title\":\"Next page\",\"disabled\":!_vm.hasNextItems},on:{\"click\":function($event){return _vm.paginate(1)}}},[_vm._v(\"Next Page \"),_c('i',{staticClass:\"fas fa-arrow-right\"})])])],1):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<Modal width=\"80%\" :title=\"collection.id\" @closed=\"$emit('closed')\">\n\t\t<div class=\"docgen\">\n\t\t\t<Collection :data=\"collection\">\n\t\t\t\t<template #spatial-extents=\"p\">\n\t\t\t\t\t<span v-if=\"p.worldwide\" class=\"worldwide\"><i class=\"fas fa-globe\"></i> Worldwide</span>\n\t\t\t\t\t<MapExtentViewer v-else class=\"map\" :footprint=\"p.extents\"></MapExtentViewer>\n\t\t\t\t</template>\n\t\t\t</Collection>\n\t\t\t<section v-if=\"currentItems\">\n\t\t\t\t<Items :items=\"currentItems\">\n\t\t\t\t\t<template #item-location=\"p\">\n\t\t\t\t\t\t<MapExtentViewer :footprint=\"p.geometry\"></MapExtentViewer>\n\t\t\t\t\t</template>\n\t\t\t\t</Items>\n\t\t\t\t<div class=\"pagination\">\n\t\t\t\t\t<button title=\"Previous page\" @click=\"paginate(-1)\" :disabled=\"!hasPrevItems\"><i class=\"fas fa-arrow-left\"></i> Previous Page</button>\n\t\t\t\t\t<button title=\"Next page\" @click=\"paginate(1)\" :disabled=\"!hasNextItems\">Next Page <i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport Modal from './Modal.vue';\nimport Collection from '@openeo/vue-components/components/Collection.vue';\nimport Utils from '../../utils.js';\n\nexport default {\n\tname: 'CollectionModal',\n\tcomponents: {\n\t\tMapExtentViewer: () => import('../maps/MapExtentViewer.vue'),\n\t\tModal,\n\t\tCollection,\n\t\tItems: () => import('@openeo/vue-components/components/Items.vue')\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [],\n\t\t\titemsPage: 0,\n\t\t\titemsIterator: null\n\t\t};\n\t},\n\tprops: {\n\t\tcollection: {\n\t\t\ttype: Object\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection']),\n\t\t...Utils.mapGetters(['supports']),\n\t\tbbox() {\n\t\t\ttry {\n\t\t\t\treturn this.collection.extent.spatial.bbox[0];\n\t\t\t} catch(e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tcurrentItems() {\n\t\t\tif (this.items.length >= this.itemsPage) {\n\t\t\t\treturn this.items[this.itemsPage];\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\thasPrevItems() {\n\t\t\treturn (this.itemsPage > 0);\n\t\t},\n\t\thasNextItems() {\n\t\t\treturn (this.itemsPage < this.items.length - 1);\n\t\t}\n\t},\n\tasync mounted() {\n\t\tif (this.supports('listCollectionItems')) {\n\t\t\tawait this.nextItems();\n\t\t\t// Always request a page in advance so that we know whether a next page is available.\n\t\t\tthis.nextItems();\n\t\t}\n\t},\n\tmethods: {\n\t\tasync paginate(step) {\n\t\t\tif (step > 0) {\n\t\t\t\tawait this.nextItems();\n\t\t\t}\n\t\t\telse if (this.itemsPage === 0 && step < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.itemsPage += step;\n\t\t},\n\t\tasync nextItems() {\n\t\t\tif (!this.itemsIterator) {\n\t\t\t\tthis.itemsIterator = await this.connection.listCollectionItems(this.collection.id);\n\t\t\t}\n\t\t\tlet next = await this.itemsIterator.next();\n\t\t\tif (next && next.value && !next.done) {\n\t\t\t\tthis.items.push(next.value);\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.vue-component.styled-description .docgen {\n\th1, h2, h3, h4, h5 {\n\t\tmargin: 1.5em 0 0 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 1.1em;\n\t}\n\th1 {\n\t\tfont-size: 1.2em;\n\t}\n\th2 {\n\t\tfont-size: 1.15em;\n\t}\n}\n.docgen {\n\t.map {\n\t\theight: 350px !important; // ToDo: Remove once new release of vue-components is available (newer than 2.8.1)\n\t}\n\n\t.collection > h2 {\n\t\tdisplay: none;\n\t}\n\n\t.items > h2 {\n\t\tdisplay: block;\n\t\tfont-size: 1.4em;\n\t\tmargin-top: 1.5em;\n\t\tborder-bottom-style: dotted;\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CollectionModal.vue?vue&type=template&id=07961b69&\"\nimport script from \"./CollectionModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectionModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectionModal.vue?vue&type=style&index=0&id=07961b69&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\n/**\r\n * The pattern used for parsing ISO8601 duration (PnYnMnDTnHnMnS).\r\n */\r\n// PnYnMnDTnHnMnS || PnW\r\nvar numbers = \"\\\\d+(?:[\\\\.,]\\\\d+)?\";\r\nvar weekPattern = \"(\" + numbers + \"W)\";\r\nvar datePattern = \"(\" + numbers + \"Y)?(\" + numbers + \"M)?(\" + numbers + \"D)?\";\r\nvar timePattern = \"T(\" + numbers + \"H)?(\" + numbers + \"M)?(\" + numbers + \"S)?\";\r\nvar iso8601 = \"^P(?:\" + weekPattern + \"|\" + datePattern + \"(?:\" + timePattern + \")?)$\";\r\n/**\r\n * The ISO8601 regex for matching / testing durations\r\n */\r\nvar pattern = new RegExp(iso8601);\r\nvar durationKeys = [\r\n    \"weeks\",\r\n    \"years\",\r\n    \"months\",\r\n    \"days\",\r\n    \"hours\",\r\n    \"minutes\",\r\n    \"seconds\",\r\n];\r\nvar durationUnitToIsoKey = {\r\n    years: \"Y\",\r\n    months: \"M\",\r\n    days: \"D\",\r\n    hours: \"H\",\r\n    minutes: \"M\",\r\n    seconds: \"S\",\r\n    weeks: \"W\",\r\n};\r\nvar durationZero = Object.freeze({\r\n    weeks: 0,\r\n    years: 0,\r\n    months: 0,\r\n    days: 0,\r\n    hours: 0,\r\n    minutes: 0,\r\n    seconds: 0,\r\n});\n\n/** Parse PnYnMnDTnHnMnS format to object\r\n * @param {string} durationString - PnYnMnDTnHnMnS or PnW formatted string\r\n * @return {Object} - With a property for each part of the pattern\r\n */\r\nvar parseIsoString = function (durationString) {\r\n    var durationMatchedPattern = durationString.match(pattern);\r\n    if (!durationMatchedPattern) {\r\n        throw new Error(\"Invalid duration string\");\r\n    }\r\n    var parsed = durationMatchedPattern\r\n        .slice(1)\r\n        .reduce(function (prev, next, idx) {\r\n        prev[durationKeys[idx]] = parseFloat(next) || 0;\r\n        return prev;\r\n    }, {});\r\n    return parsed;\r\n};\r\n/** Normalize not completed Partial DurationObj to DurationObj;\r\n * ex: { days: 1, not_supported_key: 'bar' } => { years: 0, months: 0 days: 1, hours: 0, minutes: 0, seconds: 0 }\r\n * @param partialDurationObj\r\n */\r\nvar normalizeDurationObj = function (partialDurationObj) {\r\n    if (partialDurationObj.weeks && partialDurationObj.weeks > 0) {\r\n        return Object.assign({}, durationZero, { weeks: partialDurationObj.weeks });\r\n    }\r\n    return durationKeys.reduce(function (res, key) {\r\n        var _a;\r\n        return (__assign(__assign({}, res), (_a = {}, _a[key] = partialDurationObj[key] || 0, _a)));\r\n    }, {});\r\n};\n\nvar config = {\r\n    locales: {},\r\n    options: {},\r\n    setLocales: function (locales, options) {\r\n        this.locales = __assign(__assign({}, this.locales), locales);\r\n        if (options) {\r\n            this.options = __assign(__assign({}, this.options), options);\r\n        }\r\n    },\r\n    getLangConfig: function (lang) {\r\n        var localesConfig = this.locales[lang];\r\n        if (!localesConfig && this.options.fallbackLocale) {\r\n            localesConfig = this.locales[this.options.fallbackLocale];\r\n        }\r\n        if (!localesConfig) {\r\n            throw new Error(\"isoDuration: Translations for language: \" + lang + \" are not provided\");\r\n        }\r\n        return localesConfig;\r\n    },\r\n};\n\nvar getIsoDateElements = function (durationObj) {\r\n    var isoItems = [\"years\", \"months\", \"days\"];\r\n    var isoDate = \"\";\r\n    for (var _i = 0, isoItems_1 = isoItems; _i < isoItems_1.length; _i++) {\r\n        var item = isoItems_1[_i];\r\n        if (durationObj[item]) {\r\n            isoDate += \"\" + durationObj[item] + durationUnitToIsoKey[item];\r\n        }\r\n    }\r\n    return isoDate;\r\n};\r\nvar getIsoTimeElements = function (durationObj) {\r\n    var isoItems = [\"hours\", \"minutes\", \"seconds\"];\r\n    var isoDate = \"\";\r\n    for (var _i = 0, isoItems_2 = isoItems; _i < isoItems_2.length; _i++) {\r\n        var item = isoItems_2[_i];\r\n        if (durationObj[item]) {\r\n            isoDate += \"\" + durationObj[item] + durationUnitToIsoKey[item];\r\n        }\r\n    }\r\n    return isoDate;\r\n};\r\nvar durationObjToString = function (durationObj) {\r\n    if (durationObj.weeks > 0) {\r\n        return \"P\" + durationObj.weeks + \"W\";\r\n    }\r\n    else {\r\n        var durationIsoString = \"P\";\r\n        var isoDateElement = getIsoDateElements(durationObj);\r\n        if (isoDateElement) {\r\n            durationIsoString += isoDateElement;\r\n        }\r\n        var isoTimeElement = getIsoTimeElements(durationObj);\r\n        if (isoTimeElement) {\r\n            durationIsoString += \"T\" + isoTimeElement;\r\n        }\r\n        if (!isoDateElement && !isoTimeElement) {\r\n            durationIsoString += \"0D\";\r\n        }\r\n        return durationIsoString;\r\n    }\r\n};\n\nvar humanizeWeek = function (durationObj, lang) {\r\n    var localeConfig = config.getLangConfig(lang);\r\n    return durationObj.weeks + \" \" + localeConfig.weeks(durationObj.weeks);\r\n};\r\nvar humanizeDate = function (durationObj, lang, humanizeConfig) {\r\n    var localeConfig = config.getLangConfig(lang);\r\n    var humanizedTime = \"\";\r\n    var humanizeOrder = [\r\n        \"years\",\r\n        \"months\",\r\n        \"days\",\r\n        \"hours\",\r\n        \"minutes\",\r\n        \"seconds\",\r\n    ];\r\n    var numOfHumanizedUnits = 0;\r\n    for (var index = 0; index < humanizeOrder.length; index++) {\r\n        var item = humanizeOrder[index];\r\n        var unitDuration = durationObj[item];\r\n        if (unitDuration) {\r\n            if (humanizedTime !== \"\") {\r\n                humanizedTime += \" \";\r\n            }\r\n            humanizedTime += unitDuration + \" \" + localeConfig[item](unitDuration);\r\n            numOfHumanizedUnits++;\r\n            if (humanizeConfig &&\r\n                humanizeConfig.largest &&\r\n                humanizeConfig.largest <= numOfHumanizedUnits) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return humanizedTime;\r\n};\r\nvar humanize = function (durationObj, lang, humanizeConfig) {\r\n    if (durationObj.weeks > 0) {\r\n        return humanizeWeek(durationObj, lang);\r\n    }\r\n    else {\r\n        return humanizeDate(durationObj, lang, humanizeConfig);\r\n    }\r\n};\n\nvar normalizeOrder = [\r\n    \"seconds\",\r\n    \"minutes\",\r\n    \"hours\",\r\n    \"days\",\r\n    \"months\",\r\n];\r\nvar getNormalizer = function (maxValue) {\r\n    return function (val) {\r\n        return {\r\n            nextUnitValue: Math.floor(val / maxValue),\r\n            value: val % maxValue,\r\n        };\r\n    };\r\n};\r\nvar getDaysInMonth = function (month, year) {\r\n    return new Date(year, month + 1, 0).getDate();\r\n};\r\nvar unitNormalizer = {\r\n    seconds: getNormalizer(60),\r\n    minutes: getNormalizer(60),\r\n    hours: getNormalizer(24),\r\n    days: function (val, date) {\r\n        var helperDate = date ? new Date(date.getTime()) : new Date();\r\n        var days = val;\r\n        var fullMonths = 0;\r\n        var daysInMonth = getDaysInMonth(helperDate.getMonth(), helperDate.getFullYear());\r\n        while (days > daysInMonth) {\r\n            days = days - daysInMonth;\r\n            fullMonths++;\r\n            helperDate.setMonth(helperDate.getMonth() + 1);\r\n            daysInMonth = getDaysInMonth(helperDate.getMonth(), helperDate.getFullYear());\r\n        }\r\n        return {\r\n            nextUnitValue: fullMonths,\r\n            value: days,\r\n        };\r\n    },\r\n    months: getNormalizer(12),\r\n};\r\nvar normalize = function (duration, date) {\r\n    var normalizedDuration = __assign({}, duration);\r\n    for (var i = 0; i < normalizeOrder.length; i++) {\r\n        var unit = normalizeOrder[i];\r\n        var unitValue = normalizedDuration[unit];\r\n        if (unitValue > 0) {\r\n            var temp = unitNormalizer[unit](unitValue, date);\r\n            normalizedDuration[unit] = temp.value;\r\n            if (temp.nextUnitValue) {\r\n                var nextUnit = unit === \"months\" ? \"years\" : normalizeOrder[i + 1];\r\n                normalizedDuration[nextUnit] =\r\n                    normalizedDuration[nextUnit] + temp.nextUnitValue;\r\n            }\r\n        }\r\n    }\r\n    return normalizedDuration;\r\n};\n\nvar IsoDuration = /** @class */ (function () {\r\n    function IsoDuration(durationObj) {\r\n        this.durationObj = durationObj;\r\n    }\r\n    IsoDuration.prototype.parse = function () {\r\n        return this.durationObj;\r\n    };\r\n    IsoDuration.prototype.toString = function () {\r\n        return durationObjToString(this.durationObj);\r\n    };\r\n    IsoDuration.prototype.humanize = function (lang, config) {\r\n        return humanize(this.durationObj, lang, config);\r\n    };\r\n    IsoDuration.prototype.normalize = function (date) {\r\n        this.durationObj = normalize(this.durationObj, date);\r\n        return this;\r\n    };\r\n    IsoDuration.prototype.isEmpty = function () {\r\n        var _this = this;\r\n        return Object.keys(this.durationObj).every(function (key) { return _this.durationObj[key] === 0; });\r\n    };\r\n    return IsoDuration;\r\n}());\n\nfunction getArabicForm(c) {\r\n    if (c <= 2) {\r\n        return 0;\r\n    }\r\n    if (c > 2 && c < 11) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\n\nvar lang = {\r\n    years: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    weeks: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    days: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    hours: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    minutes: function (c) {\r\n        return [\"\", \"\"][getArabicForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nfunction getSlavicForm(c) {\r\n    if (Math.floor(c) !== c) {\r\n        return 2;\r\n    }\r\n    else if ((c % 100 >= 5 && c % 100 <= 20) ||\r\n        (c % 10 >= 5 && c % 10 <= 9) ||\r\n        c % 10 === 0) {\r\n        return 0;\r\n    }\r\n    else if (c % 10 === 1) {\r\n        return 1;\r\n    }\r\n    else if (c > 1) {\r\n        return 2;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\n\nvar lang$1 = {\r\n    years: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    months: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$2 = {\r\n    years: function (c) {\r\n        return \"any\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    months: function (c) {\r\n        return \"mes\" + (c === 1 ? \"\" : \"os\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"setman\" + (c === 1 ? \"a\" : \"es\");\r\n    },\r\n    days: function (c) {\r\n        return \"di\" + (c === 1 ? \"a\" : \"es\");\r\n    },\r\n    hours: function (c) {\r\n        return \"hor\" + (c === 1 ? \"a\" : \"es\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minut\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"segon\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nfunction getCzechOrSlovakForm(c) {\r\n    if (c === 1) {\r\n        return 0;\r\n    }\r\n    else if (Math.floor(c) !== c) {\r\n        return 1;\r\n    }\r\n    else if (c % 10 >= 2 && c % 10 <= 4 && c % 100 < 10) {\r\n        return 2;\r\n    }\r\n    else {\r\n        return 3;\r\n    }\r\n}\n\nvar lang$3 = {\r\n    years: function (c) {\r\n        return [\"rok\", \"roku\", \"roky\", \"let\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    months: function (c) {\r\n        return [\"msc\", \"msce\", \"msce\", \"msc\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"tden\", \"tdne\", \"tdny\", \"tdn\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"den\", \"dne\", \"dny\", \"dn\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"hodina\", \"hodiny\", \"hodiny\", \"hodin\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"minuta\", \"minuty\", \"minuty\", \"minut\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"sekunda\", \"sekundy\", \"sekundy\", \"sekund\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$4 = {\r\n    years: function () {\r\n        return \"r\";\r\n    },\r\n    months: function (c) {\r\n        return \"mned\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"uge\" + (c === 1 ? \"\" : \"r\");\r\n    },\r\n    days: function (c) {\r\n        return \"dag\" + (c === 1 ? \"\" : \"e\");\r\n    },\r\n    hours: function (c) {\r\n        return \"time\" + (c === 1 ? \"\" : \"r\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minut\" + (c === 1 ? \"\" : \"ter\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"sekund\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$5 = {\r\n    years: function (c) {\r\n        return \"Jahr\" + (c === 1 ? \"\" : \"e\");\r\n    },\r\n    months: function (c) {\r\n        return \"Monat\" + (c === 1 ? \"\" : \"e\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"Woche\" + (c === 1 ? \"\" : \"n\");\r\n    },\r\n    days: function (c) {\r\n        return \"Tag\" + (c === 1 ? \"\" : \"e\");\r\n    },\r\n    hours: function (c) {\r\n        return \"Stunde\" + (c === 1 ? \"\" : \"n\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"Minute\" + (c === 1 ? \"\" : \"n\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"Sekunde\" + (c === 1 ? \"\" : \"n\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$6 = {\r\n    years: function (c) {\r\n        return \"year\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    months: function (c) {\r\n        return \"month\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"week\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    days: function (c) {\r\n        return \"day\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    hours: function (c) {\r\n        return \"hour\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minute\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"second\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$7 = {\r\n    years: function (c) {\r\n        return \"ao\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    months: function (c) {\r\n        return \"mes\" + (c === 1 ? \"\" : \"es\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"semana\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    days: function (c) {\r\n        return \"da\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    hours: function (c) {\r\n        return \"hora\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minuto\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"segundo\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$8 = {\r\n    years: function (c) {\r\n        return \"aasta\" + (c === 1 ? \"\" : \"t\");\r\n    },\r\n    months: function (c) {\r\n        return \"kuu\" + (c === 1 ? \"\" : \"d\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"ndal\" + (c === 1 ? \"\" : \"at\");\r\n    },\r\n    days: function (c) {\r\n        return \"pev\" + (c === 1 ? \"\" : \"a\");\r\n    },\r\n    hours: function (c) {\r\n        return \"tund\" + (c === 1 ? \"\" : \"i\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minut\" + (c === 1 ? \"\" : \"it\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"sekund\" + (c === 1 ? \"\" : \"it\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$9 = {\r\n    years: function () {\r\n        return \"\";\r\n    },\r\n    months: function () {\r\n        return \"\";\r\n    },\r\n    weeks: function () {\r\n        return \"\";\r\n    },\r\n    days: function () {\r\n        return \"\";\r\n    },\r\n    hours: function () {\r\n        return \"\";\r\n    },\r\n    minutes: function () {\r\n        return \"\";\r\n    },\r\n    seconds: function () {\r\n        return \"\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$a = {\r\n    years: function (c) {\r\n        return c === 1 ? \"vuosi\" : \"vuotta\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"kuukausi\" : \"kuukautta\";\r\n    },\r\n    weeks: function (c) {\r\n        return \"viikko\" + (c === 1 ? \"\" : \"a\");\r\n    },\r\n    days: function (c) {\r\n        return \"piv\" + (c === 1 ? \"\" : \"\");\r\n    },\r\n    hours: function (c) {\r\n        return \"tunti\" + (c === 1 ? \"\" : \"a\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minuutti\" + (c === 1 ? \"\" : \"a\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"sekunti\" + (c === 1 ? \"\" : \"a\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$b = {\r\n    years: function () {\r\n        return \"r\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"mnaur\" : \"mnair\";\r\n    },\r\n    weeks: function (c) {\r\n        return c === 1 ? \"vika\" : \"vikur\";\r\n    },\r\n    days: function (c) {\r\n        return c === 1 ? \"dagur\" : \"dagar\";\r\n    },\r\n    hours: function (c) {\r\n        return c === 1 ? \"tmi\" : \"tmar\";\r\n    },\r\n    minutes: function (c) {\r\n        return c === 1 ? \"minuttur\" : \"minuttir\";\r\n    },\r\n    seconds: function () {\r\n        return \"sekund\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$c = {\r\n    years: function (c) {\r\n        return \"an\" + (c >= 2 ? \"s\" : \"\");\r\n    },\r\n    months: function () {\r\n        return \"mois\";\r\n    },\r\n    weeks: function (c) {\r\n        return \"semaine\" + (c >= 2 ? \"s\" : \"\");\r\n    },\r\n    days: function (c) {\r\n        return \"jour\" + (c >= 2 ? \"s\" : \"\");\r\n    },\r\n    hours: function (c) {\r\n        return \"heure\" + (c >= 2 ? \"s\" : \"\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minute\" + (c >= 2 ? \"s\" : \"\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"seconde\" + (c >= 2 ? \"s\" : \"\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$d = {\r\n    years: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    weeks: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    days: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    hours: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    minutes: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    seconds: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$e = {\r\n    years: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    weeks: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    days: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    hours: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    minutes: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    seconds: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$f = {\r\n    years: function (c) {\r\n        if (c % 10 === 2 || c % 10 === 3 || c % 10 === 4) {\r\n            return \"godine\";\r\n        }\r\n        return \"godina\";\r\n    },\r\n    months: function (c) {\r\n        if (c === 1) {\r\n            return \"mjesec\";\r\n        }\r\n        else if (c === 2 || c === 3 || c === 4) {\r\n            return \"mjeseca\";\r\n        }\r\n        return \"mjeseci\";\r\n    },\r\n    weeks: function (c) {\r\n        if (c % 10 === 1 && c !== 11) {\r\n            return \"tjedan\";\r\n        }\r\n        return \"tjedna\";\r\n    },\r\n    days: function (c) {\r\n        return c === 1 ? \"dan\" : \"dana\";\r\n    },\r\n    hours: function (c) {\r\n        if (c === 1) {\r\n            return \"sat\";\r\n        }\r\n        else if (c === 2 || c === 3 || c === 4) {\r\n            return \"sata\";\r\n        }\r\n        return \"sati\";\r\n    },\r\n    minutes: function (c) {\r\n        var mod10 = c % 10;\r\n        if ((mod10 === 2 || mod10 === 3 || mod10 === 4) && (c < 10 || c > 14)) {\r\n            return \"minute\";\r\n        }\r\n        return \"minuta\";\r\n    },\r\n    seconds: function (c) {\r\n        if (c === 10 ||\r\n            c === 11 ||\r\n            c === 12 ||\r\n            c === 13 ||\r\n            c === 14 ||\r\n            c === 16 ||\r\n            c === 17 ||\r\n            c === 18 ||\r\n            c === 19 ||\r\n            c % 10 === 5) {\r\n            return \"sekundi\";\r\n        }\r\n        else if (c % 10 === 1) {\r\n            return \"sekunda\";\r\n        }\r\n        else if (c % 10 === 2 || c % 10 === 3 || c % 10 === 4) {\r\n            return \"sekunde\";\r\n        }\r\n        return \"sekundi\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$g = {\r\n    years: function () {\r\n        return \"v\";\r\n    },\r\n    months: function () {\r\n        return \"hnap\";\r\n    },\r\n    weeks: function () {\r\n        return \"ht\";\r\n    },\r\n    days: function () {\r\n        return \"nap\";\r\n    },\r\n    hours: function () {\r\n        return \"ra\";\r\n    },\r\n    minutes: function () {\r\n        return \"perc\";\r\n    },\r\n    seconds: function () {\r\n        return \"msodperc\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$h = {\r\n    years: function () {\r\n        return \"r\";\r\n    },\r\n    months: function (c) {\r\n        return \"mnu\" + (c === 1 ? \"ur\" : \"ir\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"vik\" + (c === 1 ? \"a\" : \"ur\");\r\n    },\r\n    days: function (c) {\r\n        return \"dag\" + (c === 1 ? \"ur\" : \"ar\");\r\n    },\r\n    hours: function (c) {\r\n        return \"klukkutm\" + (c === 1 ? \"i\" : \"ar\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"mnt\" + (c === 1 ? \"a\" : \"ur\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"seknd\" + (c === 1 ? \"a\" : \"ur\");\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$i = {\r\n    years: function (c) {\r\n        return \"ann\" + (c === 1 ? \"o\" : \"i\");\r\n    },\r\n    months: function (c) {\r\n        return \"mes\" + (c === 1 ? \"e\" : \"i\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"settiman\" + (c === 1 ? \"a\" : \"e\");\r\n    },\r\n    days: function (c) {\r\n        return \"giorn\" + (c === 1 ? \"o\" : \"i\");\r\n    },\r\n    hours: function (c) {\r\n        return \"or\" + (c === 1 ? \"a\" : \"e\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minut\" + (c === 1 ? \"o\" : \"i\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"second\" + (c === 1 ? \"o\" : \"i\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$j = {\r\n    years: function () {\r\n        return \"\";\r\n    },\r\n    months: function () {\r\n        return \"\";\r\n    },\r\n    weeks: function () {\r\n        return \"\";\r\n    },\r\n    days: function () {\r\n        return \"\";\r\n    },\r\n    hours: function () {\r\n        return \"\";\r\n    },\r\n    minutes: function () {\r\n        return \"\";\r\n    },\r\n    seconds: function () {\r\n        return \"\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$k = {\r\n    years: function () {\r\n        return \"\";\r\n    },\r\n    months: function () {\r\n        return \"\";\r\n    },\r\n    weeks: function () {\r\n        return \"\";\r\n    },\r\n    days: function () {\r\n        return \"\";\r\n    },\r\n    hours: function () {\r\n        return \"\";\r\n    },\r\n    minutes: function () {\r\n        return \"\";\r\n    },\r\n    seconds: function () {\r\n        return \"\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$l = {\r\n    years: function () {\r\n        return \"\";\r\n    },\r\n    months: function () {\r\n        return \"\";\r\n    },\r\n    weeks: function () {\r\n        return \"\";\r\n    },\r\n    days: function () {\r\n        return \"\";\r\n    },\r\n    hours: function () {\r\n        return \"\";\r\n    },\r\n    minutes: function () {\r\n        return \"\";\r\n    },\r\n    seconds: function () {\r\n        return \"\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nfunction getLithuanianForm(c) {\r\n    if (c === 1 || (c % 10 === 1 && c % 100 > 20)) {\r\n        return 0;\r\n    }\r\n    else if (Math.floor(c) !== c ||\r\n        (c % 10 >= 2 && c % 100 > 20) ||\r\n        (c % 10 >= 2 && c % 100 < 10)) {\r\n        return 1;\r\n    }\r\n    else {\r\n        return 2;\r\n    }\r\n}\n\nvar lang$m = {\r\n    years: function (c) {\r\n        return c % 10 === 0 || (c % 100 >= 10 && c % 100 <= 20) ? \"met\" : \"metai\";\r\n    },\r\n    months: function (c) {\r\n        return [\"mnuo\", \"mnesiai\", \"mnesi\"][getLithuanianForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"savait\", \"savaits\", \"savaii\"][getLithuanianForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"diena\", \"dienos\", \"dien\"][getLithuanianForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"valanda\", \"valandos\", \"valand\"][getLithuanianForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"minut\", \"minuts\", \"minui\"][getLithuanianForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"sekund\", \"sekunds\", \"sekundi\"][getLithuanianForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nfunction getLatvianForm(c) {\r\n    if (c === 1 || (c % 10 === 1 && c % 100 !== 11)) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\n\nvar lang$n = {\r\n    years: function (c) {\r\n        return [\"gads\", \"gadi\"][getLatvianForm(c)];\r\n    },\r\n    months: function (c) {\r\n        return [\"mnesis\", \"mnei\"][getLatvianForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"neda\", \"nedas\"][getLatvianForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"diena\", \"dienas\"][getLatvianForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"stunda\", \"stundas\"][getLatvianForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"minte\", \"mintes\"][getLatvianForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"sekunde\", \"sekundes\"][getLatvianForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$o = {\r\n    years: function () {\r\n        return \"tahun\";\r\n    },\r\n    months: function () {\r\n        return \"bulan\";\r\n    },\r\n    weeks: function () {\r\n        return \"minggu\";\r\n    },\r\n    days: function () {\r\n        return \"hari\";\r\n    },\r\n    hours: function () {\r\n        return \"jam\";\r\n    },\r\n    minutes: function () {\r\n        return \"minit\";\r\n    },\r\n    seconds: function () {\r\n        return \"saat\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$p = {\r\n    years: function () {\r\n        return \"jaar\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"maand\" : \"maanden\";\r\n    },\r\n    weeks: function (c) {\r\n        return c === 1 ? \"week\" : \"weken\";\r\n    },\r\n    days: function (c) {\r\n        return c === 1 ? \"dag\" : \"dagen\";\r\n    },\r\n    hours: function () {\r\n        return \"uur\";\r\n    },\r\n    minutes: function (c) {\r\n        return c === 1 ? \"minuut\" : \"minuten\";\r\n    },\r\n    seconds: function (c) {\r\n        return c === 1 ? \"seconde\" : \"seconden\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$q = {\r\n    years: function () {\r\n        return \"r\";\r\n    },\r\n    months: function (c) {\r\n        return \"mned\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"uke\" + (c === 1 ? \"\" : \"r\");\r\n    },\r\n    days: function (c) {\r\n        return \"dag\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    hours: function (c) {\r\n        return \"time\" + (c === 1 ? \"\" : \"r\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minutt\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"sekund\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nfunction getPolishForm(c) {\r\n    if (c === 1) {\r\n        return 0;\r\n    }\r\n    else if (Math.floor(c) !== c) {\r\n        return 1;\r\n    }\r\n    else if (c % 10 >= 2 && c % 10 <= 4 && !(c % 100 > 10 && c % 100 < 20)) {\r\n        return 2;\r\n    }\r\n    else {\r\n        return 3;\r\n    }\r\n}\n\nvar lang$r = {\r\n    years: function (c) {\r\n        return [\"rok\", \"roku\", \"lata\", \"lat\"][getPolishForm(c)];\r\n    },\r\n    months: function (c) {\r\n        return [\"miesic\", \"miesica\", \"miesice\", \"miesicy\"][getPolishForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"tydzie\", \"tygodnia\", \"tygodnie\", \"tygodni\"][getPolishForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"dzie\", \"dnia\", \"dni\", \"dni\"][getPolishForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"godzina\", \"godziny\", \"godziny\", \"godzin\"][getPolishForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"minuta\", \"minuty\", \"minuty\", \"minut\"][getPolishForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"sekunda\", \"sekundy\", \"sekundy\", \"sekund\"][getPolishForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$s = {\r\n    years: function (c) {\r\n        return \"ano\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"ms\" : \"meses\";\r\n    },\r\n    weeks: function (c) {\r\n        return \"semana\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    days: function (c) {\r\n        return \"dia\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    hours: function (c) {\r\n        return \"hora\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minuto\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"segundo\" + (c === 1 ? \"\" : \"s\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$t = {\r\n    years: function (c) {\r\n        return c === 1 ? \"an\" : \"ani\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"lun\" : \"luni\";\r\n    },\r\n    weeks: function (c) {\r\n        return c === 1 ? \"sptmn\" : \"sptmni\";\r\n    },\r\n    days: function (c) {\r\n        return c === 1 ? \"zi\" : \"zile\";\r\n    },\r\n    hours: function (c) {\r\n        return c === 1 ? \"or\" : \"ore\";\r\n    },\r\n    minutes: function (c) {\r\n        return c === 1 ? \"minut\" : \"minute\";\r\n    },\r\n    seconds: function (c) {\r\n        return c === 1 ? \"secund\" : \"secunde\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$u = {\r\n    years: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    months: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$v = {\r\n    years: function (c) {\r\n        return [\"rok\", \"roky\", \"roky\", \"rokov\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    months: function (c) {\r\n        return [\"mesiac\", \"mesiace\", \"mesiace\", \"mesiacov\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"tde\", \"tdne\", \"tdne\", \"tdov\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"de\", \"dni\", \"dni\", \"dn\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"hodina\", \"hodiny\", \"hodiny\", \"hodn\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"minta\", \"minty\", \"minty\", \"mint\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"sekunda\", \"sekundy\", \"sekundy\", \"seknd\"][getCzechOrSlovakForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$w = {\r\n    years: function () {\r\n        return \"r\";\r\n    },\r\n    months: function (c) {\r\n        return \"mnad\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    weeks: function (c) {\r\n        return \"veck\" + (c === 1 ? \"a\" : \"or\");\r\n    },\r\n    days: function (c) {\r\n        return \"dag\" + (c === 1 ? \"\" : \"ar\");\r\n    },\r\n    hours: function (c) {\r\n        return \"timm\" + (c === 1 ? \"e\" : \"ar\");\r\n    },\r\n    minutes: function (c) {\r\n        return \"minut\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    seconds: function (c) {\r\n        return \"sekund\" + (c === 1 ? \"\" : \"er\");\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$x = {\r\n    years: function () {\r\n        return \"yl\";\r\n    },\r\n    months: function () {\r\n        return \"ay\";\r\n    },\r\n    weeks: function () {\r\n        return \"hafta\";\r\n    },\r\n    days: function () {\r\n        return \"gn\";\r\n    },\r\n    hours: function () {\r\n        return \"saat\";\r\n    },\r\n    minutes: function () {\r\n        return \"dakika\";\r\n    },\r\n    seconds: function () {\r\n        return \"saniye\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$y = {\r\n    years: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    months: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    weeks: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    days: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    hours: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    minutes: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    seconds: function (c) {\r\n        return [\"\", \"\", \"\"][getSlavicForm(c)];\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$z = {\r\n    years: function () {\r\n        return \"\";\r\n    },\r\n    months: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    weeks: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    days: function () {\r\n        return \"\";\r\n    },\r\n    hours: function (c) {\r\n        return c === 1 ? \"\" : \"\";\r\n    },\r\n    minutes: function () {\r\n        return \"\";\r\n    },\r\n    seconds: function () {\r\n        return \"\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$A = {\r\n    years: function () {\r\n        return \"nm\";\r\n    },\r\n    months: function () {\r\n        return \"thng\";\r\n    },\r\n    weeks: function () {\r\n        return \"tun\";\r\n    },\r\n    days: function () {\r\n        return \"ngy\";\r\n    },\r\n    hours: function () {\r\n        return \"gi\";\r\n    },\r\n    minutes: function () {\r\n        return \"pht\";\r\n    },\r\n    seconds: function () {\r\n        return \"giy\";\r\n    },\r\n    decimal: \",\",\r\n};\n\nvar lang$B = {\r\n    years: function () {\r\n        return \"\";\r\n    },\r\n    months: function () {\r\n        return \"\";\r\n    },\r\n    weeks: function () {\r\n        return \"\";\r\n    },\r\n    days: function () {\r\n        return \"\";\r\n    },\r\n    hours: function () {\r\n        return \"\";\r\n    },\r\n    minutes: function () {\r\n        return \"\";\r\n    },\r\n    seconds: function () {\r\n        return \"\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nvar lang$C = {\r\n    years: function () {\r\n        return \"\";\r\n    },\r\n    months: function () {\r\n        return \"\";\r\n    },\r\n    weeks: function () {\r\n        return \"\";\r\n    },\r\n    days: function () {\r\n        return \"\";\r\n    },\r\n    hours: function () {\r\n        return \"\";\r\n    },\r\n    minutes: function () {\r\n        return \"\";\r\n    },\r\n    seconds: function () {\r\n        return \"\";\r\n    },\r\n    decimal: \".\",\r\n};\n\nfunction isoDuration(duration) {\r\n    if (typeof duration === \"string\") {\r\n        return new IsoDuration(parseIsoString(duration));\r\n    }\r\n    return new IsoDuration(normalizeDurationObj(duration));\r\n}\r\nisoDuration.setLocales = function (obj, options) {\r\n    config.setLocales(obj, options);\r\n};\n\nexport { lang as ar, lang$1 as bg, lang$2 as ca, lang$3 as cs, lang$4 as da, lang$5 as de, lang$6 as en, lang$7 as es, lang$8 as et, lang$9 as fa, lang$a as fi, lang$b as fo, lang$c as fr, lang$d as gr, lang$e as he, lang$f as hr, lang$g as hu, lang$h as is, isoDuration, lang$i as it, lang$j as ja, lang$k as ko, lang$l as lo, lang$m as lt, lang$n as lv, lang$o as ms, lang$p as nl, lang$q as no, lang$r as pl, lang$s as pt, lang$t as ro, lang$u as ru, lang$v as sk, lang$w as sv, lang$x as tr, lang$y as uk, lang$z as ur, lang$A as vi, lang$B as zhCN, lang$C as zhTW };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\n// Legacy aliases\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\");\n    var replace = getReplacer(map);\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n    return function (str) { return String(str).replace(re, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    //TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","export default {\r\n\tcomponents: {\r\n\t\tFederationNotice: () => import('./FederationNotice.vue'),\r\n\t\tFederationMissingNotice: () => import('../FederationMissingNotice.vue')\r\n\t},\r\n\tprops: {\r\n\t\tfederation: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t}\r\n\t}\r\n};","\"use strict\";\n\nfunction isContainer(node) {\n    switch (node._type) {\n        case \"document\":\n        case \"block_quote\":\n        case \"list\":\n        case \"item\":\n        case \"paragraph\":\n        case \"heading\":\n        case \"emph\":\n        case \"strong\":\n        case \"link\":\n        case \"image\":\n        case \"custom_inline\":\n        case \"custom_block\":\n            return true;\n        default:\n            return false;\n    }\n}\n\nvar resumeAt = function(node, entering) {\n    this.current = node;\n    this.entering = entering === true;\n};\n\nvar next = function() {\n    var cur = this.current;\n    var entering = this.entering;\n\n    if (cur === null) {\n        return null;\n    }\n\n    var container = isContainer(cur);\n\n    if (entering && container) {\n        if (cur._firstChild) {\n            this.current = cur._firstChild;\n            this.entering = true;\n        } else {\n            // stay on node but exit\n            this.entering = false;\n        }\n    } else if (cur === this.root) {\n        this.current = null;\n    } else if (cur._next === null) {\n        this.current = cur._parent;\n        this.entering = false;\n    } else {\n        this.current = cur._next;\n        this.entering = true;\n    }\n\n    return { entering: entering, node: cur };\n};\n\nvar NodeWalker = function(root) {\n    return {\n        current: root,\n        root: root,\n        entering: true,\n        next: next,\n        resumeAt: resumeAt\n    };\n};\n\nvar Node = function(nodeType, sourcepos) {\n    this._type = nodeType;\n    this._parent = null;\n    this._firstChild = null;\n    this._lastChild = null;\n    this._prev = null;\n    this._next = null;\n    this._sourcepos = sourcepos;\n    this._lastLineBlank = false;\n    this._lastLineChecked = false;\n    this._open = true;\n    this._string_content = null;\n    this._literal = null;\n    this._listData = {};\n    this._info = null;\n    this._destination = null;\n    this._title = null;\n    this._isFenced = false;\n    this._fenceChar = null;\n    this._fenceLength = 0;\n    this._fenceOffset = null;\n    this._level = null;\n    this._onEnter = null;\n    this._onExit = null;\n};\n\nvar proto = Node.prototype;\n\nObject.defineProperty(proto, \"isContainer\", {\n    get: function() {\n        return isContainer(this);\n    }\n});\n\nObject.defineProperty(proto, \"type\", {\n    get: function() {\n        return this._type;\n    }\n});\n\nObject.defineProperty(proto, \"firstChild\", {\n    get: function() {\n        return this._firstChild;\n    }\n});\n\nObject.defineProperty(proto, \"lastChild\", {\n    get: function() {\n        return this._lastChild;\n    }\n});\n\nObject.defineProperty(proto, \"next\", {\n    get: function() {\n        return this._next;\n    }\n});\n\nObject.defineProperty(proto, \"prev\", {\n    get: function() {\n        return this._prev;\n    }\n});\n\nObject.defineProperty(proto, \"parent\", {\n    get: function() {\n        return this._parent;\n    }\n});\n\nObject.defineProperty(proto, \"sourcepos\", {\n    get: function() {\n        return this._sourcepos;\n    }\n});\n\nObject.defineProperty(proto, \"literal\", {\n    get: function() {\n        return this._literal;\n    },\n    set: function(s) {\n        this._literal = s;\n    }\n});\n\nObject.defineProperty(proto, \"destination\", {\n    get: function() {\n        return this._destination;\n    },\n    set: function(s) {\n        this._destination = s;\n    }\n});\n\nObject.defineProperty(proto, \"title\", {\n    get: function() {\n        return this._title;\n    },\n    set: function(s) {\n        this._title = s;\n    }\n});\n\nObject.defineProperty(proto, \"info\", {\n    get: function() {\n        return this._info;\n    },\n    set: function(s) {\n        this._info = s;\n    }\n});\n\nObject.defineProperty(proto, \"level\", {\n    get: function() {\n        return this._level;\n    },\n    set: function(s) {\n        this._level = s;\n    }\n});\n\nObject.defineProperty(proto, \"listType\", {\n    get: function() {\n        return this._listData.type;\n    },\n    set: function(t) {\n        this._listData.type = t;\n    }\n});\n\nObject.defineProperty(proto, \"listTight\", {\n    get: function() {\n        return this._listData.tight;\n    },\n    set: function(t) {\n        this._listData.tight = t;\n    }\n});\n\nObject.defineProperty(proto, \"listStart\", {\n    get: function() {\n        return this._listData.start;\n    },\n    set: function(n) {\n        this._listData.start = n;\n    }\n});\n\nObject.defineProperty(proto, \"listDelimiter\", {\n    get: function() {\n        return this._listData.delimiter;\n    },\n    set: function(delim) {\n        this._listData.delimiter = delim;\n    }\n});\n\nObject.defineProperty(proto, \"onEnter\", {\n    get: function() {\n        return this._onEnter;\n    },\n    set: function(s) {\n        this._onEnter = s;\n    }\n});\n\nObject.defineProperty(proto, \"onExit\", {\n    get: function() {\n        return this._onExit;\n    },\n    set: function(s) {\n        this._onExit = s;\n    }\n});\n\nNode.prototype.appendChild = function(child) {\n    child.unlink();\n    child._parent = this;\n    if (this._lastChild) {\n        this._lastChild._next = child;\n        child._prev = this._lastChild;\n        this._lastChild = child;\n    } else {\n        this._firstChild = child;\n        this._lastChild = child;\n    }\n};\n\nNode.prototype.prependChild = function(child) {\n    child.unlink();\n    child._parent = this;\n    if (this._firstChild) {\n        this._firstChild._prev = child;\n        child._next = this._firstChild;\n        this._firstChild = child;\n    } else {\n        this._firstChild = child;\n        this._lastChild = child;\n    }\n};\n\nNode.prototype.unlink = function() {\n    if (this._prev) {\n        this._prev._next = this._next;\n    } else if (this._parent) {\n        this._parent._firstChild = this._next;\n    }\n    if (this._next) {\n        this._next._prev = this._prev;\n    } else if (this._parent) {\n        this._parent._lastChild = this._prev;\n    }\n    this._parent = null;\n    this._next = null;\n    this._prev = null;\n};\n\nNode.prototype.insertAfter = function(sibling) {\n    sibling.unlink();\n    sibling._next = this._next;\n    if (sibling._next) {\n        sibling._next._prev = sibling;\n    }\n    sibling._prev = this;\n    this._next = sibling;\n    sibling._parent = this._parent;\n    if (!sibling._next) {\n        sibling._parent._lastChild = sibling;\n    }\n};\n\nNode.prototype.insertBefore = function(sibling) {\n    sibling.unlink();\n    sibling._prev = this._prev;\n    if (sibling._prev) {\n        sibling._prev._next = sibling;\n    }\n    sibling._next = this;\n    this._prev = sibling;\n    sibling._parent = this._parent;\n    if (!sibling._prev) {\n        sibling._parent._firstChild = sibling;\n    }\n};\n\nNode.prototype.walker = function() {\n    var walker = new NodeWalker(this);\n    return walker;\n};\n\nexport default Node;\n\n/* Example of use of walker:\n\n var walker = w.walker();\n var event;\n\n while (event = walker.next()) {\n console.log(event.entering, event.node.type);\n }\n\n */\n","\"use strict\";\n\n// derived from https://github.com/mathiasbynens/String.fromCodePoint\n/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */\n\nvar _fromCodePoint;\n\nexport default function fromCodePoint(_) {\n    return _fromCodePoint(_);\n}\n\nif (String.fromCodePoint) {\n    _fromCodePoint = function(_) {\n        try {\n            return String.fromCodePoint(_);\n        } catch (e) {\n            if (e instanceof RangeError) {\n                return String.fromCharCode(0xfffd);\n            }\n            throw e;\n        }\n    };\n} else {\n    var stringFromCharCode = String.fromCharCode;\n    var floor = Math.floor;\n    _fromCodePoint = function() {\n        var MAX_SIZE = 0x4000;\n        var codeUnits = [];\n        var highSurrogate;\n        var lowSurrogate;\n        var index = -1;\n        var length = arguments.length;\n        if (!length) {\n            return \"\";\n        }\n        var result = \"\";\n        while (++index < length) {\n            var codePoint = Number(arguments[index]);\n            if (\n                !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                codePoint < 0 || // not a valid Unicode code point\n                codePoint > 0x10ffff || // not a valid Unicode code point\n                floor(codePoint) !== codePoint // not an integer\n            ) {\n                return String.fromCharCode(0xfffd);\n            }\n            if (codePoint <= 0xffff) {\n                // BMP code point\n                codeUnits.push(codePoint);\n            } else {\n                // Astral code point; split in surrogate halves\n                // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                codePoint -= 0x10000;\n                highSurrogate = (codePoint >> 10) + 0xd800;\n                lowSurrogate = (codePoint % 0x400) + 0xdc00;\n                codeUnits.push(highSurrogate, lowSurrogate);\n            }\n            if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n                result += stringFromCharCode.apply(null, codeUnits);\n                codeUnits.length = 0;\n            }\n        }\n        return result;\n    };\n}\n","\"use strict\";\n\nimport encode from \"mdurl/encode.js\";\nimport { decodeHTML } from \"entities\";\n\nvar C_BACKSLASH = 92;\n\nvar ENTITY = \"&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});\";\n\nvar TAGNAME = \"[A-Za-z][A-Za-z0-9-]*\";\nvar ATTRIBUTENAME = \"[a-zA-Z_:][a-zA-Z0-9:._-]*\";\nvar UNQUOTEDVALUE = \"[^\\\"'=<>`\\\\x00-\\\\x20]+\";\nvar SINGLEQUOTEDVALUE = \"'[^']*'\";\nvar DOUBLEQUOTEDVALUE = '\"[^\"]*\"';\nvar ATTRIBUTEVALUE =\n    \"(?:\" +\n    UNQUOTEDVALUE +\n    \"|\" +\n    SINGLEQUOTEDVALUE +\n    \"|\" +\n    DOUBLEQUOTEDVALUE +\n    \")\";\nvar ATTRIBUTEVALUESPEC = \"(?:\" + \"\\\\s*=\" + \"\\\\s*\" + ATTRIBUTEVALUE + \")\";\nvar ATTRIBUTE = \"(?:\" + \"\\\\s+\" + ATTRIBUTENAME + ATTRIBUTEVALUESPEC + \"?)\";\nvar OPENTAG = \"<\" + TAGNAME + ATTRIBUTE + \"*\" + \"\\\\s*/?>\";\nvar CLOSETAG = \"</\" + TAGNAME + \"\\\\s*[>]\";\nvar HTMLCOMMENT = \"<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->\";\nvar PROCESSINGINSTRUCTION = \"[<][?][\\\\s\\\\S]*?[?][>]\";\nvar DECLARATION = \"<![A-Z]+\" + \"\\\\s+[^>]*>\";\nvar CDATA = \"<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\";\nvar HTMLTAG =\n    \"(?:\" +\n    OPENTAG +\n    \"|\" +\n    CLOSETAG +\n    \"|\" +\n    HTMLCOMMENT +\n    \"|\" +\n    PROCESSINGINSTRUCTION +\n    \"|\" +\n    DECLARATION +\n    \"|\" +\n    CDATA +\n    \")\";\nvar reHtmlTag = new RegExp(\"^\" + HTMLTAG);\n\nvar reBackslashOrAmp = /[\\\\&]/;\n\nvar ESCAPABLE = \"[!\\\"#$%&'()*+,./:;<=>?@[\\\\\\\\\\\\]^_`{|}~-]\";\n\nvar reEntityOrEscapedChar = new RegExp(\"\\\\\\\\\" + ESCAPABLE + \"|\" + ENTITY, \"gi\");\n\nvar XMLSPECIAL = '[&<>\"]';\n\nvar reXmlSpecial = new RegExp(XMLSPECIAL, \"g\");\n\nvar unescapeChar = function(s) {\n    if (s.charCodeAt(0) === C_BACKSLASH) {\n        return s.charAt(1);\n    } else {\n        return decodeHTML(s);\n    }\n};\n\n// Replace entities and backslash escapes with literal characters.\nvar unescapeString = function(s) {\n    if (reBackslashOrAmp.test(s)) {\n        return s.replace(reEntityOrEscapedChar, unescapeChar);\n    } else {\n        return s;\n    }\n};\n\nvar normalizeURI = function(uri) {\n    try {\n        return encode(uri);\n    } catch (err) {\n        return uri;\n    }\n};\n\nvar replaceUnsafeChar = function(s) {\n    switch (s) {\n        case \"&\":\n            return \"&amp;\";\n        case \"<\":\n            return \"&lt;\";\n        case \">\":\n            return \"&gt;\";\n        case '\"':\n            return \"&quot;\";\n        default:\n            return s;\n    }\n};\n\nvar escapeXml = function(s) {\n    if (reXmlSpecial.test(s)) {\n        return s.replace(reXmlSpecial, replaceUnsafeChar);\n    } else {\n        return s;\n    }\n};\n\nexport {\n    unescapeString,\n    normalizeURI,\n    escapeXml,\n    reHtmlTag,\n    OPENTAG,\n    CLOSETAG,\n    ENTITY,\n    ESCAPABLE\n};\n","\"use strict\";\n\nimport Node from \"./node.js\";\nimport * as common from \"./common.js\";\nimport fromCodePoint from \"./from-code-point.js\";\nimport { decodeHTML } from \"entities\";\nimport \"string.prototype.repeat\"; // Polyfill for String.prototype.repeat\n\nvar normalizeURI = common.normalizeURI;\nvar unescapeString = common.unescapeString;\n\n// Constants for character codes:\n\nvar C_NEWLINE = 10;\nvar C_ASTERISK = 42;\nvar C_UNDERSCORE = 95;\nvar C_BACKTICK = 96;\nvar C_OPEN_BRACKET = 91;\nvar C_CLOSE_BRACKET = 93;\nvar C_LESSTHAN = 60;\nvar C_BANG = 33;\nvar C_BACKSLASH = 92;\nvar C_AMPERSAND = 38;\nvar C_OPEN_PAREN = 40;\nvar C_CLOSE_PAREN = 41;\nvar C_COLON = 58;\nvar C_SINGLEQUOTE = 39;\nvar C_DOUBLEQUOTE = 34;\n\n// Some regexps used in inline parser:\n\nvar ESCAPABLE = common.ESCAPABLE;\nvar ESCAPED_CHAR = \"\\\\\\\\\" + ESCAPABLE;\n\nvar ENTITY = common.ENTITY;\nvar reHtmlTag = common.reHtmlTag;\n\nvar rePunctuation = new RegExp(\n    /[!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n);\n\nvar reLinkTitle = new RegExp(\n    '^(?:\"(' +\n        ESCAPED_CHAR +\n        '|[^\"\\\\x00])*\"' +\n        \"|\" +\n        \"'(\" +\n        ESCAPED_CHAR +\n        \"|[^'\\\\x00])*'\" +\n        \"|\" +\n        \"\\\\((\" +\n        ESCAPED_CHAR +\n        \"|[^()\\\\x00])*\\\\))\"\n);\n\nvar reLinkDestinationBraces = /^(?:<(?:[^<>\\n\\\\\\x00]|\\\\.)*>)/;\n\nvar reEscapable = new RegExp(\"^\" + ESCAPABLE);\n\nvar reEntityHere = new RegExp(\"^\" + ENTITY, \"i\");\n\nvar reTicks = /`+/;\n\nvar reTicksHere = /^`+/;\n\nvar reEllipses = /\\.\\.\\./g;\n\nvar reDash = /--+/g;\n\nvar reEmailAutolink = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\n\nvar reAutolink = /^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\\x00-\\x20]*>/i;\n\nvar reSpnl = /^ *(?:\\n *)?/;\n\nvar reWhitespaceChar = /^[ \\t\\n\\x0b\\x0c\\x0d]/;\n\nvar reUnicodeWhitespaceChar = /^\\s/;\n\nvar reFinalSpace = / *$/;\n\nvar reInitialSpace = /^ */;\n\nvar reSpaceAtEndOfLine = /^ *(?:\\n|$)/;\n\nvar reLinkLabel = /^\\[(?:[^\\\\\\[\\]]|\\\\.){0,1000}\\]/;\n\n// Matches a string of non-special characters.\nvar reMain = /^[^\\n`\\[\\]\\\\!<&*_'\"]+/m;\n\nvar text = function(s) {\n    var node = new Node(\"text\");\n    node._literal = s;\n    return node;\n};\n\n// normalize a reference in reference link (remove []s, trim,\n// collapse internal space, unicode case fold.\n// See commonmark/commonmark.js#168.\nvar normalizeReference = function(string) {\n    return string\n        .slice(1, string.length - 1)\n        .trim()\n        .replace(/[ \\t\\r\\n]+/, \" \")\n        .toLowerCase()\n        .toUpperCase();\n};\n\n// INLINE PARSER\n\n// These are methods of an InlineParser object, defined below.\n// An InlineParser keeps track of a subject (a string to be\n// parsed) and a position in that subject.\n\n// If re matches at current position in the subject, advance\n// position in subject and return the match; otherwise return null.\nvar match = function(re) {\n    var m = re.exec(this.subject.slice(this.pos));\n    if (m === null) {\n        return null;\n    } else {\n        this.pos += m.index + m[0].length;\n        return m[0];\n    }\n};\n\n// Returns the code for the character at the current subject position, or -1\n// there are no more characters.\nvar peek = function() {\n    if (this.pos < this.subject.length) {\n        return this.subject.charCodeAt(this.pos);\n    } else {\n        return -1;\n    }\n};\n\n// Parse zero or more space characters, including at most one newline\nvar spnl = function() {\n    this.match(reSpnl);\n    return true;\n};\n\n// All of the parsers below try to match something at the current position\n// in the subject.  If they succeed in matching anything, they\n// return the inline matched, advancing the subject.\n\n// Attempt to parse backticks, adding either a backtick code span or a\n// literal sequence of backticks.\nvar parseBackticks = function(block) {\n    var ticks = this.match(reTicksHere);\n    if (ticks === null) {\n        return false;\n    }\n    var afterOpenTicks = this.pos;\n    var matched;\n    var node;\n    var contents;\n    while ((matched = this.match(reTicks)) !== null) {\n        if (matched === ticks) {\n            node = new Node(\"code\");\n            contents = this.subject\n                .slice(afterOpenTicks, this.pos - ticks.length)\n                .replace(/\\n/gm, \" \");\n            if (\n                contents.length > 0 &&\n                contents.match(/[^ ]/) !== null &&\n                contents[0] == \" \" &&\n                contents[contents.length - 1] == \" \"\n            ) {\n                node._literal = contents.slice(1, contents.length - 1);\n            } else {\n                node._literal = contents;\n            }\n            block.appendChild(node);\n            return true;\n        }\n    }\n    // If we got here, we didn't match a closing backtick sequence.\n    this.pos = afterOpenTicks;\n    block.appendChild(text(ticks));\n    return true;\n};\n\n// Parse a backslash-escaped special character, adding either the escaped\n// character, a hard line break (if the backslash is followed by a newline),\n// or a literal backslash to the block's children.  Assumes current character\n// is a backslash.\nvar parseBackslash = function(block) {\n    var subj = this.subject;\n    var node;\n    this.pos += 1;\n    if (this.peek() === C_NEWLINE) {\n        this.pos += 1;\n        node = new Node(\"linebreak\");\n        block.appendChild(node);\n    } else if (reEscapable.test(subj.charAt(this.pos))) {\n        block.appendChild(text(subj.charAt(this.pos)));\n        this.pos += 1;\n    } else {\n        block.appendChild(text(\"\\\\\"));\n    }\n    return true;\n};\n\n// Attempt to parse an autolink (URL or email in pointy brackets).\nvar parseAutolink = function(block) {\n    var m;\n    var dest;\n    var node;\n    if ((m = this.match(reEmailAutolink))) {\n        dest = m.slice(1, m.length - 1);\n        node = new Node(\"link\");\n        node._destination = normalizeURI(\"mailto:\" + dest);\n        node._title = \"\";\n        node.appendChild(text(dest));\n        block.appendChild(node);\n        return true;\n    } else if ((m = this.match(reAutolink))) {\n        dest = m.slice(1, m.length - 1);\n        node = new Node(\"link\");\n        node._destination = normalizeURI(dest);\n        node._title = \"\";\n        node.appendChild(text(dest));\n        block.appendChild(node);\n        return true;\n    } else {\n        return false;\n    }\n};\n\n// Attempt to parse a raw HTML tag.\nvar parseHtmlTag = function(block) {\n    var m = this.match(reHtmlTag);\n    if (m === null) {\n        return false;\n    } else {\n        var node = new Node(\"html_inline\");\n        node._literal = m;\n        block.appendChild(node);\n        return true;\n    }\n};\n\n// Scan a sequence of characters with code cc, and return information about\n// the number of delimiters and whether they are positioned such that\n// they can open and/or close emphasis or strong emphasis.  A utility\n// function for strong/emph parsing.\nvar scanDelims = function(cc) {\n    var numdelims = 0;\n    var char_before, char_after, cc_after;\n    var startpos = this.pos;\n    var left_flanking, right_flanking, can_open, can_close;\n    var after_is_whitespace,\n        after_is_punctuation,\n        before_is_whitespace,\n        before_is_punctuation;\n\n    if (cc === C_SINGLEQUOTE || cc === C_DOUBLEQUOTE) {\n        numdelims++;\n        this.pos++;\n    } else {\n        while (this.peek() === cc) {\n            numdelims++;\n            this.pos++;\n        }\n    }\n\n    if (numdelims === 0) {\n        return null;\n    }\n\n    char_before = startpos === 0 ? \"\\n\" : this.subject.charAt(startpos - 1);\n\n    cc_after = this.peek();\n    if (cc_after === -1) {\n        char_after = \"\\n\";\n    } else {\n        char_after = fromCodePoint(cc_after);\n    }\n\n    after_is_whitespace = reUnicodeWhitespaceChar.test(char_after);\n    after_is_punctuation = rePunctuation.test(char_after);\n    before_is_whitespace = reUnicodeWhitespaceChar.test(char_before);\n    before_is_punctuation = rePunctuation.test(char_before);\n\n    left_flanking =\n        !after_is_whitespace &&\n        (!after_is_punctuation ||\n            before_is_whitespace ||\n            before_is_punctuation);\n    right_flanking =\n        !before_is_whitespace &&\n        (!before_is_punctuation || after_is_whitespace || after_is_punctuation);\n    if (cc === C_UNDERSCORE) {\n        can_open = left_flanking && (!right_flanking || before_is_punctuation);\n        can_close = right_flanking && (!left_flanking || after_is_punctuation);\n    } else if (cc === C_SINGLEQUOTE || cc === C_DOUBLEQUOTE) {\n        can_open = left_flanking && !right_flanking;\n        can_close = right_flanking;\n    } else {\n        can_open = left_flanking;\n        can_close = right_flanking;\n    }\n    this.pos = startpos;\n    return { numdelims: numdelims, can_open: can_open, can_close: can_close };\n};\n\n// Handle a delimiter marker for emphasis or a quote.\nvar handleDelim = function(cc, block) {\n    var res = this.scanDelims(cc);\n    if (!res) {\n        return false;\n    }\n    var numdelims = res.numdelims;\n    var startpos = this.pos;\n    var contents;\n\n    this.pos += numdelims;\n    if (cc === C_SINGLEQUOTE) {\n        contents = \"\\u2019\";\n    } else if (cc === C_DOUBLEQUOTE) {\n        contents = \"\\u201C\";\n    } else {\n        contents = this.subject.slice(startpos, this.pos);\n    }\n    var node = text(contents);\n    block.appendChild(node);\n\n    // Add entry to stack for this opener\n    if (\n        (res.can_open || res.can_close) &&\n        (this.options.smart || (cc !== C_SINGLEQUOTE && cc !== C_DOUBLEQUOTE))\n    ) {\n        this.delimiters = {\n            cc: cc,\n            numdelims: numdelims,\n            origdelims: numdelims,\n            node: node,\n            previous: this.delimiters,\n            next: null,\n            can_open: res.can_open,\n            can_close: res.can_close\n        };\n        if (this.delimiters.previous !== null) {\n            this.delimiters.previous.next = this.delimiters;\n        }\n    }\n\n    return true;\n};\n\nvar removeDelimiter = function(delim) {\n    if (delim.previous !== null) {\n        delim.previous.next = delim.next;\n    }\n    if (delim.next === null) {\n        // top of stack\n        this.delimiters = delim.previous;\n    } else {\n        delim.next.previous = delim.previous;\n    }\n};\n\nvar removeDelimitersBetween = function(bottom, top) {\n    if (bottom.next !== top) {\n        bottom.next = top;\n        top.previous = bottom;\n    }\n};\n\nvar processEmphasis = function(stack_bottom) {\n    var opener, closer, old_closer;\n    var opener_inl, closer_inl;\n    var tempstack;\n    var use_delims;\n    var tmp, next;\n    var opener_found;\n    var openers_bottom = [[], [], []];\n    var odd_match = false;\n\n    for (var i = 0; i < 3; i++) {\n        openers_bottom[i][C_UNDERSCORE] = stack_bottom;\n        openers_bottom[i][C_ASTERISK] = stack_bottom;\n        openers_bottom[i][C_SINGLEQUOTE] = stack_bottom;\n        openers_bottom[i][C_DOUBLEQUOTE] = stack_bottom;\n    }\n    // find first closer above stack_bottom:\n    closer = this.delimiters;\n    while (closer !== null && closer.previous !== stack_bottom) {\n        closer = closer.previous;\n    }\n    // move forward, looking for closers, and handling each\n    while (closer !== null) {\n        var closercc = closer.cc;\n        if (!closer.can_close) {\n            closer = closer.next;\n        } else {\n            // found emphasis closer. now look back for first matching opener:\n            opener = closer.previous;\n            opener_found = false;\n            while (\n                opener !== null &&\n                opener !== stack_bottom &&\n                opener !== openers_bottom[closer.origdelims % 3][closercc]\n            ) {\n                odd_match =\n                    (closer.can_open || opener.can_close) &&\n                    closer.origdelims % 3 !== 0 &&\n                    (opener.origdelims + closer.origdelims) % 3 === 0;\n                if (opener.cc === closer.cc && opener.can_open && !odd_match) {\n                    opener_found = true;\n                    break;\n                }\n                opener = opener.previous;\n            }\n            old_closer = closer;\n\n            if (closercc === C_ASTERISK || closercc === C_UNDERSCORE) {\n                if (!opener_found) {\n                    closer = closer.next;\n                } else {\n                    // calculate actual number of delimiters used from closer\n                    use_delims =\n                        closer.numdelims >= 2 && opener.numdelims >= 2 ? 2 : 1;\n\n                    opener_inl = opener.node;\n                    closer_inl = closer.node;\n\n                    // remove used delimiters from stack elts and inlines\n                    opener.numdelims -= use_delims;\n                    closer.numdelims -= use_delims;\n                    opener_inl._literal = opener_inl._literal.slice(\n                        0,\n                        opener_inl._literal.length - use_delims\n                    );\n                    closer_inl._literal = closer_inl._literal.slice(\n                        0,\n                        closer_inl._literal.length - use_delims\n                    );\n\n                    // build contents for new emph element\n                    var emph = new Node(use_delims === 1 ? \"emph\" : \"strong\");\n\n                    tmp = opener_inl._next;\n                    while (tmp && tmp !== closer_inl) {\n                        next = tmp._next;\n                        tmp.unlink();\n                        emph.appendChild(tmp);\n                        tmp = next;\n                    }\n\n                    opener_inl.insertAfter(emph);\n\n                    // remove elts between opener and closer in delimiters stack\n                    removeDelimitersBetween(opener, closer);\n\n                    // if opener has 0 delims, remove it and the inline\n                    if (opener.numdelims === 0) {\n                        opener_inl.unlink();\n                        this.removeDelimiter(opener);\n                    }\n\n                    if (closer.numdelims === 0) {\n                        closer_inl.unlink();\n                        tempstack = closer.next;\n                        this.removeDelimiter(closer);\n                        closer = tempstack;\n                    }\n                }\n            } else if (closercc === C_SINGLEQUOTE) {\n                closer.node._literal = \"\\u2019\";\n                if (opener_found) {\n                    opener.node._literal = \"\\u2018\";\n                }\n                closer = closer.next;\n            } else if (closercc === C_DOUBLEQUOTE) {\n                closer.node._literal = \"\\u201D\";\n                if (opener_found) {\n                    opener.node.literal = \"\\u201C\";\n                }\n                closer = closer.next;\n            }\n            if (!opener_found) {\n                // Set lower bound for future searches for openers:\n                openers_bottom[old_closer.origdelims % 3][closercc] =\n                    old_closer.previous;\n                if (!old_closer.can_open) {\n                    // We can remove a closer that can't be an opener,\n                    // once we've seen there's no matching opener:\n                    this.removeDelimiter(old_closer);\n                }\n            }\n        }\n    }\n\n    // remove all delimiters\n    while (this.delimiters !== null && this.delimiters !== stack_bottom) {\n        this.removeDelimiter(this.delimiters);\n    }\n};\n\n// Attempt to parse link title (sans quotes), returning the string\n// or null if no match.\nvar parseLinkTitle = function() {\n    var title = this.match(reLinkTitle);\n    if (title === null) {\n        return null;\n    } else {\n        // chop off quotes from title and unescape:\n        return unescapeString(title.substr(1, title.length - 2));\n    }\n};\n\n// Attempt to parse link destination, returning the string or\n// null if no match.\nvar parseLinkDestination = function() {\n    var res = this.match(reLinkDestinationBraces);\n    if (res === null) {\n        if (this.peek() === C_LESSTHAN) {\n            return null;\n        }\n        // TODO handrolled parser; res should be null or the string\n        var savepos = this.pos;\n        var openparens = 0;\n        var c;\n        while ((c = this.peek()) !== -1) {\n            if (\n                c === C_BACKSLASH &&\n                reEscapable.test(this.subject.charAt(this.pos + 1))\n            ) {\n                this.pos += 1;\n                if (this.peek() !== -1) {\n                    this.pos += 1;\n                }\n            } else if (c === C_OPEN_PAREN) {\n                this.pos += 1;\n                openparens += 1;\n            } else if (c === C_CLOSE_PAREN) {\n                if (openparens < 1) {\n                    break;\n                } else {\n                    this.pos += 1;\n                    openparens -= 1;\n                }\n            } else if (reWhitespaceChar.exec(fromCodePoint(c)) !== null) {\n                break;\n            } else {\n                this.pos += 1;\n            }\n        }\n        if (this.pos === savepos && c !== C_CLOSE_PAREN) {\n            return null;\n        }\n        if (openparens !== 0) {\n            return null;\n        }\n        res = this.subject.substr(savepos, this.pos - savepos);\n        return normalizeURI(unescapeString(res));\n    } else {\n        // chop off surrounding <..>:\n        return normalizeURI(unescapeString(res.substr(1, res.length - 2)));\n    }\n};\n\n// Attempt to parse a link label, returning number of characters parsed.\nvar parseLinkLabel = function() {\n    var m = this.match(reLinkLabel);\n    if (m === null || m.length > 1001) {\n        return 0;\n    } else {\n        return m.length;\n    }\n};\n\n// Add open bracket to delimiter stack and add a text node to block's children.\nvar parseOpenBracket = function(block) {\n    var startpos = this.pos;\n    this.pos += 1;\n\n    var node = text(\"[\");\n    block.appendChild(node);\n\n    // Add entry to stack for this opener\n    this.addBracket(node, startpos, false);\n    return true;\n};\n\n// IF next character is [, and ! delimiter to delimiter stack and\n// add a text node to block's children.  Otherwise just add a text node.\nvar parseBang = function(block) {\n    var startpos = this.pos;\n    this.pos += 1;\n    if (this.peek() === C_OPEN_BRACKET) {\n        this.pos += 1;\n\n        var node = text(\"![\");\n        block.appendChild(node);\n\n        // Add entry to stack for this opener\n        this.addBracket(node, startpos + 1, true);\n    } else {\n        block.appendChild(text(\"!\"));\n    }\n    return true;\n};\n\n// Try to match close bracket against an opening in the delimiter\n// stack.  Add either a link or image, or a plain [ character,\n// to block's children.  If there is a matching delimiter,\n// remove it from the delimiter stack.\nvar parseCloseBracket = function(block) {\n    var startpos;\n    var is_image;\n    var dest;\n    var title;\n    var matched = false;\n    var reflabel;\n    var opener;\n\n    this.pos += 1;\n    startpos = this.pos;\n\n    // get last [ or ![\n    opener = this.brackets;\n\n    if (opener === null) {\n        // no matched opener, just return a literal\n        block.appendChild(text(\"]\"));\n        return true;\n    }\n\n    if (!opener.active) {\n        // no matched opener, just return a literal\n        block.appendChild(text(\"]\"));\n        // take opener off brackets stack\n        this.removeBracket();\n        return true;\n    }\n\n    // If we got here, open is a potential opener\n    is_image = opener.image;\n\n    // Check to see if we have a link/image\n\n    var savepos = this.pos;\n\n    // Inline link?\n    if (this.peek() === C_OPEN_PAREN) {\n        this.pos++;\n        if (\n            this.spnl() &&\n            (dest = this.parseLinkDestination()) !== null &&\n            this.spnl() &&\n            // make sure there's a space before the title:\n            ((reWhitespaceChar.test(this.subject.charAt(this.pos - 1)) &&\n                (title = this.parseLinkTitle())) ||\n                true) &&\n            this.spnl() &&\n            this.peek() === C_CLOSE_PAREN\n        ) {\n            this.pos += 1;\n            matched = true;\n        } else {\n            this.pos = savepos;\n        }\n    }\n\n    if (!matched) {\n        // Next, see if there's a link label\n        var beforelabel = this.pos;\n        var n = this.parseLinkLabel();\n        if (n > 2) {\n            reflabel = this.subject.slice(beforelabel, beforelabel + n);\n        } else if (!opener.bracketAfter) {\n            // Empty or missing second label means to use the first label as the reference.\n            // The reference must not contain a bracket. If we know there's a bracket, we don't even bother checking it.\n            reflabel = this.subject.slice(opener.index, startpos);\n        }\n        if (n === 0) {\n            // If shortcut reference link, rewind before spaces we skipped.\n            this.pos = savepos;\n        }\n\n        if (reflabel) {\n            // lookup rawlabel in refmap\n            var link = this.refmap[normalizeReference(reflabel)];\n            if (link) {\n                dest = link.destination;\n                title = link.title;\n                matched = true;\n            }\n        }\n    }\n\n    if (matched) {\n        var node = new Node(is_image ? \"image\" : \"link\");\n        node._destination = dest;\n        node._title = title || \"\";\n\n        var tmp, next;\n        tmp = opener.node._next;\n        while (tmp) {\n            next = tmp._next;\n            tmp.unlink();\n            node.appendChild(tmp);\n            tmp = next;\n        }\n        block.appendChild(node);\n        this.processEmphasis(opener.previousDelimiter);\n        this.removeBracket();\n        opener.node.unlink();\n\n        // We remove this bracket and processEmphasis will remove later delimiters.\n        // Now, for a link, we also deactivate earlier link openers.\n        // (no links in links)\n        if (!is_image) {\n            opener = this.brackets;\n            while (opener !== null) {\n                if (!opener.image) {\n                    opener.active = false; // deactivate this opener\n                }\n                opener = opener.previous;\n            }\n        }\n\n        return true;\n    } else {\n        // no match\n\n        this.removeBracket(); // remove this opener from stack\n        this.pos = startpos;\n        block.appendChild(text(\"]\"));\n        return true;\n    }\n};\n\nvar addBracket = function(node, index, image) {\n    if (this.brackets !== null) {\n        this.brackets.bracketAfter = true;\n    }\n    this.brackets = {\n        node: node,\n        previous: this.brackets,\n        previousDelimiter: this.delimiters,\n        index: index,\n        image: image,\n        active: true\n    };\n};\n\nvar removeBracket = function() {\n    this.brackets = this.brackets.previous;\n};\n\n// Attempt to parse an entity.\nvar parseEntity = function(block) {\n    var m;\n    if ((m = this.match(reEntityHere))) {\n        block.appendChild(text(decodeHTML(m)));\n        return true;\n    } else {\n        return false;\n    }\n};\n\n// Parse a run of ordinary characters, or a single character with\n// a special meaning in markdown, as a plain string.\nvar parseString = function(block) {\n    var m;\n    if ((m = this.match(reMain))) {\n        if (this.options.smart) {\n            block.appendChild(\n                text(\n                    m\n                        .replace(reEllipses, \"\\u2026\")\n                        .replace(reDash, function(chars) {\n                            var enCount = 0;\n                            var emCount = 0;\n                            if (chars.length % 3 === 0) {\n                                // If divisible by 3, use all em dashes\n                                emCount = chars.length / 3;\n                            } else if (chars.length % 2 === 0) {\n                                // If divisible by 2, use all en dashes\n                                enCount = chars.length / 2;\n                            } else if (chars.length % 3 === 2) {\n                                // If 2 extra dashes, use en dash for last 2; em dashes for rest\n                                enCount = 1;\n                                emCount = (chars.length - 2) / 3;\n                            } else {\n                                // Use en dashes for last 4 hyphens; em dashes for rest\n                                enCount = 2;\n                                emCount = (chars.length - 4) / 3;\n                            }\n                            return (\n                                \"\\u2014\".repeat(emCount) +\n                                \"\\u2013\".repeat(enCount)\n                            );\n                        })\n                )\n            );\n        } else {\n            block.appendChild(text(m));\n        }\n        return true;\n    } else {\n        return false;\n    }\n};\n\n// Parse a newline.  If it was preceded by two spaces, return a hard\n// line break; otherwise a soft line break.\nvar parseNewline = function(block) {\n    this.pos += 1; // assume we're at a \\n\n    // check previous node for trailing spaces\n    var lastc = block._lastChild;\n    if (\n        lastc &&\n        lastc.type === \"text\" &&\n        lastc._literal[lastc._literal.length - 1] === \" \"\n    ) {\n        var hardbreak = lastc._literal[lastc._literal.length - 2] === \" \";\n        lastc._literal = lastc._literal.replace(reFinalSpace, \"\");\n        block.appendChild(new Node(hardbreak ? \"linebreak\" : \"softbreak\"));\n    } else {\n        block.appendChild(new Node(\"softbreak\"));\n    }\n    this.match(reInitialSpace); // gobble leading spaces in next line\n    return true;\n};\n\n// Attempt to parse a link reference, modifying refmap.\nvar parseReference = function(s, refmap) {\n    this.subject = s;\n    this.pos = 0;\n    var rawlabel;\n    var dest;\n    var title;\n    var matchChars;\n    var startpos = this.pos;\n\n    // label:\n    matchChars = this.parseLinkLabel();\n    if (matchChars === 0) {\n        return 0;\n    } else {\n        rawlabel = this.subject.substr(0, matchChars);\n    }\n\n    // colon:\n    if (this.peek() === C_COLON) {\n        this.pos++;\n    } else {\n        this.pos = startpos;\n        return 0;\n    }\n\n    //  link url\n    this.spnl();\n\n    dest = this.parseLinkDestination();\n    if (dest === null) {\n        this.pos = startpos;\n        return 0;\n    }\n\n    var beforetitle = this.pos;\n    this.spnl();\n    if (this.pos !== beforetitle) {\n        title = this.parseLinkTitle();\n    }\n    if (title === null) {\n        title = \"\";\n        // rewind before spaces\n        this.pos = beforetitle;\n    }\n\n    // make sure we're at line end:\n    var atLineEnd = true;\n    if (this.match(reSpaceAtEndOfLine) === null) {\n        if (title === \"\") {\n            atLineEnd = false;\n        } else {\n            // the potential title we found is not at the line end,\n            // but it could still be a legal link reference if we\n            // discard the title\n            title = \"\";\n            // rewind before spaces\n            this.pos = beforetitle;\n            // and instead check if the link URL is at the line end\n            atLineEnd = this.match(reSpaceAtEndOfLine) !== null;\n        }\n    }\n\n    if (!atLineEnd) {\n        this.pos = startpos;\n        return 0;\n    }\n\n    var normlabel = normalizeReference(rawlabel);\n    if (normlabel === \"\") {\n        // label must contain non-whitespace characters\n        this.pos = startpos;\n        return 0;\n    }\n\n    if (!refmap[normlabel]) {\n        refmap[normlabel] = { destination: dest, title: title };\n    }\n    return this.pos - startpos;\n};\n\n// Parse the next inline element in subject, advancing subject position.\n// On success, add the result to block's children and return true.\n// On failure, return false.\nvar parseInline = function(block) {\n    var res = false;\n    var c = this.peek();\n    if (c === -1) {\n        return false;\n    }\n    switch (c) {\n        case C_NEWLINE:\n            res = this.parseNewline(block);\n            break;\n        case C_BACKSLASH:\n            res = this.parseBackslash(block);\n            break;\n        case C_BACKTICK:\n            res = this.parseBackticks(block);\n            break;\n        case C_ASTERISK:\n        case C_UNDERSCORE:\n            res = this.handleDelim(c, block);\n            break;\n        case C_SINGLEQUOTE:\n        case C_DOUBLEQUOTE:\n            res = this.options.smart && this.handleDelim(c, block);\n            break;\n        case C_OPEN_BRACKET:\n            res = this.parseOpenBracket(block);\n            break;\n        case C_BANG:\n            res = this.parseBang(block);\n            break;\n        case C_CLOSE_BRACKET:\n            res = this.parseCloseBracket(block);\n            break;\n        case C_LESSTHAN:\n            res = this.parseAutolink(block) || this.parseHtmlTag(block);\n            break;\n        case C_AMPERSAND:\n            res = this.parseEntity(block);\n            break;\n        default:\n            res = this.parseString(block);\n            break;\n    }\n    if (!res) {\n        this.pos += 1;\n        block.appendChild(text(fromCodePoint(c)));\n    }\n\n    return true;\n};\n\n// Parse string content in block into inline children,\n// using refmap to resolve references.\nvar parseInlines = function(block) {\n    this.subject = block._string_content.trim();\n    this.pos = 0;\n    this.delimiters = null;\n    this.brackets = null;\n    while (this.parseInline(block)) {}\n    block._string_content = null; // allow raw string to be garbage collected\n    this.processEmphasis(null);\n};\n\n// The InlineParser object.\nfunction InlineParser(options) {\n    return {\n        subject: \"\",\n        delimiters: null, // used by handleDelim method\n        brackets: null,\n        pos: 0,\n        refmap: {},\n        match: match,\n        peek: peek,\n        spnl: spnl,\n        parseBackticks: parseBackticks,\n        parseBackslash: parseBackslash,\n        parseAutolink: parseAutolink,\n        parseHtmlTag: parseHtmlTag,\n        scanDelims: scanDelims,\n        handleDelim: handleDelim,\n        parseLinkTitle: parseLinkTitle,\n        parseLinkDestination: parseLinkDestination,\n        parseLinkLabel: parseLinkLabel,\n        parseOpenBracket: parseOpenBracket,\n        parseBang: parseBang,\n        parseCloseBracket: parseCloseBracket,\n        addBracket: addBracket,\n        removeBracket: removeBracket,\n        parseEntity: parseEntity,\n        parseString: parseString,\n        parseNewline: parseNewline,\n        parseReference: parseReference,\n        parseInline: parseInline,\n        processEmphasis: processEmphasis,\n        removeDelimiter: removeDelimiter,\n        options: options || {},\n        parse: parseInlines\n    };\n}\n\nexport default InlineParser;\n","\"use strict\";\n\nimport Node from \"./node.js\";\nimport { unescapeString, OPENTAG, CLOSETAG } from \"./common.js\";\nimport InlineParser from \"./inlines.js\";\n\nvar CODE_INDENT = 4;\n\nvar C_TAB = 9;\nvar C_NEWLINE = 10;\nvar C_GREATERTHAN = 62;\nvar C_LESSTHAN = 60;\nvar C_SPACE = 32;\nvar C_OPEN_BRACKET = 91;\n\nvar reHtmlBlockOpen = [\n    /./, // dummy for 0\n    /^<(?:script|pre|textarea|style)(?:\\s|>|$)/i,\n    /^<!--/,\n    /^<[?]/,\n    /^<![A-Z]/,\n    /^<!\\[CDATA\\[/,\n    /^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\\s|[/]?[>]|$)/i,\n    new RegExp(\"^(?:\" + OPENTAG + \"|\" + CLOSETAG + \")\\\\s*$\", \"i\")\n];\n\nvar reHtmlBlockClose = [\n    /./, // dummy for 0\n    /<\\/(?:script|pre|textarea|style)>/i,\n    /-->/,\n    /\\?>/,\n    />/,\n    /\\]\\]>/\n];\n\nvar reThematicBreak = /^(?:(?:\\*[ \\t]*){3,}|(?:_[ \\t]*){3,}|(?:-[ \\t]*){3,})[ \\t]*$/;\n\nvar reMaybeSpecial = /^[#`~*+_=<>0-9-]/;\n\nvar reNonSpace = /[^ \\t\\f\\v\\r\\n]/;\n\nvar reBulletListMarker = /^[*+-]/;\n\nvar reOrderedListMarker = /^(\\d{1,9})([.)])/;\n\nvar reATXHeadingMarker = /^#{1,6}(?:[ \\t]+|$)/;\n\nvar reCodeFence = /^`{3,}(?!.*`)|^~{3,}/;\n\nvar reClosingCodeFence = /^(?:`{3,}|~{3,})(?= *$)/;\n\nvar reSetextHeadingLine = /^(?:=+|-+)[ \\t]*$/;\n\nvar reLineEnding = /\\r\\n|\\n|\\r/;\n\n// Returns true if string contains only space characters.\nvar isBlank = function(s) {\n    return !reNonSpace.test(s);\n};\n\nvar isSpaceOrTab = function(c) {\n    return c === C_SPACE || c === C_TAB;\n};\n\nvar peek = function(ln, pos) {\n    if (pos < ln.length) {\n        return ln.charCodeAt(pos);\n    } else {\n        return -1;\n    }\n};\n\n// DOC PARSER\n\n// These are methods of a Parser object, defined below.\n\n// Returns true if block ends with a blank line, descending if needed\n// into lists and sublists.\nvar endsWithBlankLine = function(block) {\n    while (block) {\n        if (block._lastLineBlank) {\n            return true;\n        }\n        var t = block.type;\n        if (!block._lastLineChecked && (t === \"list\" || t === \"item\")) {\n            block._lastLineChecked = true;\n            block = block._lastChild;\n        } else {\n            block._lastLineChecked = true;\n            break;\n        }\n    }\n    return false;\n};\n\n// Add a line to the block at the tip.  We assume the tip\n// can accept lines -- that check should be done before calling this.\nvar addLine = function() {\n    if (this.partiallyConsumedTab) {\n        this.offset += 1; // skip over tab\n        // add space characters:\n        var charsToTab = 4 - (this.column % 4);\n        this.tip._string_content += \" \".repeat(charsToTab);\n    }\n    this.tip._string_content += this.currentLine.slice(this.offset) + \"\\n\";\n};\n\n// Add block of type tag as a child of the tip.  If the tip can't\n// accept children, close and finalize it and try its parent,\n// and so on til we find a block that can accept children.\nvar addChild = function(tag, offset) {\n    while (!this.blocks[this.tip.type].canContain(tag)) {\n        this.finalize(this.tip, this.lineNumber - 1);\n    }\n\n    var column_number = offset + 1; // offset 0 = column 1\n    var newBlock = new Node(tag, [\n        [this.lineNumber, column_number],\n        [0, 0]\n    ]);\n    newBlock._string_content = \"\";\n    this.tip.appendChild(newBlock);\n    this.tip = newBlock;\n    return newBlock;\n};\n\n// Parse a list marker and return data on the marker (type,\n// start, delimiter, bullet character, padding) or null.\nvar parseListMarker = function(parser, container) {\n    var rest = parser.currentLine.slice(parser.nextNonspace);\n    var match;\n    var nextc;\n    var spacesStartCol;\n    var spacesStartOffset;\n    var data = {\n        type: null,\n        tight: true, // lists are tight by default\n        bulletChar: null,\n        start: null,\n        delimiter: null,\n        padding: null,\n        markerOffset: parser.indent\n    };\n    if (parser.indent >= 4) {\n        return null;\n    }\n    if ((match = rest.match(reBulletListMarker))) {\n        data.type = \"bullet\";\n        data.bulletChar = match[0][0];\n    } else if (\n        (match = rest.match(reOrderedListMarker)) &&\n        (container.type !== \"paragraph\" || match[1] === \"1\")\n    ) {\n        data.type = \"ordered\";\n        data.start = parseInt(match[1]);\n        data.delimiter = match[2];\n    } else {\n        return null;\n    }\n    // make sure we have spaces after\n    nextc = peek(parser.currentLine, parser.nextNonspace + match[0].length);\n    if (!(nextc === -1 || nextc === C_TAB || nextc === C_SPACE)) {\n        return null;\n    }\n\n    // if it interrupts paragraph, make sure first line isn't blank\n    if (\n        container.type === \"paragraph\" &&\n        !parser.currentLine\n            .slice(parser.nextNonspace + match[0].length)\n            .match(reNonSpace)\n    ) {\n        return null;\n    }\n\n    // we've got a match! advance offset and calculate padding\n    parser.advanceNextNonspace(); // to start of marker\n    parser.advanceOffset(match[0].length, true); // to end of marker\n    spacesStartCol = parser.column;\n    spacesStartOffset = parser.offset;\n    do {\n        parser.advanceOffset(1, true);\n        nextc = peek(parser.currentLine, parser.offset);\n    } while (parser.column - spacesStartCol < 5 && isSpaceOrTab(nextc));\n    var blank_item = peek(parser.currentLine, parser.offset) === -1;\n    var spaces_after_marker = parser.column - spacesStartCol;\n    if (spaces_after_marker >= 5 || spaces_after_marker < 1 || blank_item) {\n        data.padding = match[0].length + 1;\n        parser.column = spacesStartCol;\n        parser.offset = spacesStartOffset;\n        if (isSpaceOrTab(peek(parser.currentLine, parser.offset))) {\n            parser.advanceOffset(1, true);\n        }\n    } else {\n        data.padding = match[0].length + spaces_after_marker;\n    }\n    return data;\n};\n\n// Returns true if the two list items are of the same type,\n// with the same delimiter and bullet character.  This is used\n// in agglomerating list items into lists.\nvar listsMatch = function(list_data, item_data) {\n    return (\n        list_data.type === item_data.type &&\n        list_data.delimiter === item_data.delimiter &&\n        list_data.bulletChar === item_data.bulletChar\n    );\n};\n\n// Finalize and close any unmatched blocks.\nvar closeUnmatchedBlocks = function() {\n    if (!this.allClosed) {\n        // finalize any blocks not matched\n        while (this.oldtip !== this.lastMatchedContainer) {\n            var parent = this.oldtip._parent;\n            this.finalize(this.oldtip, this.lineNumber - 1);\n            this.oldtip = parent;\n        }\n        this.allClosed = true;\n    }\n};\n\n// 'finalize' is run when the block is closed.\n// 'continue' is run to check whether the block is continuing\n// at a certain line and offset (e.g. whether a block quote\n// contains a `>`.  It returns 0 for matched, 1 for not matched,\n// and 2 for \"we've dealt with this line completely, go to next.\"\nvar blocks = {\n    document: {\n        continue: function() {\n            return 0;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function(t) {\n            return t !== \"item\";\n        },\n        acceptsLines: false\n    },\n    list: {\n        continue: function() {\n            return 0;\n        },\n        finalize: function(parser, block) {\n            var item = block._firstChild;\n            while (item) {\n                // check for non-final list item ending with blank line:\n                if (endsWithBlankLine(item) && item._next) {\n                    block._listData.tight = false;\n                    break;\n                }\n                // recurse into children of list item, to see if there are\n                // spaces between any of them:\n                var subitem = item._firstChild;\n                while (subitem) {\n                    if (\n                        endsWithBlankLine(subitem) &&\n                        (item._next || subitem._next)\n                    ) {\n                        block._listData.tight = false;\n                        break;\n                    }\n                    subitem = subitem._next;\n                }\n                item = item._next;\n            }\n        },\n        canContain: function(t) {\n            return t === \"item\";\n        },\n        acceptsLines: false\n    },\n    block_quote: {\n        continue: function(parser) {\n            var ln = parser.currentLine;\n            if (\n                !parser.indented &&\n                peek(ln, parser.nextNonspace) === C_GREATERTHAN\n            ) {\n                parser.advanceNextNonspace();\n                parser.advanceOffset(1, false);\n                if (isSpaceOrTab(peek(ln, parser.offset))) {\n                    parser.advanceOffset(1, true);\n                }\n            } else {\n                return 1;\n            }\n            return 0;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function(t) {\n            return t !== \"item\";\n        },\n        acceptsLines: false\n    },\n    item: {\n        continue: function(parser, container) {\n            if (parser.blank) {\n                if (container._firstChild == null) {\n                    // Blank line after empty list item\n                    return 1;\n                } else {\n                    parser.advanceNextNonspace();\n                }\n            } else if (\n                parser.indent >=\n                container._listData.markerOffset + container._listData.padding\n            ) {\n                parser.advanceOffset(\n                    container._listData.markerOffset +\n                        container._listData.padding,\n                    true\n                );\n            } else {\n                return 1;\n            }\n            return 0;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function(t) {\n            return t !== \"item\";\n        },\n        acceptsLines: false\n    },\n    heading: {\n        continue: function() {\n            // a heading can never container > 1 line, so fail to match:\n            return 1;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: false\n    },\n    thematic_break: {\n        continue: function() {\n            // a thematic break can never container > 1 line, so fail to match:\n            return 1;\n        },\n        finalize: function() {\n            return;\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: false\n    },\n    code_block: {\n        continue: function(parser, container) {\n            var ln = parser.currentLine;\n            var indent = parser.indent;\n            if (container._isFenced) {\n                // fenced\n                var match =\n                    indent <= 3 &&\n                    ln.charAt(parser.nextNonspace) === container._fenceChar &&\n                    ln.slice(parser.nextNonspace).match(reClosingCodeFence);\n                if (match && match[0].length >= container._fenceLength) {\n                    // closing fence - we're at end of line, so we can return\n                    parser.lastLineLength =\n                        parser.offset + indent + match[0].length;\n                    parser.finalize(container, parser.lineNumber);\n                    return 2;\n                } else {\n                    // skip optional spaces of fence offset\n                    var i = container._fenceOffset;\n                    while (i > 0 && isSpaceOrTab(peek(ln, parser.offset))) {\n                        parser.advanceOffset(1, true);\n                        i--;\n                    }\n                }\n            } else {\n                // indented\n                if (indent >= CODE_INDENT) {\n                    parser.advanceOffset(CODE_INDENT, true);\n                } else if (parser.blank) {\n                    parser.advanceNextNonspace();\n                } else {\n                    return 1;\n                }\n            }\n            return 0;\n        },\n        finalize: function(parser, block) {\n            if (block._isFenced) {\n                // fenced\n                // first line becomes info string\n                var content = block._string_content;\n                var newlinePos = content.indexOf(\"\\n\");\n                var firstLine = content.slice(0, newlinePos);\n                var rest = content.slice(newlinePos + 1);\n                block.info = unescapeString(firstLine.trim());\n                block._literal = rest;\n            } else {\n                // indented\n                block._literal = block._string_content.replace(\n                    /(\\n *)+$/,\n                    \"\\n\"\n                );\n            }\n            block._string_content = null; // allow GC\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: true\n    },\n    html_block: {\n        continue: function(parser, container) {\n            return parser.blank &&\n                (container._htmlBlockType === 6 ||\n                    container._htmlBlockType === 7)\n                ? 1\n                : 0;\n        },\n        finalize: function(parser, block) {\n            block._literal = block._string_content.replace(/(\\n *)+$/, \"\");\n            block._string_content = null; // allow GC\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: true\n    },\n    paragraph: {\n        continue: function(parser) {\n            return parser.blank ? 1 : 0;\n        },\n        finalize: function(parser, block) {\n            var pos;\n            var hasReferenceDefs = false;\n\n            // try parsing the beginning as link reference definitions:\n            while (\n                peek(block._string_content, 0) === C_OPEN_BRACKET &&\n                (pos = parser.inlineParser.parseReference(\n                    block._string_content,\n                    parser.refmap\n                ))\n            ) {\n                block._string_content = block._string_content.slice(pos);\n                hasReferenceDefs = true;\n            }\n            if (hasReferenceDefs && isBlank(block._string_content)) {\n                block.unlink();\n            }\n        },\n        canContain: function() {\n            return false;\n        },\n        acceptsLines: true\n    }\n};\n\n// block start functions.  Return values:\n// 0 = no match\n// 1 = matched container, keep going\n// 2 = matched leaf, no more block starts\nvar blockStarts = [\n    // block quote\n    function(parser) {\n        if (\n            !parser.indented &&\n            peek(parser.currentLine, parser.nextNonspace) === C_GREATERTHAN\n        ) {\n            parser.advanceNextNonspace();\n            parser.advanceOffset(1, false);\n            // optional following space\n            if (isSpaceOrTab(peek(parser.currentLine, parser.offset))) {\n                parser.advanceOffset(1, true);\n            }\n            parser.closeUnmatchedBlocks();\n            parser.addChild(\"block_quote\", parser.nextNonspace);\n            return 1;\n        } else {\n            return 0;\n        }\n    },\n\n    // ATX heading\n    function(parser) {\n        var match;\n        if (\n            !parser.indented &&\n            (match = parser.currentLine\n                .slice(parser.nextNonspace)\n                .match(reATXHeadingMarker))\n        ) {\n            parser.advanceNextNonspace();\n            parser.advanceOffset(match[0].length, false);\n            parser.closeUnmatchedBlocks();\n            var container = parser.addChild(\"heading\", parser.nextNonspace);\n            container.level = match[0].trim().length; // number of #s\n            // remove trailing ###s:\n            container._string_content = parser.currentLine\n                .slice(parser.offset)\n                .replace(/^[ \\t]*#+[ \\t]*$/, \"\")\n                .replace(/[ \\t]+#+[ \\t]*$/, \"\");\n            parser.advanceOffset(parser.currentLine.length - parser.offset);\n            return 2;\n        } else {\n            return 0;\n        }\n    },\n\n    // Fenced code block\n    function(parser) {\n        var match;\n        if (\n            !parser.indented &&\n            (match = parser.currentLine\n                .slice(parser.nextNonspace)\n                .match(reCodeFence))\n        ) {\n            var fenceLength = match[0].length;\n            parser.closeUnmatchedBlocks();\n            var container = parser.addChild(\"code_block\", parser.nextNonspace);\n            container._isFenced = true;\n            container._fenceLength = fenceLength;\n            container._fenceChar = match[0][0];\n            container._fenceOffset = parser.indent;\n            parser.advanceNextNonspace();\n            parser.advanceOffset(fenceLength, false);\n            return 2;\n        } else {\n            return 0;\n        }\n    },\n\n    // HTML block\n    function(parser, container) {\n        if (\n            !parser.indented &&\n            peek(parser.currentLine, parser.nextNonspace) === C_LESSTHAN\n        ) {\n            var s = parser.currentLine.slice(parser.nextNonspace);\n            var blockType;\n\n            for (blockType = 1; blockType <= 7; blockType++) {\n                if (\n                    reHtmlBlockOpen[blockType].test(s) &&\n                    (blockType < 7 || container.type !== \"paragraph\")\n                ) {\n                    parser.closeUnmatchedBlocks();\n                    // We don't adjust parser.offset;\n                    // spaces are part of the HTML block:\n                    var b = parser.addChild(\"html_block\", parser.offset);\n                    b._htmlBlockType = blockType;\n                    return 2;\n                }\n            }\n        }\n\n        return 0;\n    },\n\n    // Setext heading\n    function(parser, container) {\n        var match;\n        if (\n            !parser.indented &&\n            container.type === \"paragraph\" &&\n            (match = parser.currentLine\n                .slice(parser.nextNonspace)\n                .match(reSetextHeadingLine))\n        ) {\n            parser.closeUnmatchedBlocks();\n            // resolve reference link definitiosn\n            var pos;\n            while (\n                peek(container._string_content, 0) === C_OPEN_BRACKET &&\n                (pos = parser.inlineParser.parseReference(\n                    container._string_content,\n                    parser.refmap\n                ))\n            ) {\n                container._string_content = container._string_content.slice(\n                    pos\n                );\n            }\n            if (container._string_content.length > 0) {\n                var heading = new Node(\"heading\", container.sourcepos);\n                heading.level = match[0][0] === \"=\" ? 1 : 2;\n                heading._string_content = container._string_content;\n                container.insertAfter(heading);\n                container.unlink();\n                parser.tip = heading;\n                parser.advanceOffset(\n                    parser.currentLine.length - parser.offset,\n                    false\n                );\n                return 2;\n            } else {\n                return 0;\n            }\n        } else {\n            return 0;\n        }\n    },\n\n    // thematic break\n    function(parser) {\n        if (\n            !parser.indented &&\n            reThematicBreak.test(parser.currentLine.slice(parser.nextNonspace))\n        ) {\n            parser.closeUnmatchedBlocks();\n            parser.addChild(\"thematic_break\", parser.nextNonspace);\n            parser.advanceOffset(\n                parser.currentLine.length - parser.offset,\n                false\n            );\n            return 2;\n        } else {\n            return 0;\n        }\n    },\n\n    // list item\n    function(parser, container) {\n        var data;\n\n        if (\n            (!parser.indented || container.type === \"list\") &&\n            (data = parseListMarker(parser, container))\n        ) {\n            parser.closeUnmatchedBlocks();\n\n            // add the list if needed\n            if (\n                parser.tip.type !== \"list\" ||\n                !listsMatch(container._listData, data)\n            ) {\n                container = parser.addChild(\"list\", parser.nextNonspace);\n                container._listData = data;\n            }\n\n            // add the list item\n            container = parser.addChild(\"item\", parser.nextNonspace);\n            container._listData = data;\n            return 1;\n        } else {\n            return 0;\n        }\n    },\n\n    // indented code block\n    function(parser) {\n        if (\n            parser.indented &&\n            parser.tip.type !== \"paragraph\" &&\n            !parser.blank\n        ) {\n            // indented code\n            parser.advanceOffset(CODE_INDENT, true);\n            parser.closeUnmatchedBlocks();\n            parser.addChild(\"code_block\", parser.offset);\n            return 2;\n        } else {\n            return 0;\n        }\n    }\n];\n\nvar advanceOffset = function(count, columns) {\n    var currentLine = this.currentLine;\n    var charsToTab, charsToAdvance;\n    var c;\n    while (count > 0 && (c = currentLine[this.offset])) {\n        if (c === \"\\t\") {\n            charsToTab = 4 - (this.column % 4);\n            if (columns) {\n                this.partiallyConsumedTab = charsToTab > count;\n                charsToAdvance = charsToTab > count ? count : charsToTab;\n                this.column += charsToAdvance;\n                this.offset += this.partiallyConsumedTab ? 0 : 1;\n                count -= charsToAdvance;\n            } else {\n                this.partiallyConsumedTab = false;\n                this.column += charsToTab;\n                this.offset += 1;\n                count -= 1;\n            }\n        } else {\n            this.partiallyConsumedTab = false;\n            this.offset += 1;\n            this.column += 1; // assume ascii; block starts are ascii\n            count -= 1;\n        }\n    }\n};\n\nvar advanceNextNonspace = function() {\n    this.offset = this.nextNonspace;\n    this.column = this.nextNonspaceColumn;\n    this.partiallyConsumedTab = false;\n};\n\nvar findNextNonspace = function() {\n    var currentLine = this.currentLine;\n    var i = this.offset;\n    var cols = this.column;\n    var c;\n\n    while ((c = currentLine.charAt(i)) !== \"\") {\n        if (c === \" \") {\n            i++;\n            cols++;\n        } else if (c === \"\\t\") {\n            i++;\n            cols += 4 - (cols % 4);\n        } else {\n            break;\n        }\n    }\n    this.blank = c === \"\\n\" || c === \"\\r\" || c === \"\";\n    this.nextNonspace = i;\n    this.nextNonspaceColumn = cols;\n    this.indent = this.nextNonspaceColumn - this.column;\n    this.indented = this.indent >= CODE_INDENT;\n};\n\n// Analyze a line of text and update the document appropriately.\n// We parse markdown text by calling this on each line of input,\n// then finalizing the document.\nvar incorporateLine = function(ln) {\n    var all_matched = true;\n    var t;\n\n    var container = this.doc;\n    this.oldtip = this.tip;\n    this.offset = 0;\n    this.column = 0;\n    this.blank = false;\n    this.partiallyConsumedTab = false;\n    this.lineNumber += 1;\n\n    // replace NUL characters for security\n    if (ln.indexOf(\"\\u0000\") !== -1) {\n        ln = ln.replace(/\\0/g, \"\\uFFFD\");\n    }\n\n    this.currentLine = ln;\n\n    // For each containing block, try to parse the associated line start.\n    // Bail out on failure: container will point to the last matching block.\n    // Set all_matched to false if not all containers match.\n    var lastChild;\n    while ((lastChild = container._lastChild) && lastChild._open) {\n        container = lastChild;\n\n        this.findNextNonspace();\n\n        switch (this.blocks[container.type].continue(this, container)) {\n            case 0: // we've matched, keep going\n                break;\n            case 1: // we've failed to match a block\n                all_matched = false;\n                break;\n            case 2: // we've hit end of line for fenced code close and can return\n                return;\n            default:\n                throw \"continue returned illegal value, must be 0, 1, or 2\";\n        }\n        if (!all_matched) {\n            container = container._parent; // back up to last matching block\n            break;\n        }\n    }\n\n    this.allClosed = container === this.oldtip;\n    this.lastMatchedContainer = container;\n\n    var matchedLeaf =\n        container.type !== \"paragraph\" && blocks[container.type].acceptsLines;\n    var starts = this.blockStarts;\n    var startsLen = starts.length;\n    // Unless last matched container is a code block, try new container starts,\n    // adding children to the last matched container:\n    while (!matchedLeaf) {\n        this.findNextNonspace();\n\n        // this is a little performance optimization:\n        if (\n            !this.indented &&\n            !reMaybeSpecial.test(ln.slice(this.nextNonspace))\n        ) {\n            this.advanceNextNonspace();\n            break;\n        }\n\n        var i = 0;\n        while (i < startsLen) {\n            var res = starts[i](this, container);\n            if (res === 1) {\n                container = this.tip;\n                break;\n            } else if (res === 2) {\n                container = this.tip;\n                matchedLeaf = true;\n                break;\n            } else {\n                i++;\n            }\n        }\n\n        if (i === startsLen) {\n            // nothing matched\n            this.advanceNextNonspace();\n            break;\n        }\n    }\n\n    // What remains at the offset is a text line.  Add the text to the\n    // appropriate container.\n\n    // First check for a lazy paragraph continuation:\n    if (!this.allClosed && !this.blank && this.tip.type === \"paragraph\") {\n        // lazy paragraph continuation\n        this.addLine();\n    } else {\n        // not a lazy continuation\n\n        // finalize any blocks not matched\n        this.closeUnmatchedBlocks();\n        if (this.blank && container.lastChild) {\n            container.lastChild._lastLineBlank = true;\n        }\n\n        t = container.type;\n\n        // Block quote lines are never blank as they start with >\n        // and we don't count blanks in fenced code for purposes of tight/loose\n        // lists or breaking out of lists.  We also don't set _lastLineBlank\n        // on an empty list item, or if we just closed a fenced block.\n        var lastLineBlank =\n            this.blank &&\n            !(\n                t === \"block_quote\" ||\n                (t === \"code_block\" && container._isFenced) ||\n                (t === \"item\" &&\n                    !container._firstChild &&\n                    container.sourcepos[0][0] === this.lineNumber)\n            );\n\n        // propagate lastLineBlank up through parents:\n        var cont = container;\n        while (cont) {\n            cont._lastLineBlank = lastLineBlank;\n            cont = cont._parent;\n        }\n\n        if (this.blocks[t].acceptsLines) {\n            this.addLine();\n            // if HtmlBlock, check for end condition\n            if (\n                t === \"html_block\" &&\n                container._htmlBlockType >= 1 &&\n                container._htmlBlockType <= 5 &&\n                reHtmlBlockClose[container._htmlBlockType].test(\n                    this.currentLine.slice(this.offset)\n                )\n            ) {\n                this.lastLineLength = ln.length;\n                this.finalize(container, this.lineNumber);\n            }\n        } else if (this.offset < ln.length && !this.blank) {\n            // create paragraph container for line\n            container = this.addChild(\"paragraph\", this.offset);\n            this.advanceNextNonspace();\n            this.addLine();\n        }\n    }\n    this.lastLineLength = ln.length;\n};\n\n// Finalize a block.  Close it and do any necessary postprocessing,\n// e.g. creating string_content from strings, setting the 'tight'\n// or 'loose' status of a list, and parsing the beginnings\n// of paragraphs for reference definitions.  Reset the tip to the\n// parent of the closed block.\nvar finalize = function(block, lineNumber) {\n    var above = block._parent;\n    block._open = false;\n    block.sourcepos[1] = [lineNumber, this.lastLineLength];\n\n    this.blocks[block.type].finalize(this, block);\n\n    this.tip = above;\n};\n\n// Walk through a block & children recursively, parsing string content\n// into inline content where appropriate.\nvar processInlines = function(block) {\n    var node, event, t;\n    var walker = block.walker();\n    this.inlineParser.refmap = this.refmap;\n    this.inlineParser.options = this.options;\n    while ((event = walker.next())) {\n        node = event.node;\n        t = node.type;\n        if (!event.entering && (t === \"paragraph\" || t === \"heading\")) {\n            this.inlineParser.parse(node);\n        }\n    }\n};\n\nvar Document = function() {\n    var doc = new Node(\"document\", [\n        [1, 1],\n        [0, 0]\n    ]);\n    return doc;\n};\n\n// The main parsing function.  Returns a parsed document AST.\nvar parse = function(input) {\n    this.doc = new Document();\n    this.tip = this.doc;\n    this.refmap = {};\n    this.lineNumber = 0;\n    this.lastLineLength = 0;\n    this.offset = 0;\n    this.column = 0;\n    this.lastMatchedContainer = this.doc;\n    this.currentLine = \"\";\n    if (this.options.time) {\n        console.time(\"preparing input\");\n    }\n    var lines = input.split(reLineEnding);\n    var len = lines.length;\n    if (input.charCodeAt(input.length - 1) === C_NEWLINE) {\n        // ignore last blank line created by final newline\n        len -= 1;\n    }\n    if (this.options.time) {\n        console.timeEnd(\"preparing input\");\n    }\n    if (this.options.time) {\n        console.time(\"block parsing\");\n    }\n    for (var i = 0; i < len; i++) {\n        this.incorporateLine(lines[i]);\n    }\n    while (this.tip) {\n        this.finalize(this.tip, len);\n    }\n    if (this.options.time) {\n        console.timeEnd(\"block parsing\");\n    }\n    if (this.options.time) {\n        console.time(\"inline parsing\");\n    }\n    this.processInlines(this.doc);\n    if (this.options.time) {\n        console.timeEnd(\"inline parsing\");\n    }\n    return this.doc;\n};\n\n// The Parser object.\nfunction Parser(options) {\n    return {\n        doc: new Document(),\n        blocks: blocks,\n        blockStarts: blockStarts,\n        tip: this.doc,\n        oldtip: this.doc,\n        currentLine: \"\",\n        lineNumber: 0,\n        offset: 0,\n        column: 0,\n        nextNonspace: 0,\n        nextNonspaceColumn: 0,\n        indent: 0,\n        indented: false,\n        blank: false,\n        partiallyConsumedTab: false,\n        allClosed: true,\n        lastMatchedContainer: this.doc,\n        refmap: {},\n        lastLineLength: 0,\n        inlineParser: new InlineParser(options),\n        findNextNonspace: findNextNonspace,\n        advanceOffset: advanceOffset,\n        advanceNextNonspace: advanceNextNonspace,\n        addLine: addLine,\n        addChild: addChild,\n        incorporateLine: incorporateLine,\n        finalize: finalize,\n        processInlines: processInlines,\n        closeUnmatchedBlocks: closeUnmatchedBlocks,\n        parse: parse,\n        options: options || {}\n    };\n}\n\nexport default Parser;\n","\"use strict\";\n\nfunction Renderer() {}\n\n/**\n *  Walks the AST and calls member methods for each Node type.\n *\n *  @param ast {Node} The root of the abstract syntax tree.\n */\nfunction render(ast) {\n    var walker = ast.walker(),\n        event,\n        type;\n\n    this.buffer = \"\";\n    this.lastOut = \"\\n\";\n\n    while ((event = walker.next())) {\n        type = event.node.type;\n        if (this[type]) {\n            this[type](event.node, event.entering);\n        }\n    }\n    return this.buffer;\n}\n\n/**\n *  Concatenate a literal string to the buffer.\n *\n *  @param str {String} The string to concatenate.\n */\nfunction lit(str) {\n    this.buffer += str;\n    this.lastOut = str;\n}\n\n/**\n *  Output a newline to the buffer.\n */\nfunction cr() {\n    if (this.lastOut !== \"\\n\") {\n        this.lit(\"\\n\");\n    }\n}\n\n/**\n *  Concatenate a string to the buffer possibly escaping the content.\n *\n *  Concrete renderer implementations should override this method.\n *\n *  @param str {String} The string to concatenate.\n */\nfunction out(str) {\n    this.lit(str);\n}\n\n/**\n *  Escape a string for the target renderer.\n *\n *  Abstract function that should be implemented by concrete\n *  renderer implementations.\n *\n *  @param str {String} The string to escape.\n */\nfunction esc(str) {\n    return str;\n}\n\nRenderer.prototype.render = render;\nRenderer.prototype.out = out;\nRenderer.prototype.lit = lit;\nRenderer.prototype.cr = cr;\nRenderer.prototype.esc = esc;\n\nexport default Renderer;\n","\"use strict\";\n\nimport { escapeXml } from \"../common.js\";\nimport Renderer from \"./renderer.js\";\n\nvar reUnsafeProtocol = /^javascript:|vbscript:|file:|data:/i;\nvar reSafeDataProtocol = /^data:image\\/(?:png|gif|jpeg|webp)/i;\n\nvar potentiallyUnsafe = function(url) {\n    return reUnsafeProtocol.test(url) && !reSafeDataProtocol.test(url);\n};\n\n// Helper function to produce an HTML tag.\nfunction tag(name, attrs, selfclosing) {\n    if (this.disableTags > 0) {\n        return;\n    }\n    this.buffer += \"<\" + name;\n    if (attrs && attrs.length > 0) {\n        var i = 0;\n        var attrib;\n        while ((attrib = attrs[i]) !== undefined) {\n            this.buffer += \" \" + attrib[0] + '=\"' + attrib[1] + '\"';\n            i++;\n        }\n    }\n    if (selfclosing) {\n        this.buffer += \" /\";\n    }\n    this.buffer += \">\";\n    this.lastOut = \">\";\n}\n\nfunction HtmlRenderer(options) {\n    options = options || {};\n    // by default, soft breaks are rendered as newlines in HTML\n    options.softbreak = options.softbreak || \"\\n\";\n    // set to \"<br />\" to make them hard breaks\n    // set to \" \" if you want to ignore line wrapping in source\n\n    this.disableTags = 0;\n    this.lastOut = \"\\n\";\n    this.options = options;\n}\n\n/* Node methods */\n\nfunction text(node) {\n    this.out(node.literal);\n}\n\nfunction softbreak() {\n    this.lit(this.options.softbreak);\n}\n\nfunction linebreak() {\n    this.tag(\"br\", [], true);\n    this.cr();\n}\n\nfunction link(node, entering) {\n    var attrs = this.attrs(node);\n    if (entering) {\n        if (!(this.options.safe && potentiallyUnsafe(node.destination))) {\n            attrs.push([\"href\", this.esc(node.destination)]);\n        }\n        if (node.title) {\n            attrs.push([\"title\", this.esc(node.title)]);\n        }\n        this.tag(\"a\", attrs);\n    } else {\n        this.tag(\"/a\");\n    }\n}\n\nfunction image(node, entering) {\n    if (entering) {\n        if (this.disableTags === 0) {\n            if (this.options.safe && potentiallyUnsafe(node.destination)) {\n                this.lit('<img src=\"\" alt=\"');\n            } else {\n                this.lit('<img src=\"' + this.esc(node.destination) + '\" alt=\"');\n            }\n        }\n        this.disableTags += 1;\n    } else {\n        this.disableTags -= 1;\n        if (this.disableTags === 0) {\n            if (node.title) {\n                this.lit('\" title=\"' + this.esc(node.title));\n            }\n            this.lit('\" />');\n        }\n    }\n}\n\nfunction emph(node, entering) {\n    this.tag(entering ? \"em\" : \"/em\");\n}\n\nfunction strong(node, entering) {\n    this.tag(entering ? \"strong\" : \"/strong\");\n}\n\nfunction paragraph(node, entering) {\n    var grandparent = node.parent.parent,\n        attrs = this.attrs(node);\n    if (grandparent !== null && grandparent.type === \"list\") {\n        if (grandparent.listTight) {\n            return;\n        }\n    }\n    if (entering) {\n        this.cr();\n        this.tag(\"p\", attrs);\n    } else {\n        this.tag(\"/p\");\n        this.cr();\n    }\n}\n\nfunction heading(node, entering) {\n    var tagname = \"h\" + node.level,\n        attrs = this.attrs(node);\n    if (entering) {\n        this.cr();\n        this.tag(tagname, attrs);\n    } else {\n        this.tag(\"/\" + tagname);\n        this.cr();\n    }\n}\n\nfunction code(node) {\n    this.tag(\"code\");\n    this.out(node.literal);\n    this.tag(\"/code\");\n}\n\nfunction code_block(node) {\n    var info_words = node.info ? node.info.split(/\\s+/) : [],\n        attrs = this.attrs(node);\n    if (info_words.length > 0 && info_words[0].length > 0) {\n        attrs.push([\"class\", \"language-\" + this.esc(info_words[0])]);\n    }\n    this.cr();\n    this.tag(\"pre\");\n    this.tag(\"code\", attrs);\n    this.out(node.literal);\n    this.tag(\"/code\");\n    this.tag(\"/pre\");\n    this.cr();\n}\n\nfunction thematic_break(node) {\n    var attrs = this.attrs(node);\n    this.cr();\n    this.tag(\"hr\", attrs, true);\n    this.cr();\n}\n\nfunction block_quote(node, entering) {\n    var attrs = this.attrs(node);\n    if (entering) {\n        this.cr();\n        this.tag(\"blockquote\", attrs);\n        this.cr();\n    } else {\n        this.cr();\n        this.tag(\"/blockquote\");\n        this.cr();\n    }\n}\n\nfunction list(node, entering) {\n    var tagname = node.listType === \"bullet\" ? \"ul\" : \"ol\",\n        attrs = this.attrs(node);\n\n    if (entering) {\n        var start = node.listStart;\n        if (start !== null && start !== 1) {\n            attrs.push([\"start\", start.toString()]);\n        }\n        this.cr();\n        this.tag(tagname, attrs);\n        this.cr();\n    } else {\n        this.cr();\n        this.tag(\"/\" + tagname);\n        this.cr();\n    }\n}\n\nfunction item(node, entering) {\n    var attrs = this.attrs(node);\n    if (entering) {\n        this.tag(\"li\", attrs);\n    } else {\n        this.tag(\"/li\");\n        this.cr();\n    }\n}\n\nfunction html_inline(node) {\n    if (this.options.safe) {\n        this.lit(\"<!-- raw HTML omitted -->\");\n    } else {\n        this.lit(node.literal);\n    }\n}\n\nfunction html_block(node) {\n    this.cr();\n    if (this.options.safe) {\n        this.lit(\"<!-- raw HTML omitted -->\");\n    } else {\n        this.lit(node.literal);\n    }\n    this.cr();\n}\n\nfunction custom_inline(node, entering) {\n    if (entering && node.onEnter) {\n        this.lit(node.onEnter);\n    } else if (!entering && node.onExit) {\n        this.lit(node.onExit);\n    }\n}\n\nfunction custom_block(node, entering) {\n    this.cr();\n    if (entering && node.onEnter) {\n        this.lit(node.onEnter);\n    } else if (!entering && node.onExit) {\n        this.lit(node.onExit);\n    }\n    this.cr();\n}\n\n/* Helper methods */\n\nfunction out(s) {\n    this.lit(this.esc(s));\n}\n\nfunction attrs(node) {\n    var att = [];\n    if (this.options.sourcepos) {\n        var pos = node.sourcepos;\n        if (pos) {\n            att.push([\n                \"data-sourcepos\",\n                String(pos[0][0]) +\n                    \":\" +\n                    String(pos[0][1]) +\n                    \"-\" +\n                    String(pos[1][0]) +\n                    \":\" +\n                    String(pos[1][1])\n            ]);\n        }\n    }\n    return att;\n}\n\n// quick browser-compatible inheritance\nHtmlRenderer.prototype = Object.create(Renderer.prototype);\n\nHtmlRenderer.prototype.text = text;\nHtmlRenderer.prototype.html_inline = html_inline;\nHtmlRenderer.prototype.html_block = html_block;\nHtmlRenderer.prototype.softbreak = softbreak;\nHtmlRenderer.prototype.linebreak = linebreak;\nHtmlRenderer.prototype.link = link;\nHtmlRenderer.prototype.image = image;\nHtmlRenderer.prototype.emph = emph;\nHtmlRenderer.prototype.strong = strong;\nHtmlRenderer.prototype.paragraph = paragraph;\nHtmlRenderer.prototype.heading = heading;\nHtmlRenderer.prototype.code = code;\nHtmlRenderer.prototype.code_block = code_block;\nHtmlRenderer.prototype.thematic_break = thematic_break;\nHtmlRenderer.prototype.block_quote = block_quote;\nHtmlRenderer.prototype.list = list;\nHtmlRenderer.prototype.item = item;\nHtmlRenderer.prototype.custom_inline = custom_inline;\nHtmlRenderer.prototype.custom_block = custom_block;\n\nHtmlRenderer.prototype.esc = escapeXml;\n\nHtmlRenderer.prototype.out = out;\nHtmlRenderer.prototype.tag = tag;\nHtmlRenderer.prototype.attrs = attrs;\n\nexport default HtmlRenderer;\n","\"use strict\";\n\nimport Renderer from \"./renderer.js\";\nimport { escapeXml } from \"../common.js\";\n\nvar reXMLTag = /\\<[^>]*\\>/;\n\nfunction toTagName(s) {\n    return s.replace(/([a-z])([A-Z])/g, \"$1_$2\").toLowerCase();\n}\n\nfunction XmlRenderer(options) {\n    options = options || {};\n\n    this.disableTags = 0;\n    this.lastOut = \"\\n\";\n\n    this.indentLevel = 0;\n    this.indent = \"  \";\n\n    this.options = options;\n}\n\nfunction render(ast) {\n    this.buffer = \"\";\n\n    var attrs;\n    var tagname;\n    var walker = ast.walker();\n    var event, node, entering;\n    var container;\n    var selfClosing;\n    var nodetype;\n\n    var options = this.options;\n\n    if (options.time) {\n        console.time(\"rendering\");\n    }\n\n    this.buffer += '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n    this.buffer += '<!DOCTYPE document SYSTEM \"CommonMark.dtd\">\\n';\n\n    while ((event = walker.next())) {\n        entering = event.entering;\n        node = event.node;\n        nodetype = node.type;\n\n        container = node.isContainer;\n\n        selfClosing =\n            nodetype === \"thematic_break\" ||\n            nodetype === \"linebreak\" ||\n            nodetype === \"softbreak\";\n\n        tagname = toTagName(nodetype);\n\n        if (entering) {\n            attrs = [];\n\n            switch (nodetype) {\n                case \"document\":\n                    attrs.push([\"xmlns\", \"http://commonmark.org/xml/1.0\"]);\n                    break;\n                case \"list\":\n                    if (node.listType !== null) {\n                        attrs.push([\"type\", node.listType.toLowerCase()]);\n                    }\n                    if (node.listStart !== null) {\n                        attrs.push([\"start\", String(node.listStart)]);\n                    }\n                    if (node.listTight !== null) {\n                        attrs.push([\n                            \"tight\",\n                            node.listTight ? \"true\" : \"false\"\n                        ]);\n                    }\n                    var delim = node.listDelimiter;\n                    if (delim !== null) {\n                        var delimword = \"\";\n                        if (delim === \".\") {\n                            delimword = \"period\";\n                        } else {\n                            delimword = \"paren\";\n                        }\n                        attrs.push([\"delimiter\", delimword]);\n                    }\n                    break;\n                case \"code_block\":\n                    if (node.info) {\n                        attrs.push([\"info\", node.info]);\n                    }\n                    break;\n                case \"heading\":\n                    attrs.push([\"level\", String(node.level)]);\n                    break;\n                case \"link\":\n                case \"image\":\n                    attrs.push([\"destination\", node.destination]);\n                    attrs.push([\"title\", node.title]);\n                    break;\n                case \"custom_inline\":\n                case \"custom_block\":\n                    attrs.push([\"on_enter\", node.onEnter]);\n                    attrs.push([\"on_exit\", node.onExit]);\n                    break;\n                default:\n                    break;\n            }\n            if (options.sourcepos) {\n                var pos = node.sourcepos;\n                if (pos) {\n                    attrs.push([\n                        \"sourcepos\",\n                        String(pos[0][0]) +\n                            \":\" +\n                            String(pos[0][1]) +\n                            \"-\" +\n                            String(pos[1][0]) +\n                            \":\" +\n                            String(pos[1][1])\n                    ]);\n                }\n            }\n\n            this.cr();\n            this.out(this.tag(tagname, attrs, selfClosing));\n            if (container) {\n                this.indentLevel += 1;\n            } else if (!container && !selfClosing) {\n                var lit = node.literal;\n                if (lit) {\n                    this.out(this.esc(lit));\n                }\n                this.out(this.tag(\"/\" + tagname));\n            }\n        } else {\n            this.indentLevel -= 1;\n            this.cr();\n            this.out(this.tag(\"/\" + tagname));\n        }\n    }\n    if (options.time) {\n        console.timeEnd(\"rendering\");\n    }\n    this.buffer += \"\\n\";\n    return this.buffer;\n}\n\nfunction out(s) {\n    if (this.disableTags > 0) {\n        this.buffer += s.replace(reXMLTag, \"\");\n    } else {\n        this.buffer += s;\n    }\n    this.lastOut = s;\n}\n\nfunction cr() {\n    if (this.lastOut !== \"\\n\") {\n        this.buffer += \"\\n\";\n        this.lastOut = \"\\n\";\n        for (var i = this.indentLevel; i > 0; i--) {\n            this.buffer += this.indent;\n        }\n    }\n}\n\n// Helper function to produce an XML tag.\nfunction tag(name, attrs, selfclosing) {\n    var result = \"<\" + name;\n    if (attrs && attrs.length > 0) {\n        var i = 0;\n        var attrib;\n        while ((attrib = attrs[i]) !== undefined) {\n            result += \" \" + attrib[0] + '=\"' + this.esc(attrib[1]) + '\"';\n            i++;\n        }\n    }\n    if (selfclosing) {\n        result += \" /\";\n    }\n    result += \">\";\n    return result;\n}\n\n// quick browser-compatible inheritance\nXmlRenderer.prototype = Object.create(Renderer.prototype);\n\nXmlRenderer.prototype.render = render;\nXmlRenderer.prototype.out = out;\nXmlRenderer.prototype.cr = cr;\nXmlRenderer.prototype.tag = tag;\nXmlRenderer.prototype.esc = escapeXml;\n\nexport default XmlRenderer;\n","/*! http://mths.be/repeat v0.2.0 by @mathias */\nif (!String.prototype.repeat) {\n\t(function() {\n\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar repeat = function(count) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\t// `ToInteger`\n\t\t\tvar n = count ? Number(count) : 0;\n\t\t\tif (n != n) { // better `isNaN`\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\t// Account for out-of-bounds indices\n\t\t\tif (n < 0 || n == Infinity) {\n\t\t\t\tthrow RangeError();\n\t\t\t}\n\t\t\tvar result = '';\n\t\t\twhile (n) {\n\t\t\t\tif (n % 2 == 1) {\n\t\t\t\t\tresult += string;\n\t\t\t\t}\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tstring += string;\n\t\t\t\t}\n\t\t\t\tn >>= 1;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, 'repeat', {\n\t\t\t\t'value': repeat,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.repeat = repeat;\n\t\t}\n\t}());\n}\n"],"sourceRoot":""}