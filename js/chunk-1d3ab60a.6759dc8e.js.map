{"version":3,"sources":["webpack:///./src/components/TextEditor.vue?2b5c","webpack:///src/components/TextEditor.vue","webpack:///./src/components/TextEditor.vue?9144","webpack:///./src/components/TextEditor.vue","webpack:///./src/components/CustomProcessPanel.vue?3814","webpack:///./src/formats/format.js","webpack:///./src/components/VisualEditor.vue?413d","webpack:///./src/components/TextEditor.vue?e4e1","webpack:///./src/components/FullscreenButton.vue?0ebf","webpack:///src/components/FullscreenButton.vue","webpack:///./src/components/FullscreenButton.vue?63bb","webpack:///./src/components/FullscreenButton.vue","webpack:///./src/components/Viewer.vue?b388","webpack:///./src/formats/geotiff.js","webpack:///./src/components/Editor.vue?9da2","webpack:///./node_modules/xml-utils/find-tags-by-name.js","webpack:///./src/export/exporter.js","webpack:///./src/components/DiscoveryToolbar.vue?16e2","webpack:///./src/components/IDE.vue?dcbd","webpack:///./src/components/JobPanel.vue?4b24","webpack:///./src/components/DiscoveryToolbar.vue?2366","webpack:///./src/components/FullscreenButton.vue?3f3a","webpack:///./src/components/ServicePanel.vue?c8eb","webpack:///./node_modules/xml-utils/get-attribute.js","webpack:///./src/components/FilePanel.vue?b924","webpack:///./node_modules/quick-lru/index.js","webpack:///./node_modules/splitpanes/dist/splitpanes.es.js","webpack:///./src/components/UserWorkspace.vue?13f5","webpack:///./src/components/DiscoveryToolbar.vue?0cdb","webpack:///src/components/DiscoveryToolbar.vue","webpack:///./src/components/DiscoveryToolbar.vue?5e94","webpack:///./src/components/DiscoveryToolbar.vue","webpack:///./src/components/TextEditor.vue?9964","webpack:///./src/components/Editor.vue?bb7f","webpack:///./src/components/VisualEditor.vue?ed00","webpack:///src/components/VisualEditor.vue","webpack:///./src/components/VisualEditor.vue?fdb7","webpack:///./src/components/VisualEditor.vue","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?b528","webpack:///./src/components/Editor.vue","webpack:///./src/export/javascript.js","webpack:///./src/formats/json.js","webpack:///./node_modules/xml-utils/find-tag-by-name.js","webpack:///./node_modules/string.prototype.repeat/repeat.js","webpack:///./src/components/IDE.vue?3a7b","webpack:///./src/components/UserMenu.vue?be5d","webpack:///src/components/UserMenu.vue","webpack:///./src/components/UserMenu.vue?194a","webpack:///./src/components/UserMenu.vue","webpack:///./src/components/UserWorkspace.vue?27f5","webpack:///./src/components/FilePanel.vue?cbda","webpack:///./src/components/WorkPanelMixin.js","webpack:///src/components/FilePanel.vue","webpack:///./src/components/FilePanel.vue?9f8d","webpack:///./src/components/FilePanel.vue","webpack:///./src/components/JobPanel.vue?f5cb","webpack:///src/components/JobPanel.vue","webpack:///./src/components/JobPanel.vue?7f35","webpack:///./src/components/JobPanel.vue","webpack:///./src/components/CustomProcessPanel.vue?21e5","webpack:///src/components/CustomProcessPanel.vue","webpack:///./src/components/CustomProcessPanel.vue?311e","webpack:///./src/components/CustomProcessPanel.vue","webpack:///./src/components/ServicePanel.vue?9317","webpack:///src/components/ServicePanel.vue","webpack:///./src/components/ServicePanel.vue?7b25","webpack:///./src/components/ServicePanel.vue","webpack:///src/components/UserWorkspace.vue","webpack:///./src/components/UserWorkspace.vue?dec6","webpack:///./src/components/UserWorkspace.vue","webpack:///./src/components/Viewer.vue?6a6f","webpack:///./src/formats/browserImage.js","webpack:///./src/formats/csv.js","webpack:///./src/formats/native.js","webpack:///./src/formats/tsv.js","webpack:///./src/formats/formatRegistry.js","webpack:///src/components/Viewer.vue","webpack:///./src/components/Viewer.vue?c294","webpack:///./src/components/Viewer.vue","webpack:///src/components/IDE.vue","webpack:///./src/components/IDE.vue?bb34","webpack:///./src/components/IDE.vue","webpack:///./node_modules/xml-utils/index-of-match.js","webpack:///./src/components/UserMenu.vue?b11a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","languageString","_v","_s","title","_e","attrs","on","confirmClear","_t","canUndo","$event","editor","undo","canRedo","redo","element","id","staticRenderFns","window","name","components","FullscreenButton","props","editable","type","default","value","required","language","placeholder","computed","editorOptions","indentUnit","lineNumbers","indentWithTabs","matchBrackets","autoCloseBrackets","readOnly","options","data","emitValue","watch","mounted","methods","updateState","commit","pg","emit","insert","text","updateContent","insertProcess","Utils","component","Format","constructor","asset","Object","assign","context","setContext","getContext","getUrl","href","canGroup","isBinary","download","filename","tempLink","document","createElement","style","display","setAttribute","makeFileName","body","appendChild","click","removeChild","connection","loaded","fetchData","blob","url","startsWith","response","fetch","promise","Promise","resolve","reject","reader","FileReader","onload","event","target","result","onerror","readAsBinaryString","readAsText","parseData","SupportedFormat","icon","events","super","UnsupportedFormat","directives","rawName","expression","isFullscreen","toggleFullscreen","mixins","keyDownFn","oldZIndex","el","beforeDestroy","onkeyDown","e","getElement","GeoTIFF","removableLayers","view","getView","geotiff","GeoTIFFSource","sources","findTagByName","findTagsByName","xml","tagName","tags","debug","tag","startIndex","end","push","console","log","length","module","exports","ProcessImpl","BaseProcess","process","exporter","node","generateFunction","Exporter","ProcessGraph","registry","isObject","indent","code","fnCounter","allowEmpty","fillUndefinedParameters","createProcessGraphInstance","processRegistry","getJsonSchemaValidator","copyProcessGraphInstanceProperties","createProcessInstance","isKeyword","keyword","getKeywords","includes","toLowerCase","comment","generateImports","generateConnection","generateAuthentication","generateBuilder","generateMetadata","generateMissingParameter","generateFunctionParams","parameters","map","p","generateResult","makeNull","makeBoolean","val","makeArray","arr","join","makeObject","obj","mapObject","key","makeString","str","JSON","stringify","makeNumber","num","Array","isArray","mapObjectValues","hasComment","newLine","generateMetadataEntry","args","onExporter","filter","newArgs","from_node","var","from_parameter","fnName","resolveArguments","callback","getArgument","getCallbackParameters","execute","replacement","generateCallback","ordered","arguments","async","resolveCallback","orderArguments","getProcessGraph","getProcess","orderedArgs","param","optional","definedValueFound","i","pop","prefix","String","match","getTab","addCode","tabs","repeat","lines","trim","split","line","count","getServerUrl","params","getProcessParameters","getResultNode","validate","reset","executeNodes","getStartNodes","isMath","_isMath","getAttribute","attributeName","outer","pattern","re","RegExp","exec","QuickLRU","Map","maxSize","TypeError","maxAge","Number","POSITIVE_INFINITY","onEviction","cache","oldCache","_size","item","expiry","Date","now","delete","deleted","_deleteIfExpired","_getOrDeleteIfExpired","get","_getItemValue","set","_emitEvictions","_set","has","_moveToRecent","undefined","_peek","clear","newSize","items","_entriesAscending","removeCount","slice","Symbol","iterator","size","oldCacheSize","keys","Math","min","entriesAscending","callbackFunction","thisArgument","call","toStringTag","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","enumerable","configurable","writable","__spreadValues","a","b","prop","__spreadProps","__objRest","source","exclude","indexOf","normalizeComponent","scriptExports","render2","staticRenderFns2","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","__vue2_script$1","horizontal","Boolean","pushOtherPanes","dblClickSplitter","rtl","firstSplitter","requestUpdate","onPaneAdd","onPaneRemove","onPaneClick","container","ready","panes","touch","mouseDown","dragging","activeSplitter","splitterTaps","splitter","timeoutId","reduce","pane2","forEach","update","indexedPanes","addEventListener","onMouseMove","passive","onMouseUp","removeEventListener","splitterIndex","bindEvents","preventDefault","calculatePanesSize","getCurrentMouseDrag","$emit","max","setTimeout","unbindEvents","clearTimeout","onSplitterDblClick","totalMinSizes","paneId","rect","getBoundingClientRect","clientX","clientY","touches","x","left","y","top","drag","containerSize","sums","prevPanesSize","sumPrevPanesSize","nextPanesSize","sumNextPanesSize","prevReachedMinPanes","nextReachedMinPanes","minDrag","maxDrag","dragPercentage","getCurrentDragPercentage","panesToResize","paneBefore","paneAfter","paneBeforeMaxReached","paneAfterMaxReached","vars","doPushOtherPanes","findPrevExpandedPane","index","findNextExpandedPane","panesCount","total","reverse","find","children","from","child","isPane","classList","contains","isSplitter","parentNode","warn","paneIndex","nextPaneNode","isVeryFirst","elm","onmousedown","onMouseDown","ontouchstart","onclick","onSplitterClick","ondblclick","insertBefore","className","removeSplitter","addSplitter","_a","_b","_uid","entries","$el","some","parseFloat","minSize","splice","isNaN","givenSize","$nextTick","redoSplitters","resetPaneSizes","addedPane","pane3","findIndex","removed","removedPane","changedPanes","equalizeAfterAddOrRemove","equalize","initialPanesSizing","equalSpace","leftToAllocate","ungrowable","unshrinkable","readjustSizes","definedSizes","leftToAllocate2","abs","equalSpaceToAllocate","newPaneSize","allocated","deep","immediate","updatePaneComponents","enable","splitters","querySelectorAll","$refs","checkSplitpanesNodes","ref","$slots","__vue2_render","__vue2_staticRenderFns","__cssModules$1","__component__$1","__vue2_injectStyles$1","o","splitpanes","__vue2_script","inject","__cssModules","__component__","__vue2_injectStyles","pane","model","$$v","searchTerm","collections","collapsed","scopedSlots","_u","fn","supportsLoadCollection","onDrag","showCollectionInfo","hasCollectionPreview","showCollectionPreview","allProcesses","showProcess","namespace","summary","udfRuntimes","supportsRunUdf","runtime","identifier","version","showUdfInfo","fileFormats","supportsSaveResult","showFileFormatInfo","Collections","FileFormats","Processes","SearchBox","UdfRuntimes","onAddProcess","collectionPreview","persist","internalSearchTerm","hasUdfRuntimes","handler","format","getNode","process_id","canSwitchView","showModel","parentSchema","modelValue","showDiscoveryToolbar","defaultValue","onError","proxy","showCode","codeValue","this$1","blocks","hasSelection","deleteSelected","editProcess","addParameter","highlightFormula","showExpressionModal","compactMode","toggleCompact","perfectScale","visualEditor","enabled","isFullScreen","onDrop","allowDrop","processes","errorHandler","editParameter","openArgumentEditor","compact","selectionChanged","historyChanged","ModelBuilder","DiscoveryToolbar","formula","getNameField","description","label","schema","getDescriptionField","subtype","getOptionalField","getDefaultField","toggledBy","getExperimentalField","getDeprecatedField","getSchemaField","minItems","info","additionalProperties","properties","message","http","enum","returns","rel","newData","categories","experimental","deprecated","examples","links","process_graph","js","save","openArgumentEditorForNode","processSpec","selectParameterName","VisualEditor","TextEditor","Tabs","Tab","error","updateTab","activeEditor","KEYWORDS","JavaScript","generateFormula","parse","parsed","variable","builderName","getParent","generateArguments","processId","arg","parameter","paramName","toFormulaString","escaped","toCode","resultNode","nodeToFormula","getArrayElementPlaceholder","getArgumentType","getRawArgument","parentOperator","arrayElement","operator","Formula","reverseOperatorMapping","isArrayData","arrayOperatorMapping","convertValue","refNode","Error","argList","v","strongOps","weakOps","JSON_","isGeoJson","detectGeoJson","indexOfMatch","start","afterStart","relativeEnd","selfClosing","inner","lastIndexOf","object","$defineProperty","string","n","Infinity","RangeError","authenticated","isAuthenticated","showHelp","showServerInfo","resized","splitpaneSizeH","splitpaneSizeV","contextTitle","updateEditor","importProcess","hasProcess","saveProcess","exportCode","validateProcess","login","empty","showViewer","onViewerEmpty","_m","userName","budget","storageUsedPercent","profileLink","settingsLink","logout","apply","registerLink","passwordLink","$config","serverUrl","disconnect","userLinks","_l","link","userInfo","default_plan","paymentLink","formatMegabyte","storageUsed","storage","quota","serverLinks","hasStorage","logoutUser","resetEditor","onShow","onHide","dropZoneInfo","uploadFiles","uploadErrored","uploadProgress","uploadFadeOut","columns","downloadFile","row","deleteFile","singular","plural","loadInitially","DataTable","syncTimer","lastSyncTime","updateData","stopSyncTimer","mapState","mapGetters","mapActions","getTable","table","startSyncTimer","supportsList","setInterval","getSyncInterval","clearInterval","dataRefreshInterval","old","updated","read","exception","nextSyncTime","supportsCreate","isUpdate","setNoData","list","path","primaryKey","sortFn","sort","filterable","modified","actions","uploadProgressPerFile","showUploadDropHint","ev","files","file","percent","finishAllUploads","catch","showJobInfo","supports","estimateJob","isJobInactive","editMetadata","showInEditor","deleteJob","queueJob","isJobActive","cancelJob","mayHaveResults","downloadResults","viewResults","showLogs","slot","createJobFromScript","executeProcess","WorkPanelMixinInstance","WorkPanelMixin","hide","computedValue","edit","status","stylable","created","watchers","jobUpdater","runId","timeout","buttons","action","abortController","toast","level","jobCreated","getTitleField","getBillingPlanField","getBudgetField","normalizeToDefaultData","executeWatchers","job","estimate","replaceProcess","updateTitle","processInfo","deleteProcess","addProcessFromScript","getIdField","fields","store","normalize","addProcess","serviceInfo","deleteService","isMapServiceSupported","viewService","createServiceFromScript","serviceCreated","getServiceTypeField","getEnabledField","getConfigField","service","toggleEnabled","FilePanel","JobPanel","CustomProcessPanel","ServicePanel","showJobs","showServices","showCustomProcesses","showFiles","tab","onTabsEmpty","logViewerIcons","isCollectionPreview","_g","isFormat","BrowserImage","img","Image","crossOrigin","src","CSV","delim","array","parseCSV","col","quote","c","cc","nc","NativeType","TSV","FormatRegistry","createFilesFromSTAC","stac","resource","values","assets","createFileFromAsset","createFilesFromBlob","Blob","URL","createObjectURL","mime","contentType","DataViewer","TableViewer","ImageViewer","LogViewer","MapViewer","tabTitleCounter","tabIdCounter","nextTabId","collection","preview","bbox","showWebService","faIcon","selectTab","closeTabWithLogs","closeTab","showSyncResults","showJobResults","showMapViewer","uniqueTitle","makeTitle","Editor","Logo","Viewer","UserMenu","UserWorkspace","Splitpanes","Pane","resizeListener","userInfoUpdater","supportsJobUpdate","supportsServiceUpdate","supportsUserProcessUpdate","saveSupported","validateSupported","errors","showDataForm"],"mappings":"kHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAMP,EAAIQ,gBAAgB,CAACJ,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAEN,EAAS,MAAEI,EAAG,SAAS,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,UAAUX,EAAIY,KAAKR,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,QAAQ,CAAEN,EAAY,SAAEI,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,MAAQ,qCAAqCC,GAAG,CAAC,MAAQd,EAAIe,eAAe,CAACX,EAAG,IAAI,CAACE,YAAY,kBAAkBN,EAAIY,KAAKZ,EAAIgB,GAAG,iBAAiB,GAAIhB,EAAY,SAAEI,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,UAAYb,EAAIiB,QAAQ,MAAQ,sBAAsBH,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAImB,OAAOC,UAAU,CAAChB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,UAAYb,EAAIqB,QAAQ,MAAQ,6BAA6BP,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAImB,OAAOG,UAAU,CAAClB,EAAG,IAAI,CAACE,YAAY,sBAAsBN,EAAIgB,GAAG,iBAAiB,GAAGhB,EAAIY,KAAKR,EAAG,mBAAmB,CAACS,MAAM,CAAC,QAAUb,EAAIuB,WAAWvB,EAAIgB,GAAG,YAAY,KAAKZ,EAAG,MAAM,CAACE,YAAY,mBAAmBO,MAAM,CAAC,GAAKb,EAAIwB,SAC/mCC,EAAkB,G,wMC4CtBC,OAAOA,SAAWA,IAEH,OACfC,kBACAC,YACAC,yBAEAC,OACAN,UACAO,UACAC,aACAC,YAEAC,OACAC,aAEAC,UACAJ,YACAC,cAEAI,aACAL,YACAC,YAEAtB,OACAqB,cAGAM,aACA,iCACA9B,iBACA,sEAEA+B,gBACA,OACAC,aACAC,eACAC,kBACAC,iBACAC,qBACAC,wBACAR,8BAEA,4BACA,QACAS,qBACA,MACA,aACAA,uBACA,MACA,WACAA,4BACA,MACA,eACAA,yBACAA,kBACA,MACA,iBACAA,yBACA,MACA,WACA,mBACAA,0BACAA,sCACAA,UACA,MAEA,WAGAC,OACA,OACA9B,WACAI,WACAF,YACA6B,qBACAzB,eAGA0B,OACA,cACA,8BACA,qBACA,6BAGAV,gBACA,gCACA,+CAEA,uBAGAW,UACA,qEACA,iCACA,sCACA,gDAEA,qBAGA,iCACA,IAEA,8DACA,cAEA,SACA,yBAIA,uBAEAC,SACApC,eACA,gEACA,IACA,gBACA,kBAGAqC,cAEA,8DAEA,yCACA,sBACA,sBAEA,sBAEA,uBAEAC,SACA,6BACA,4BACA,WACA,6CACA,mBACA,MACA,oBACA,qBACA,8CAGA,OAFAC,eACAA,UACA,cAGA,uBACA,WACA,SACA,yBAGA,gBAEA,QACA,sBAGAC,QACA,iBACA,uBAEAC,eAIA,GAHA,sBACAC,aAEA,GAEA,+BACA,UACA,oCACA,wBACA,yCAIA,iCAGAC,gBACA,cACA,4BACA,mBACA,4BACA,2EAGA,gBAEA,MACA,WACA,2EACA,MACA,QACA,6BAIA,gBAEA,oCACA,oBAGAC,iBACA,IACA,yCACA,SACAC,6BCjQoV,I,kCCShVC,EAAY,eACd,EACA9D,EACA0B,GACA,EACA,KACA,WACA,MAIa,OAAAoC,E,6CCpBf,W,2DCAA,sHAEO,MAAMC,EAEZC,YAAYC,GACXC,OAAOC,OAAOjE,KAAM+D,GACpB/D,KAAKkE,QAAU,KAGhBC,WAAWD,GACVlE,KAAKkE,QAAUA,EAGhBE,aACC,OAAOpE,KAAKkE,QAGbG,SACC,OAAOrE,KAAKsE,KAGbC,WACC,OAAO,EAGRC,WACC,OAAO,EAGRC,SAASC,EAAW,MACnB,IAAIC,EAAWC,SAASC,cAAc,KACtCF,EAASG,MAAMC,QAAU,OACzBJ,EAASL,KAAOtE,KAAKqE,SACrBM,EAASK,aAAa,WAAYN,GAAuBf,OAAMsB,aAAa,SAAUjF,KAAK+B,OAC1D,qBAAtB4C,EAASF,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iKACAnX,YACAqX,QACA7jB,gBAEAC,aAGAgkB,mBACA,OACA/jB,QACAP,eACAikB,sBACAD,+GACAO,qBACA1X,YACAqX,YAGAM,wBACA,OACAjkB,QACAP,oBACAikB,qBACAD,wGACAnX,YACAqX,QACA7jB,gBAEAC,aAGAmkB,sBACA,OACAlkB,QACAP,kBACAikB,mBACAD,qJACAnX,YACAqX,QACA7jB,gBAEAC,aAGAokB,4CACA,wCACA,OACAnkB,QACAP,OACAikB,QACAD,mDACAE,QACA,CACAllB,yBACAqB,cACA+jB,WAEA,CACAplB,4BACAqB,aACAskB,WACA/T,OACAvQ,cACA+jB,eAMA3B,eACA7a,0BACA,8CACA,OACA,6BACA,CACArH,gBACAP,eACAgkB,4FACAC,gBACApX,YACAqX,QACA7jB,gBAGA,2CACA,CACAE,mBACAP,kBACAikB,mBACApX,YACAqX,QACA7jB,aACAuQ,OACAvQ,iBAIA,0CACA,sCACA,CACA4jB,mBACAD,qFACAY,SAEA,8FACA,0EACA,CACArkB,mBACAP,kBACAgkB,8QACAC,eACApX,YACAqX,QACA7jB,cACAwkB,sBACAxkB,cACAG,UACA,WAEAskB,YACAC,SACA/lB,sBACAqB,eAEA2jB,aACAhlB,oBACAqB,cACA+jB,sBAEAY,MACAhmB,yBACAqB,eACA4kB,MACA,IACA,IACA,UAOA,CACA1kB,iBACAP,gBACAikB,iBACAD,gIACAnX,YACAqX,QACA7jB,aACAuQ,OACAvQ,cACAG,UACA,aAEAskB,YACA9lB,OACAA,cACAqB,eAEArB,OACAA,oBACAqB,cACA+jB,sBAEA/X,WACArN,kBACAqB,cACAC,YAEA4kB,SACAlmB,0BAMA,CACAuB,cACAP,aACAikB,cACAD,4EACAnX,YACAqX,QACA7jB,aACAuQ,OACAvQ,cACAG,UACA,OACA,OAEAskB,YACAliB,MACA5D,YACAqB,eAEA8kB,KACAnmB,iBACAglB,2HACA3jB,cACAC,iBAEAtB,OACAA,cACAqB,eAEAA,MACArB,mBACAglB,kHACA3jB,oBAOA,oDACA,uIACA,8DACA+kB,WACApB,kCACAE,0BAIA,mCACA,wBACA,SACArkB,MACAsgB,WACA6D,eACAqB,cACAC,gBACAC,cACAC,YACAC,SACAC,kBAGA,eACA,iCACA,KAGA,kBAGAhD,eACA,OACA,oBACA,2BACA,wBACA,uBACA,4BACA,0BACA,uBAEA,qDACA,iDACA,uCAIAa,2CACA,OACA,0BACA,wCACA,kCACA,gCACA,0CACA,sCACA,+BAEA,iCAEAX,sBACA,+DACA+C,4EACA,IACAA,UACA,OACA/d,WAEA,GACAge,uBAEA,6CACA,SACA3jB,2BAGA4jB,6BACA,mCACA,qBACA,+CACA,wBACAC,4EACAhe,YACAge,MACA,EACA,KACA1kB,IACAkB,iBAAA+J,cACA,kBAIAmX,2DACA,OACAxkB,QACA2K,aACAvI,OACAhB,WACA2lB,sBACA1R,UAEA,KACA,wBACAjP,UAEA,6CAEAhG,eACA,iEACA,GACA,cAGAsR,QACA,mBACA,0BAEA,mBAEA1O,+BACA,IACA,kDACA,kBACA,4BACAke,QAEA,2DACA,SACAje,2BAGA,0BACA,uCACAyjB,iBACA,CACAhV,aCvjBsV,I,wBCQlVxO,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,oBCKA,GACflC,cACAC,YACA+lB,eACAC,kBACAC,kBACAC,kBAEAhmB,OACAN,IACAQ,YACAC,kCAEAF,UACAC,aACAC,YAEAC,OACAF,YACAC,kBAEAtB,OACAqB,aAEAgU,QACAhU,YACAC,cAEAuhB,cACAxhB,YACAC,cAEAyhB,sBACA1hB,aACAC,YAEA0hB,iBAEA1gB,OACAf,QACA,mBAGAa,OACA,OACA0gB,gBACAM,eACAgE,aAGA7kB,UACA,kBAEAC,YACA,mCACAogB,YACA,gBACA,4BAEAO,WACA,gBACA,0BACA,uCAEAkE,YACA,4CACA,gBAGA,kBAGA3kB,UACA,gBACA,uBAEAugB,WACA,cAEAqE,eACA,kDACA,wBAGA,yBAGA,uBACA,UACA,kBAAAzmB,gBAAAqgB,wBACA,qCACA,SACAje,2BAGA0f,gBACA,0CACA1f,2DACA,MC1HgV,ICQ5U,G,UAAY,eACd,EACA7D,EACA0B,GACA,EACA,KACA,KACA,OAIa,e,+HCff,MAAMymB,EAAW,CAChB,WACA,YACA,QACA,UACA,QACA,OACA,OACA,QACA,OACA,QACA,QACA,WACA,WACA,UACA,SACA,KACA,SACA,OACA,OACA,OACA,SACA,UACA,QACA,QACA,UACA,QACA,MACA,WACA,OACA,KACA,aACA,SACA,KACA,aACA,MACA,YACA,MACA,OACA,SACA,MACA,OACA,UACA,UACA,YACA,SACA,SACA,QACA,SACA,QACA,SACA,eACA,OACA,QACA,SACA,YACA,OACA,MACA,SACA,MACA,OACA,WACA,QACA,OACA,QAEA,UACA,aACA,UACA,SACA,UAGc,MAAMC,UAAmBxe,OAEvC5F,YAAYwF,EAASM,EAAUtE,EAAY6iB,GAAkB,GAC5DphB,MAAMuC,EAASM,EAAUtE,GACzBtF,KAAKmoB,gBAAkBA,EAGxBhe,2BAA2Bb,GAC1B,IAAIjG,EAAK,IAAI6kB,EAAW5e,EAAStJ,KAAKoK,gBAAiBpK,KAAKqK,yBAA0BrK,KAAKmoB,iBAC3F,OAAOnoB,KAAKsK,mCAAmCjH,GAGhD+kB,QACKpoB,KAAKqoB,QAGTthB,MAAMqhB,QAGP1d,cACC,OAAOud,EAGRpd,QAAQA,GACP7K,KAAK+O,QAAQlE,EAAS,OAGvBC,kBACC9K,KAAK+O,QAAS,wDAGfhE,qBACC/K,KAAK+O,QAAS,0CAAyC/O,KAAKuP,qBAG7DvE,yBACChL,KAAK6K,QAAS,wDAGfI,kBACCjL,KAAK+O,QAAS,kDAGfjC,sBAAsBZ,EAAKjK,GAC1BjC,KAAK+O,QAAS,WAAU7C,OAASlM,KAAK4H,EAAE3F,OAGnB,uBAACuH,GACtB,IAAI8e,EAAWtoB,KAAKoN,IAAI5D,EAAKjI,IACzBgnB,EAAc/e,EAAKgf,YAAc,OAAS,UAC1Czb,QAAa/M,KAAKyoB,kBAAkBjf,GAAOA,EAAKoY,WAGpD,GADA5hB,KAAK6K,QAAQrB,EAAKkc,aACd/hB,OAAMkG,SAASkD,GAAO,CACzB,IAAI2b,EAAYlf,EAAKoY,UAAa,GAAEpY,EAAK4Z,cAAc5Z,EAAKoY,YAAcpY,EAAK4Z,WAC/EpjB,KAAK+O,QAAS,OAAMuZ,OAAcC,cAAwBG,OAAe1oB,KAAK4H,EAAEmF,aAGhF/M,KAAK+O,QAAS,OAAMuZ,OAAcC,KAAe/e,EAAK4Z,cAAcrW,EAAKzB,IAAIqd,GAAO3oB,KAAK4H,EAAE+gB,IAAM7c,KAAK,WAIxGX,yBAAyByd,GACxB5oB,KAAK6K,QAAQ+d,EAAUlD,aACvB,IAAImD,EAAY7oB,KAAKoN,IAAIwb,EAAUlnB,KAAM,SACrCO,EAAqC,qBAAtB2mB,EAAU5mB,QAA0B4mB,EAAU5mB,QAAU,KAC3EhC,KAAK+O,QAAS,OAAM8Z,OAAe7oB,KAAK4H,EAAE3F,OAGrB,uBAACuL,EAAUnC,EAAYid,GAC5C,GAAItoB,KAAKmoB,iBAAmB3a,GAAYA,EAASuC,SAAU,CAC1D,IAAIyV,EAAUhY,EAASsb,kBACnBC,EAAU1c,KAAKC,UAAUkZ,GAC7B,MAAQ,eAAcuD,KAElB,CACJ,IAAIvZ,EAASxP,KAAKoL,uBAAuBC,GACzCrL,KAAK6M,UACL7M,KAAK+O,QAAS,OAAMuZ,gBAAuB9Y,EAAO1D,KAAK,YACvD9L,KAAK8J,SACL9J,KAAK+O,cAAcvB,EAASwb,QAAO,IACnChpB,KAAK8J,SACL9J,KAAK+O,QAAS,MAIhBvD,eAAeyd,EAAYzb,GAC1B,IAAKyb,EACJ,OAED,IAAIX,EAAWtoB,KAAKoN,IAAI6b,EAAW1nB,IAC/BiM,EACHxN,KAAK+O,QAAS,UAASuZ,MAGvBtoB,KAAK+O,QAAS,+CAA8CuZ,OAI9DQ,kBACC,OAAI9oB,KAAK+P,SACD/P,KAAKkpB,cAAclpB,KAAK0P,iBAGxB,GAITyZ,2BAA2B3f,GAC1B,GAAwB,kBAApBA,EAAK4Z,YAC6B,cAAjC5Z,EAAK4f,gBAAgB,QAAyB,CACjD,IAAIR,EAAYpf,EAAK6f,eAAe,QAAQhc,eACxCkO,EAAQvb,KAAK0N,wBAAwB0Q,UAAU9P,GAASA,EAAM5M,OAASknB,GAC3E,GAAIrN,GAAS,EACZ,MAAO,IAAItM,OAAOsM,EAAM,IAAM/R,EAAKiE,YAAY,UAAYjE,EAAKiE,YAAY,UAI/E,OAAO,KAGRyb,cAAc1f,EAAM8f,EAAiB,MACpC,GAAwB,kBAApB9f,EAAK4Z,WAAgC,CACxC,IAAImG,EAAevpB,KAAKmpB,2BAA2B3f,GACnD,GAAI+f,EACH,OAAOA,EAIT,IAAIC,EAAWC,aAAQC,uBAAuBlgB,EAAK4Z,YAC/C9Z,EAAUtJ,KAAKoK,gBAAgBuH,IAAInI,EAAK4Z,YACxCuG,EAAwE,qBAAlDF,aAAQG,qBAAqBpgB,EAAK4Z,YAExDyG,EAAe5nB,IAClB,GAAI0B,OAAMkG,SAAS5H,GAClB,GAAIA,EAAMkL,UAAW,CACpB,IAAI2c,EAAUtgB,EAAK2E,kBAAkBgV,QAAQlhB,EAAMkL,WAElDlL,EADG6nB,EACK9pB,KAAKkpB,cAAcY,EAASN,GAG5B,IAAMvnB,EAAMkL,cAGjB,KAAIlL,EAAMoL,eAId,MAAM,IAAI0c,MAAM,uBAHhB9nB,EAAQA,EAAMoL,eAMhB,OAAOpL,GAIJ+nB,EAAU,GACVxa,EAAS/C,MAAMC,QAAQpD,EAAQ+B,YAAc/B,EAAQ+B,WAAa,GACtE,IAAI,IAAIud,KAAapZ,EAAQ,CAC5B,IAAIvN,EAAQ4nB,EAAargB,EAAK6f,eAAeT,EAAUlnB,OAEvD,GAAIioB,GAAeld,MAAMC,QAAQzK,IAA6B,SAAnB2mB,EAAUlnB,KAAiB,CACrEsoB,EAAU/nB,EAAMqJ,IAAI2e,GAAKJ,EAAaI,IACtC,MAEI,GAAoB,qBAAVhoB,EACd+nB,EAAQlhB,KAAK7G,OAET,IAAgC,qBAAtB2mB,EAAU5mB,QAIxB,MAAM,IAAI+nB,MAAM,2BAA6BnB,EAAUlnB,KAAO,aAH9DsoB,EAAQlhB,KAAK8f,EAAU5mB,UAYzB,GAJI2nB,IACHK,EAAUA,EAAQ/c,OAAOgd,GAAW,OAANA,IAG3BT,EAAU,CACb,IAAIU,EAAY,CAAC,IAAK,KAClBC,EAAU,CAAC,IAAK,KAChB3E,EAAUwE,EACZ1e,IAAI2e,GAAKA,EAAI,EAAI,IAAMA,EAAI,IAAMA,GACjCne,KAAK0d,GAGP,OAEEF,GAEGa,EAAQxf,SAAS2e,IAAmBa,EAAQxf,SAAS6e,IAIzC,MAAbA,GAECW,EAAQxf,SAAS2e,IAAmBY,EAAUvf,SAAS6e,GAEpDhE,EAGA,IAAMA,EAAU,IAIxB,OAAOhc,EAAK4Z,WAAa,IAAM4G,EAAQle,KAAK,MAAQ,O,yDC5RvD,4BAGA,MAAMse,UAAcxjB,OAEnB9C,YAAYC,EAAOH,EAAY,cAC9BmD,MAAMhD,EAAOH,GAEb5D,KAAKqqB,WAAY,EAIH,gBAACvnB,GACf,GAAoB,kBAATA,EACV,IACCA,EAAOuJ,KAAK+b,MAAMtlB,GAEnB,MAAOglB,GACN/e,QAAQC,IAAI8e,GAQd,OALInkB,OAAM2mB,cAAcxnB,KACvB9C,KAAKqqB,WAAY,EACjBrqB,KAAK4D,UAAY,YACjB5D,KAAK6G,KAAO,UAEN/D,GAIMsnB,U,4CC9Bf,MAAMG,EAAe,EAAQ,QAE7B,SAASliB,EAAcE,EAAKC,EAAS3F,GACnC,MAAM6F,EAAS7F,GAAWA,EAAQ6F,QAAU,EAEtCE,EAAc/F,GAAWA,EAAQ+F,YAAe,EAElDF,GAAOK,QAAQC,IAAI,8BAA+BR,EAAS,QAAS3F,GAExE,MAAM2nB,EAAQD,EAAahiB,EAAK,IAAKC,QAAgBI,GAErD,GADIF,GAAOK,QAAQC,IAAI,SAAUwhB,IAClB,IAAXA,EAAc,OAElB,MAAMC,EAAaliB,EAAIkK,MAAM+X,EAAQhiB,EAAQS,QAC7C,IAAIyhB,EAAcH,EAAaE,EAAY,OAASjiB,EAAU,IAAK,GACnE,MAAMmiB,GAA+B,IAAjBD,EAEhBC,IACFD,EAAcH,EAAaE,EAAY,QAAS,IAGlD,MAAM5hB,EAAM2hB,EAAQhiB,EAAQS,OAASyhB,EAAc,GAAKC,EAAc,EAAIniB,EAAQS,QAAU,EAE5F,GADIP,GAAOK,QAAQC,IAAI,OAAQH,IAClB,IAATA,EAAY,OAEhB,MAAMsH,EAAQ5H,EAAIkK,MAAM+X,EAAO3hB,GAG/B,IAAI+hB,EAOJ,OALEA,EADED,EACM,KAEAxa,EAAMsC,MAAMtC,EAAM4E,QAAQ,KAAO,EAAG5E,EAAM0a,YAAY,MAGzD,CAAED,QAAOza,QAAOqa,QAAO3hB,OAGhCK,EAAOC,QAAUd,G;;ACrCZuG,OAAOmF,UAAU9E,QACpB,WACA,aACA,IAAIsE,EAAkB,WAErB,IACC,IAAIuX,EAAS,GACTC,EAAkB/mB,OAAOuP,eACzBhN,EAASwkB,EAAgBD,EAAQA,EAAQA,IAAWC,EACvD,MAAMjD,IACR,OAAOvhB,EAPa,GASjB0I,EAAS,SAASK,GACrB,GAAY,MAARtP,KACH,MAAM2Q,YAEP,IAAIqa,EAASpc,OAAO5O,MAEhBirB,EAAI3b,EAAQuB,OAAOvB,GAAS,EAKhC,GAJI2b,GAAKA,IACRA,EAAI,GAGDA,EAAI,GAAKA,GAAKC,IACjB,MAAMC,aAEP,IAAI5kB,EAAS,GACb,MAAO0kB,EACFA,EAAI,GAAK,IACZ1kB,GAAUykB,GAEPC,EAAI,IACPD,GAAUA,GAEXC,IAAM,EAEP,OAAO1kB,GAEJgN,EACHA,EAAe3E,OAAOmF,UAAW,SAAU,CAC1C,MAAS9E,EACT,cAAgB,EAChB,UAAY,IAGbL,OAAOmF,UAAU9E,OAASA,EA5C5B,I,gECFD,IAAInP,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,YAAY,CAACT,EAAG,MAAM,CAACG,MAAM,CAAC8qB,cAAerrB,EAAIsrB,iBAAiBzqB,MAAM,CAAC,GAAK,QAAQ,CAACT,EAAG,SAAS,CAACE,YAAY,UAAU,CAACF,EAAG,QAAQA,EAAG,KAAK,CAACS,MAAM,CAAC,GAAK,SAAS,CAACT,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,WAAWO,MAAM,CAAC,MAAQ,uBAAuBC,GAAG,CAAC,MAAQd,EAAIurB,WAAW,CAACnrB,EAAG,IAAI,CAACE,YAAY,0BAA0BN,EAAIS,GAAG,aAAaL,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,WAAWO,MAAM,CAAC,MAAQ,0BAA0BC,GAAG,CAAC,MAAQd,EAAIwrB,iBAAiB,CAACprB,EAAG,IAAI,CAACE,YAAY,sBAAsBN,EAAIS,GAAG,eAAeL,EAAG,KAAK,CAACA,EAAG,aAAa,MAAM,GAAGA,EAAG,aAAa,CAACE,YAAY,gBAAgBQ,GAAG,CAAC,OAASd,EAAIyrB,QAAQ,gBAAgBzrB,EAAIyrB,UAAU,CAACrrB,EAAG,OAAO,CAACS,MAAM,CAAC,GAAK,YAAY,KAAOb,EAAI0rB,eAAe,KAAK,CAACtrB,EAAG,mBAAmB,CAACE,YAAY,6BAA6BO,MAAM,CAAC,aAAeb,EAAI2D,cAAc,mBAAoB,EAAK,SAAU,MAAS,GAAGvD,EAAG,OAAO,CAACS,MAAM,CAAC,GAAK,YAAY,KAAOb,EAAI0rB,eAAe,KAAK,CAACtrB,EAAG,aAAa,CAACE,YAAY,gBAAgBO,MAAM,CAAC,WAAa,IAAIC,GAAG,CAAC,OAASd,EAAIyrB,QAAQ,gBAAgBzrB,EAAIyrB,UAAU,CAACrrB,EAAG,OAAO,CAACS,MAAM,CAAC,GAAK,SAAS,KAAOb,EAAI2rB,eAAe,KAAK,CAACvrB,EAAG,SAAS,CAAC2f,IAAI,SAASzf,YAAY,6BAA6BO,MAAM,CAAC,GAAK,OAAO,MAAQb,EAAIuJ,QAAQ,MAAQvJ,EAAI4rB,cAAc9qB,GAAG,CAAC,MAAQd,EAAI6rB,cAAc1K,YAAYnhB,EAAIohB,GAAG,CAAC,CAACjV,IAAI,eAAekV,GAAG,WAAW,MAAO,CAACjhB,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,MAAQ,uCAAuCC,GAAG,CAAC,MAAQd,EAAI8rB,gBAAgB,CAAC1rB,EAAG,IAAI,CAACE,YAAY,gCAAgCF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAiB,cAAEoH,WAAW,kBAAkBvG,MAAM,CAAC,KAAO,SAAS,UAAYb,EAAI+rB,WAAW,MAAQ,WAAa/rB,EAAI4rB,cAAc9qB,GAAG,CAAC,MAAQd,EAAIgsB,cAAc,CAAC5rB,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,UAAYb,EAAI+rB,WAAW,MAAQ,4CAA4CjrB,GAAG,CAAC,MAAQd,EAAIisB,aAAa,CAAC7rB,EAAG,IAAI,CAACE,YAAY,yBAAyBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAqB,kBAAEoH,WAAW,sBAAsBvG,MAAM,CAAC,KAAO,SAAS,UAAYb,EAAI+rB,WAAW,MAAQ,mCAAmCjrB,GAAG,CAAC,MAAQd,EAAIksB,kBAAkB,CAAC9rB,EAAG,IAAI,CAACE,YAAY,qBAAqBujB,OAAM,QAAW,GAAGzjB,EAAG,OAAO,CAACS,MAAM,CAAC,GAAK,OAAO,KAAOb,EAAI2rB,eAAe,KAAK,CAAE3rB,EAAmB,gBAAEI,EAAG,gBAAgB,CAACE,YAAY,mCAAmCF,EAAG,MAAM,CAACE,YAAY,eAAeO,MAAM,CAAC,MAAQ,mDAAmD,CAACT,EAAG,IAAI,CAACE,YAAY,uBAAuBF,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACA,EAAG,IAAI,CAACU,GAAG,CAAC,MAAQd,EAAImsB,QAAQ,CAACnsB,EAAIS,GAAG,cAAcT,EAAIS,GAAG,kDAAkD,IAAI,IAAI,GAAGL,EAAG,OAAO,CAACG,MAAM,CAAC6rB,OAAQpsB,EAAIqsB,YAAYxrB,MAAM,CAAC,GAAK,SAAS,KAAOb,EAAI0rB,eAAe,KAAK,CAACtrB,EAAG,SAAS,CAACE,YAAY,kBAAkBQ,GAAG,CAAC,MAAQd,EAAIssB,kBAAkB,IAAI,IAAI,MAC9+F7qB,EAAkB,G,wBCDlB,EAAS,WAAa,IAAIzB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,aAAa,CAACT,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIusB,GAAG,GAAGnsB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgBN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIwsB,aAAcxsB,EAAU,OAAEI,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACF,EAAG,IAAI,CAACE,YAAY,6BAA6BN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIysB,WAAWzsB,EAAIY,KAAMZ,EAAc,WAAEI,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACF,EAAG,IAAI,CAACE,YAAY,0BAA0BN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAI0sB,oBAAoB,YAAY1sB,EAAIY,SAASR,EAAG,MAAM,CAACE,YAAY,YAAY,CAAEN,EAAe,YAAEI,EAAG,IAAI,CAACE,YAAY,OAAOO,MAAM,CAAC,KAAOb,EAAI2sB,YAAYpoB,KAAK,OAAS,WAAW,CAACvE,EAAIS,GAAG,YAAYT,EAAIU,GAAGV,EAAIwsB,UAAU,OAAOpsB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIS,GAAG,YAAYT,EAAIU,GAAGV,EAAIwsB,UAAU,OAAQxsB,EAAmB,gBAAE,CAAEA,EAAgB,aAAEI,EAAG,IAAI,CAACE,YAAY,OAAOO,MAAM,CAAC,KAAOb,EAAI4sB,aAAaroB,KAAK,OAAS,WAAW,CAACnE,EAAG,IAAI,CAACE,YAAY,qBAAqBN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAI4sB,aAAajsB,OAAS,mBAAmBX,EAAIY,KAAKR,EAAG,IAAI,CAACE,YAAY,OAAOQ,GAAG,CAAC,MAAQ,SAASI,GAAgC,OAAxBA,EAAO6X,iBAAwB/Y,EAAI6sB,OAAOC,MAAM,KAAM9e,cAAc,CAAC5N,EAAG,IAAI,CAACE,YAAY,wBAAwBN,EAAIS,GAAG,cAAc,CAACL,EAAG,IAAI,CAACE,YAAY,OAAOQ,GAAG,CAAC,MAAQ,SAASI,GAAgC,OAAxBA,EAAO6X,iBAAwB/Y,EAAImsB,MAAMW,MAAM,KAAM9e,cAAc,CAAC5N,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIS,GAAG,YAAaT,EAAgB,aAAEI,EAAG,IAAI,CAACE,YAAY,OAAOO,MAAM,CAAC,KAAOb,EAAI+sB,aAAaxoB,KAAK,OAAS,WAAW,CAACnE,EAAG,IAAI,CAACE,YAAY,qBAAqBN,EAAIS,GAAG,eAAeT,EAAIY,KAAMZ,EAAgB,aAAEI,EAAG,IAAI,CAACE,YAAY,OAAOO,MAAM,CAAC,KAAOb,EAAIgtB,aAAazoB,KAAK,OAAS,WAAW,CAACnE,EAAG,IAAI,CAACE,YAAY,eAAeN,EAAIS,GAAG,0BAA0BT,EAAIY,MAAQZ,EAAIitB,QAAQC,UAAgNltB,EAAIY,KAAzMR,EAAG,IAAI,CAACE,YAAY,OAAOQ,GAAG,CAAC,MAAQ,SAASI,GAAgC,OAAxBA,EAAO6X,iBAAwB/Y,EAAImtB,WAAWL,MAAM,KAAM9e,cAAc,CAAC5N,EAAG,IAAI,CAACE,YAAY,wBAAwBN,EAAIS,GAAG,iBAA2BT,EAAIotB,UAAUlkB,OAAS,EAAG,CAAC9I,EAAG,MAAMJ,EAAIqtB,GAAIrtB,EAAa,WAAE,SAASstB,EAAKnhB,GAAK,OAAO/L,EAAG,IAAI,CAAC+L,IAAIA,EAAI7L,YAAY,OAAOO,MAAM,CAAC,KAAOysB,EAAK/oB,KAAK,OAAS,SAAS,IAAM+oB,EAAKxG,MAAM,CAAC9mB,EAAIS,GAAGT,EAAIU,GAAG4sB,EAAK3sB,cAAaX,EAAIY,KAAMZ,EAAIysB,QAAUzsB,EAAIutB,SAASC,cAAgBxtB,EAAIytB,YAAa,CAACrtB,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIS,GAAG,aAAcT,EAAIutB,SAAqB,aAAEntB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIS,GAAG,SAAST,EAAIU,GAAGV,EAAIutB,SAASC,iBAAiBxtB,EAAIY,KAAMZ,EAAU,OAAEI,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIS,GAAG,WAAWT,EAAIU,GAAGV,EAAIysB,WAAWzsB,EAAIY,OAAQZ,EAAe,YAAEI,EAAG,IAAI,CAACE,YAAY,OAAOO,MAAM,CAAC,KAAOb,EAAIytB,YAAYlpB,KAAK,OAAS,WAAW,CAACnE,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIytB,YAAY9sB,OAAS,eAAeX,EAAIY,MAAMZ,EAAIY,KAAMZ,EAAc,WAAE,CAACI,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIS,GAAG,aAAaL,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACN,EAAIS,GAAG,QAAQT,EAAIU,GAAGV,EAAI0tB,eAAe1tB,EAAI2tB,cAAc,OAAO3tB,EAAIU,GAAGV,EAAI0tB,eAAe1tB,EAAIutB,SAASK,QAAQC,QAAQ,OAAOztB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOyE,MAAO,UAAY/E,EAAI0sB,mBAAqB,WAAY1sB,EAAIY,MAAM,MACzuG,EAAkB,CAAC,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,4BCqD9I,GACfqB,gBACA4F,gBACAjF,aACA,mDACA,+CACA8qB,YACA,gGAEAU,cACA,uDAEAf,eACA,wDAEAC,eACA,0DAEAJ,eACA,mGAEAa,cACA,iGAEAd,cACA,mGAEAoB,aACA,4IAEAtB,SACA,gEAEAD,WACA,2CACA,mBAEA,wCACA,sBAEA,qBACA,OAGA,SAGAmB,cACA,uBAGA,uDAFA,MAIAjB,qBACA,uBAGA,6DAFA,OAKAvpB,YACA,mBAAA6qB,yBACA,8BAAAC,sBACA,qBACA,oBACArqB,sCAEA,yBACA,oBACA,mBACAlC,qCAEAyqB,QACA,wBAEAuB,kBACA,iBACA,WACA,sBAGA,+BCvIkV,I,wBCQ9U7pB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAI7D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAAC2f,IAAI,OAAOlf,MAAM,CAAC,GAAK,gBAAgB,CAAEb,EAAY,SAAEI,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,OAAO,KAAO,kBAAkB,KAAO,YAAYC,GAAG,CAAC,KAAOd,EAAIkuB,OAAO,KAAOluB,EAAImuB,SAAS,CAAC/tB,EAAG,aAAa,GAAGJ,EAAIY,KAAMZ,EAAgB,aAAEI,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,WAAW,KAAO,eAAe,KAAO,YAAYC,GAAG,CAAC,KAAOd,EAAIkuB,OAAO,KAAOluB,EAAImuB,SAAS,CAAC/tB,EAAG,iBAAiB,GAAGJ,EAAIY,KAAMZ,EAAuB,oBAAEI,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,kBAAkB,KAAO,mBAAmB,KAAO,cAAcC,GAAG,CAAC,KAAOd,EAAIkuB,OAAO,KAAOluB,EAAImuB,SAAS,CAAC/tB,EAAG,uBAAuB,GAAGJ,EAAIY,KAAMZ,EAAa,UAAEI,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,QAAQ,KAAO,QAAQ,KAAO,WAAWC,GAAG,CAAC,KAAOd,EAAIkuB,OAAO,KAAOluB,EAAImuB,SAAS,CAAC/tB,EAAG,cAAc,GAAGJ,EAAIY,MAAM,IAChzB,EAAkB,G,wBCDlB,EAAS,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,aAAaC,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAOlB,EAAIouB,cAAa,IAAO,UAAY,SAASltB,GAAQ,OAAOlB,EAAIouB,cAAa,IAAQ,KAAO,SAASltB,GAAQ,OAAOlB,EAAIquB,YAAYntB,IAAS,SAAW,SAASA,GAAQ,OAAOlB,EAAI+kB,UAAU7jB,MAAW,CAACd,EAAG,MAAM,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAsB,mBAAEoH,WAAW,uBAAuB9G,YAAY,YAAY,CAACN,EAAIS,GAAG,sCAAsCL,EAAG,MAAM,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAkB,eAAEoH,WAAW,mBAAmB9G,YAAY,WAAW,CAACF,EAAG,QAAQ,CAAC2f,IAAI,iBAAiBzf,YAAY,iBAAiBO,MAAM,CAAC,KAAO,OAAO,KAAO,iBAAiB,SAAW,IAAIC,GAAG,CAAC,OAASd,EAAIquB,iBAAiBjuB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAACwnB,MAAO/nB,EAAIsuB,eAAevpB,MAAO,UAAY9E,KAAKsuB,eAAiB,eAAiBtuB,KAAKuuB,kBAAmBpuB,EAAG,YAAY,CAAC2f,IAAI,QAAQlf,MAAM,CAAC,KAAOb,EAAI+C,KAAK,QAAU/C,EAAIyuB,SAAStN,YAAYnhB,EAAIohB,GAAG,CAAC,CAACjV,IAAI,UAAUkV,GAAG,SAAS7V,GAAG,MAAO,CAACpL,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAgB,aAAEoH,WAAW,iBAAiBvG,MAAM,CAAC,MAAQ,YAAYC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI0uB,aAAaljB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAkB,eAAEoH,WAAW,mBAAmBvG,MAAM,CAAC,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI4uB,WAAWpjB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,2BAA2B,IAC1mD,EAAkB,G,YCEP,GAACuhB,EAAWgN,EAAUC,EAAQC,GAAgB,KACrD,CACNntB,WAAY,CACXotB,kBAEDjsB,OACC,MAAO,CACN0rB,QAAS,GACTQ,UAAW,KACXC,aAAc,OAGhBhsB,UACK6rB,GACH9uB,KAAKkvB,cAGPxnB,gBACC1H,KAAKmvB,iBAEN9sB,SAAU,IACNsB,OAAMyrB,SAASxN,EAAW,CAAC9e,KAAM8e,OACjCje,OAAM0rB,WAAWzN,EAAW,CAAC,eAAgB,iBAAkB,eAAgB,iBAAkB,oBAErG1e,QAAS,IACLS,OAAM2rB,WAAW1N,EAAW,CAAC,OAAQ,SAAU,OAAQ,SAAU,WACpE2N,WACC,OAAOvvB,KAAK4f,OAAS5f,KAAK4f,MAAM4P,MAAQxvB,KAAK4f,MAAM4P,MAAQ,MAE5DvB,SACCjuB,KAAKkvB,aACLlvB,KAAKyvB,kBAENvB,SACCluB,KAAKmvB,iBAENM,iBACKzvB,KAAK0vB,cAAmC,OAAnB1vB,KAAKgvB,YAC7BhvB,KAAKgvB,UAAYW,YAAY3vB,KAAKkvB,WAAYlvB,KAAK4vB,qBAGrDT,gBACwB,OAAnBnvB,KAAKgvB,YACRa,cAAc7vB,KAAKgvB,WACnBhvB,KAAKgvB,UAAY,OAGnBY,kBACC,OAAwC,GAAjC5vB,KAAKgtB,QAAQ8C,oBAAuB,KAE5C,qBAAqB9jB,EAAKwB,EAAW,MACpC,IAAIuiB,EAAM/rB,OAAOC,OAAO,GAAI+H,GAC5B,IACC,IAAIgkB,QAAgBhwB,KAAKiwB,KAAK,CAACntB,KAAMkJ,IACb,oBAAbwB,GACVA,EAASwiB,EAASD,GAElB,MAAMjI,GACPnkB,OAAMusB,UAAUlwB,KAAM8nB,EAAO,QAAU8G,EAAW,YAGpD,mBACC,IAAIY,EAAQxvB,KAAKuvB,WACbY,EAAe9e,KAAKC,MAAQtR,KAAK4vB,kBACrC,GAAKJ,KAASxvB,KAAKivB,aAAekB,GAG7B,GAAKnwB,KAAK0vB,aAGV,GAAK1vB,KAAKowB,eAGV,CACJ,IAAIC,EAAWrwB,KAAK8C,KAAKmG,OAAS,EAC7BonB,GACJb,EAAMc,UAAU,WAAazB,EAAS,OAEvC7uB,KAAKivB,aAAe5d,KAAKC,MACzB,IACC,IAAIxO,QAAa9C,KAAKuwB,OACJ,GAAfztB,EAAKmG,QACPumB,EAAMc,UAAU,kBAAoB1B,EAAW,YAE/C,MAAM9G,GACFuI,EAKJtnB,QAAQC,IAAI8e,IAJZnkB,OAAMusB,UAAUlwB,KAAM8nB,GACtB0H,EAAMc,UAAU,sDAhBlBd,EAAMc,UAAU,4DAHhBd,EAAMc,UAAU,yBAA2BzB,EAAS,wCCnD1C,GACfntB,iBACA4F,mCACAxE,OACA,OACA0rB,SACAgC,MACA9uB,YACA+uB,cACAC,yBACAC,YAEA/d,MACAlR,YACAwhB,kBACA0N,eAEAC,UACAnvB,qBACAwhB,oBAEA4N,SACApvB,eACAkvB,cACAD,UAGArC,iBACAyC,yBACA1C,iBACAE,gBACAyC,uBAGAhuB,OACA+tB,uBACAzR,QACA2D,UACA,sGACA,6BACA,2BAKA/f,SACA4hB,aACA,sBACAmM,mBACAA,sBAGA9C,gBACA,iCAEAC,eACA,0BACA,SASA,GARA,mEACA8C,uBACAtpB,mBACAA,qBAEA,kDACAspB,kBAEA,oBAIA,iBAIA,8BACA,sBACA,sBACA,2BACA,6BAPAvtB,wDAJAA,wDAcA,sBAEA,GADA,mCACA,yBAIA,UACA,aAAA0H,YACA8lB,EACA,KACAC,gDAEA,4CACAztB,gDACA,SACAoF,iBACApF,wDAGA0tB,mBACA,mCACA,uBACA,wBACA,uBACA,sBACA,qBACAxB,mBAEA,MAEApB,gBACA0C,wBAEAxC,cACA,+DAGA,aAAA7rB,SACAwuB,MAAAxJ,6DC3ImV,ICQ/U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI/nB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAAC2f,IAAI,QAAQzf,YAAY,WAAWO,MAAM,CAAC,KAAOb,EAAI+C,KAAK,QAAU/C,EAAIyuB,SAAStN,YAAYnhB,EAAIohB,GAAG,CAAC,CAACjV,IAAI,UAAUkV,GAAG,SAAS7V,GAAG,MAAO,CAACpL,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAgB,aAAEoH,WAAW,iBAAiBvG,MAAM,CAAC,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIwxB,YAAYhmB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAIyxB,SAAS,eAAgBrqB,WAAW,4BAA4BvG,MAAM,CAAC,MAAQ,YAAYC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI0xB,YAAYlmB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,iCAAiCF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAkB,eAAEoH,WAAW,mBAAmBvG,MAAM,CAAC,MAAQ,gBAAgB,UAAYb,EAAI2xB,cAAcnmB,EAAEmjB,MAAM7tB,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI4xB,aAAapmB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAgB,aAAEoH,WAAW,iBAAiBvG,MAAM,CAAC,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI6xB,aAAarmB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,6BAA6BF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAkB,eAAEoH,WAAW,mBAAmBvG,MAAM,CAAC,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI8xB,UAAUtmB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAIyxB,SAAS,aAAezxB,EAAI2xB,cAAcnmB,EAAEmjB,KAAMvnB,WAAW,iDAAiDvG,MAAM,CAAC,MAAQ,oBAAoBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI+xB,SAASvmB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,yBAAyBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAIyxB,SAAS,YAAczxB,EAAIgyB,YAAYxmB,EAAEmjB,KAAMvnB,WAAW,8CAA8CvG,MAAM,CAAC,MAAQ,qBAAqBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIiyB,UAAUzmB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,yBAAyBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAIyxB,SAAS,oBAAsBzxB,EAAIkyB,eAAe1mB,EAAEmjB,KAAMvnB,WAAW,yDAAyDvG,MAAM,CAAC,MAAQ,YAAYC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAImyB,gBAAgB3mB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAIyxB,SAAS,oBAAsBzxB,EAAIkyB,eAAe1mB,EAAEmjB,KAAMvnB,WAAW,yDAAyDvG,MAAM,CAAC,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIoyB,YAAY5mB,EAAEmjB,KAAK,MAAS,CAACvuB,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAIyxB,SAAS,YAAarqB,WAAW,yBAAyBvG,MAAM,CAAC,MAAQ,aAAaC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIqyB,SAAS7mB,EAAEmjB,QAAQ,CAACvuB,EAAG,IAAI,CAACE,YAAY,uBAAuB,CAACF,EAAG,WAAW,CAACkyB,KAAK,WAAW,CAAClyB,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAkB,eAAEoH,WAAW,mBAAmBvG,MAAM,CAAC,MAAQ,mCAAmC,UAAYZ,KAAK8rB,YAAYjrB,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIuyB,yBAAyB,CAACnyB,EAAG,IAAI,CAACE,YAAY,gBAAgBN,EAAIS,GAAG,uBAAuBL,EAAG,SAAS,CAAC8G,WAAW,CAAC,CAACvF,KAAK,OAAOwF,QAAQ,SAASjF,MAAOlC,EAAIyxB,SAAS,iBAAkBrqB,WAAW,8BAA8BvG,MAAM,CAAC,MAAQ,iFAAiF,UAAYZ,KAAK8rB,YAAYjrB,GAAG,CAAC,MAAQd,EAAIwyB,iBAAiB,CAACpyB,EAAG,IAAI,CAACE,YAAY,gBAAgBN,EAAIS,GAAG,uBAAuB,IACtsH,EAAkB,G,YC0BtB,MAAMgyB,EAAyBC,EAAe,OAAQ,YAAa,cAEpD,OACf/wB,gBACA4F,kBACAxE,OACA,OACA0rB,SACAjtB,IACAG,UACA+uB,cACAiC,SAEAhyB,OACAgB,iBACAixB,4CACAzP,oCACA0P,uBAEAC,QACAnxB,cACAoxB,aAEAC,SACArxB,iBACAwhB,mBACAyN,aAEAX,SACAtuB,mBACAwhB,oBAEA4N,SACApvB,eACAkvB,cACAD,UAGAqC,YACAC,gBACAC,UAGAjwB,UACA,mDAEAZ,aACA,mCACA,4EACA,8CACA,uCAEAW,OACAF,MACAmgB,oBAEA,iBACA,eACA,yCACA,wBAIA3D,UAGApc,YACA,6CACAusB,iBACA+C,oCACA,uDAEArD,gBACAqD,mCACA,wBACA3C,gCAGA+B,gBACA,sDAEA,uBACA,IAYA,EAZA,2BACA,GACAuB,UACApxB,aACAqxB,UACA5vB,cACA6vB,WACAC,UACA,kCAKA,IACA,aACA,yDACA,+BACA,0BACAC,+BACA,oEACA,8BACA,SACA,oBAGA,iGACA,uBACAhyB,QACAwI,YACAypB,cACA/M,kBACAU,qBAEAxjB,yGAGAA,yCAvBA,QA0BA,GACA,gCAIA8vB,cACA,SACA,8BACAL,QAAA5vB,gBAAA6vB,iCAEA,2BACAD,QAAA5vB,wBAAA6vB,8BAEA,4BACAD,QAAA5vB,cAAA6vB,+BAEA1vB,wEAEA+vB,sBACA,OACAhyB,aACAikB,cACAC,QAAA7jB,eACAC,aACAC,QACAsM,cAGAsX,4BACA,OACAnkB,mBACAikB,oBACAC,QAAA7jB,cAAA+jB,sBACA9jB,aACAC,QACAyjB,gDACAnX,cAGAolB,uBACA,OACAjyB,YACAikB,qBACAC,QAAA7jB,cAAA+jB,wBACA7jB,QACAsM,cAGAqlB,uBACA,OACAlyB,cACAikB,eACAC,QAAA7jB,cAAA+jB,kBACA9jB,aACAC,QACAsM,cAGAslB,0BAaA,MAZA,8EACA/wB,cAEA,gGACAA,oBAEA,2EACAA,aAEA,0EACAA,eAEA,GAEA,qBACA,IACAA,iCACA,yBAAAuI,uDACA,mBACA,SACA1H,8DAGA2uB,sBACA,OACA,qBACA,2BACA,0DACA,iDAEA,sFAEA,mBACA,0FAIA,UACA,aAAAxvB,SACA,iCACA,SACAa,2EAGAmwB,kBACA,2BACA,6CACA,iDACA,SACA,mCACAV,QAAA5vB,gBAAA6vB,qCACAD,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sBACA,OACAhyB,aACAikB,cACAC,QAAA7jB,eACAC,aACAC,QACAsM,cAGAsX,4BACA,OACAnkB,mBACAikB,oBACAC,QAAA7jB,cAAA+jB,sBACA9jB,aACAC,QACAyjB,gDACAnX,cAGA0mB,uBACA,OACAvzB,YACAikB,aACAC,QAAA7jB,cAAA+jB,wBACA7jB,UAGA0xB,uBACA,OACAjyB,YACAikB,qBACAC,QAAA7jB,cAAA+jB,wBACA7jB,QACAsM,cAGAqlB,uBACA,OACAlyB,cACAikB,eACAC,QAAA7jB,cAAA+jB,kBACA9jB,aACAC,QACAsM,cAGA2mB,sBACA,OACAxzB,eACAikB,gBACAC,QAAA7jB,gBACAC,WACAC,QACAsM,cAGA4mB,kBACA,OACAzzB,qBACAikB,8BACAC,QAAA7jB,cAAA+jB,0BACA7jB,QACAsM,cAGAslB,0BAmBA,MAlBA,8EACA/wB,cAEA,gGACAA,oBAEA,+DACAA,cAEA,yEACAA,oBAEA,2EACAA,aAEA,0EACAA,eAEA,GAEA,yBACAA,iCACA,IACA,yBAAAuI,wFACA,uBACA,SACA1H,kEAGAoxB,0BACA,OACA,qBACA,2BACA,2BACA,uBACA,0DACA,gDACA,uBAEA,4FAEApD,gBACA,0BACA,OACA,4BACA,wCACA,gCACA,gEACA,wDACA,sCAEA,6EAGAgD,eACA,0BACA,0CAAAS,wBAGAnB,oBACA,2BACA,sBAAA3qB,aAGA4qB,iBACA,sBAAAxzB,WAEA20B,iBACA,sBAAA1Q,sBAEA,yBACA,IACA,yBAAA7hB,OAAAuI,4CACA1H,iFACA,SACAA,+EAGA,uBACA,wFAGA,UACA,aAAAb,SACA,mCACA,SACAa,+EAGAmxB,eACA,iCC1PsV,ICQlV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCOA,GACfpzB,qBACAC,YACA2zB,YACAC,WACAC,qBACAC,eACA7N,kBACAC,kBAEAxlB,aACA,gCACAqzB,WACA,8DAEAC,eACA,sEAEAC,sBACA,4EAEAC,YACA,iEAGA3yB,SACA+qB,UACA,+DACA6H,yBAGA5H,UACA,+DACA4H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CACAvD,qBACA/H,iBAGA,iCACA+H,qCAEAA,8CAGA,6DAEAwD,kBACA,oCAEAxG,qCACA,2DACA,qCACA,uBACA1xB,EAAAm4B,EAAAtB,EAAAh2B,EAAAu3B,GAAA,EACAhD,kBACAA,oBAGAiD,oBACA,iBACA,0BAEAC,YACA,gCACA,GACA,6BAGAC,mBACA,+BAEA,4CAEA/H,2BAEA,kCAEA,wCACA,8BAIAgI,oBACA,6CACA,oBAEAC,oCAIA,GAHA,IACAz4B,iCAEA,GAOA,MACA,gCACA,KACA,0CAPA,GAFAa,iBACA,oBACA,EACA,oDASA,uBACAb,EAAA,SAAA62B,EAAAh2B,GAAA,KACAu0B,kBACAA,oBAGA,2BACA,eACA,IACA,qBACA,eACA,KACAp1B,gCAEA,IACAA,oCAEA,2BACA,uBACAA,EAAAywB,SAAA5vB,GAAA,KACAu0B,kBACAA,mBAEA,SACAnyB,0CAIA,kCACA,MACA,iEACA4C,8BAEA,6BAIA,wBAHAA,aAQA,OAHA,uBACAA,WAEA,GAEA,gBACA,4DACA,MACA,OAEA,oBACA,qCACAF,mBACA,uDACA,IACA,uCACA,8BACA,SACA1C,0EAIAmhB,aACAze,oBAEA4nB,UACA,oCAEAC,UACA,oCAEA6H,eACA,uBAEAqD,eACA,gCAKA,0BACA,qCALA,0BACA,IAOAC,oBACA,SAGA,EACA,oBAGA,EANA,uBC5PgV,MCQ5U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,yECsCA,IACf33B,WACA4F,gBACA3F,YACA4jB,yBACA+T,qBACAC,aACAC,UACAC,WACAC,gBACAC,mBACAC,cAEA92B,OACA,OACAspB,cACAyN,oBACAC,uBAGAz3B,aACA,qDACA,uEACA,wDACA,0BAAA03B,wCACA,8BAAAC,4CACA,mCAAAC,6CACAtO,eACA,wEAEAuO,gBACA,6BACA,0DACA,kEACA,2EAGApO,aACA,oCAEAqO,oBACA,yCAEA1O,iBACA,uBACA,WAGA,WAGAC,iBACA,4BACA,QAGA,SAIA,gBACA,8CACA,4CACA,oCAEA,uCACAjqB,sDACA,uBACA,gGAEA,8BAEA,wBACA,oBACA,0DACA,mCAIAiG,gBACA,4BACAjG,yDAEA,6BACAouB,qCAGA3sB,YACA,0CACA,+CACA,iFAEAsoB,WACA,8BAEAa,iBACA,oBAGAH,QACA,6BAGAL,gBACA,OACAvE,wBAEA,kDAGAyE,cACA,uDAGA,mBACA,0CAGA,wBACA,2BACA,8DAEA,oBACA,kDAEA,IACA,0DACA,YACAqO,8BACA,wDAGAz2B,uCAEA,SACAA,iDAIAioB,gBACA,mBACA,UACA,uBAIAzH,eACA,oBAGAzgB,iBACA,oCAGA6nB,iBACA,0CAGAD,WACA,6BAGA+O,gCACA,4BACA,KACA,KACA,eACA,WAGAhvB,sCACAvI,mBAGA,OACApC,QACA2K,aACAvI,OACAhB,YAEA,KACA,wBACAgF,UAEA,wBACAA,YAEA,+CCpP6U,MCQzU,I,UAAY,eACd,GACAhH,EACA0B,GACA,EACA,KACA,KACA,OAIa,gB,4BCnBf,SAAS+oB,EAAahiB,EAAK6H,EAASxH,GAClC,MAAMyH,EAAK,IAAIC,OAAOF,GAChBvB,EAAQwB,EAAGE,KAAKhI,EAAIkK,MAAM7J,IAChC,OAAIiG,EAAcjG,EAAaiG,EAAM0M,OACxB,EAGfrS,EAAOC,QAAUohB,G,kCCPjB","file":"js/chunk-1d3ab60a.6759dc8e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"textEditor\",class:_vm.languageString},[_c('div',{staticClass:\"sourceHeader\"},[(_vm.title)?_c('strong',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"sourceToolbar\"},[_c('span',{staticClass:\"sepr\"},[(_vm.editable)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"New script / Clear current script\"},on:{\"click\":_vm.confirmClear}},[_c('i',{staticClass:\"fas fa-file\"})]):_vm._e(),_vm._t(\"file-toolbar\")],2),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canUndo,\"title\":\"Revert last change\"},on:{\"click\":function($event){return _vm.editor.undo()}}},[_c('i',{staticClass:\"fas fa-undo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canRedo,\"title\":\"Redo last reverted change\"},on:{\"click\":function($event){return _vm.editor.redo()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_vm._t(\"edit-toolbar\")],2):_vm._e(),_c('FullscreenButton',{attrs:{\"element\":_vm.element}}),_vm._t(\"toolbar\")],2)]),_c('div',{staticClass:\"sourceCodeEditor\",attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"textEditor\" :class=\"languageString\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<strong v-if=\"title\">{{ title }}</strong>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<span class=\"sepr\">\n\t\t\t\t\t<button type=\"button\" v-if=\"editable\" @click=\"confirmClear\" title=\"New script / Clear current script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t\t<slot name=\"file-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"editor.undo()\" :disabled=\"!canUndo\" title=\"Revert last change\"><i class=\"fas fa-undo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"editor.redo()\" :disabled=\"!canRedo\" title=\"Redo last reverted change\"><i class=\"fas fa-redo-alt\"></i></button>\n\t\t\t\t\t<slot name=\"edit-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<FullscreenButton :element=\"element\" />\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"id\" class=\"sourceCodeEditor\"></div>\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport FullscreenButton from './FullscreenButton.vue';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\n\nimport CodeMirror from 'codemirror';\nimport 'codemirror/lib/codemirror.css';\n\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/markdown/markdown.js';\nimport 'codemirror/mode/mathematica/mathematica.js';\nimport 'codemirror/mode/python/python.js';\nimport 'codemirror/mode/r/r.js';\n\nimport 'codemirror/addon/display/placeholder.js';\n\nimport 'codemirror/addon/edit/matchbrackets.js';\nimport 'codemirror/addon/edit/closebrackets.js';\n\nimport 'codemirror/addon/lint/lint.css';\nimport 'codemirror/addon/lint/lint.js';\nimport 'codemirror/addon/lint/json-lint.js'\nimport jsonlint from 'jsonlint-mod';\nwindow.jsonlint = jsonlint;\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tFullscreenButton\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\trequired: true\n\t\t},\n\t\tlanguage: {\n\t\t\ttype: String,\n\t\t\tdefault: null // json, r, python, markdown, processgraph or null\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['processes']),\n\t\tlanguageString() {\n\t\t\treturn typeof this.language === 'string' ? this.language.toLowerCase() : '';\n\t\t},\n\t\teditorOptions() {\n\t\t\tlet options = {\n\t\t\t\tindentUnit: 2,\n\t\t\t\tlineNumbers: true,\n\t\t\t\tindentWithTabs: true,\n\t\t\t\tmatchBrackets: true,\n\t\t\t\tautoCloseBrackets: true,\n\t\t\t\treadOnly: !this.editable,\n\t\t\t\tplaceholder: this.placeholder\n\t\t\t};\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'r':\n\t\t\t\t\toptions.mode = 'text/x-rsrc';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'python':\n\t\t\t\t\toptions.mode = 'text/x-python';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'math':\n\t\t\t\t\toptions.mode = 'text/x-mathematica'; // Use mathematica mode until we have something better for openEO\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'markdown':\n\t\t\t\t\toptions.mode = 'text/x-markdown';\n\t\t\t\t\toptions.lineWrapping = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javascript':\n\t\t\t\t\toptions.mode = 'text/javascript';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'json':\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\toptions.mode = 'application/json';\n\t\t\t\t\toptions.gutters = ['CodeMirror-lint-markers'];\n\t\t\t\t\toptions.lint = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn options;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanUndo: false,\n\t\t\tcanRedo: false,\n\t\t\teditor: null,\n\t\t\temitValue: this.value,\n\t\t\telement: null\n\t\t}\n\t},\n\twatch: {\n\t\tasync value() {\n\t\t\tif (this.emitValue !== this.value) {\n\t\t\t\tthis.updateContent();\n\t\t\t\tthis.editor.clearHistory();\n\t\t\t}\n\t\t},\n\t\teditorOptions() {\n\t\t\tfor(var key in this.editorOptions) {\n\t\t\t\tthis.editor.setOption(key, this.editorOptions[key]);\n\t\t\t}\n\t\t\tthis.updateContent();\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.editor = CodeMirror(document.getElementById(this.id), this.editorOptions);\n\t\tthis.editor.setSize(null, \"100%\");\n\t\tif (this.languageString === 'processgraph') {\n\t\t\tthis.editor.on(\"change\", () => this.updateState());\n\t\t}\n\t\tthis.updateContent();\n\n\t\t// Listen for changes only after first initialization\n\t\tthis.editor.on('changes', (cm, evt) => {\n\t\t\ttry {\n\t\t\t\t// Don't commit external changes (i.e. coming from the value prop)\n\t\t\t\tif (Object.values(evt).filter(e => e.origin === 'setValue').length === 0) {\n\t\t\t\t\tthis.commit();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.$emit('error', error);\n\t\t\t}\n\t\t});\n\n\t\tthis.element = this.$el;\n\t},\n\tmethods: {\n\t\tconfirmClear() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing code?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.insert(\"\");\n\t\t\t\tthis.emit(null);\n\t\t\t}\n\t\t},\n\t\tupdateState() {\n\t\t\t// Don't lint empty values\n\t\t\tthis.editor.setOption(\"lint\", !!this.editor.getValue().trim());\n\t\t\t// Update history state\n\t\t\tlet history = this.editor.getDoc().historySize();\n\t\t\tthis.canUndo = history.undo > 0;\n\t\t\tthis.canRedo = history.redo > 0;\n\t\t\t// Refresh editor\n\t\t\tthis.editor.refresh();\n\t\t\t// Refresh element for fullscreen\n\t\t\tthis.element = this.$el;\n\t\t},\n\t\tcommit() {\n\t\t\tvar value = this.editor.getValue();\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'math':\n\t\t\t\t\treturn this.emit(value.replace(/[\\r\\n\\t]+/, ' ')); // Replace line breaks and tabs with simple spaces\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tvar process = JSON.parse(value);\n\t\t\t\t\t\tif (Utils.size(process) > 0) {\n\t\t\t\t\t\t\tvar pg = new ProcessGraph(process, this.processes);\n\t\t\t\t\t\t\tpg.allowEmpty();\n\t\t\t\t\t\t\tpg.parse();\n\t\t\t\t\t\t\treturn this.emit(process);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this.emit(null);\n\t\t\t\tcase 'json':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\treturn this.emit(JSON.parse(value));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn this.emit(null);\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.emit(value);\n\t\t\t}\n\t\t},\n\t\temit(value) {\n\t\t\tthis.emitValue = value;\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tinsert(text, replace = true) {\n\t\t\tif (typeof text !== 'string') {\n\t\t\t\ttext = String(text);\n\t\t\t}\n\t\t\tif (replace) {\n\t\t\t\t// Only update if it has really changed\n\t\t\t\tconst cmValue = this.editor.getValue();\n\t\t\t\tif (text !== cmValue) {\n\t\t\t\t\tconst scrollInfo = this.editor.getScrollInfo();\n\t\t\t\t\tthis.editor.setValue(text);\n\t\t\t\t\tthis.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.editor.replaceSelection(text);\n\t\t\t}\n\t\t},\n\t\tupdateContent() {\n\t\t\tif (this.value) {\n\t\t\t\tswitch(this.languageString) {\n\t\t\t\t\tcase 'processgraph':\n\t\t\t\t\t\tif (Utils.isObject(this.value)) {\n\t\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.insert(\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'json':\n\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.insert(this.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.insert(\"\");\n\t\t\t}\n\t\t\tthis.editor.getDoc().clearHistory();\n\t\t\tthis.updateState();\n\t\t},\n\n\t\tinsertProcess(node) {\n\t\t\ttry {\n\t\t\t\tthis.insert(JSON.stringify(node, null, 2), false);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\n\t}\n}\n</script>\n\n<style scoped>\n.textEditor {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid #ddd;\n}\n.sourceCodeEditor {\n\tflex-grow: 1;\n\theight: 100%;\n\toverflow: hidden;\n}\n</style>\n<style>\n.textEditor.math .cm-operator {\n\tmargin: 0 0.2em;\n}\n.textEditor.markdown .CodeMirror-wrap pre {\n    word-break: break-word;\n}\n.CodeMirror-placeholder {\n\topacity: 0.5;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=100002bb&scoped=true&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=100002bb&scoped=true&lang=css&\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"100002bb\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=style&index=0&lang=css&\"","import Utils from '../utils.js';\n\nexport class Format {\n\n\tconstructor(asset) {\n\t\tObject.assign(this, asset);\n\t\tthis.context = null;\n\t}\n\n\tsetContext(context) {\n\t\tthis.context = context;\n\t}\n\n\tgetContext() {\n\t\treturn this.context;\n\t}\n\n\tgetUrl() {\n\t\treturn this.href;\n\t}\n\n\tcanGroup() {\n\t\treturn false;\n\t}\n\n\tisBinary() {\n\t\treturn true;\n\t}\n\n\tdownload(filename = null) {\n\t\tlet tempLink = document.createElement('a');\n\t\ttempLink.style.display = 'none';\n\t\ttempLink.href = this.getUrl();\n\t\ttempLink.setAttribute('download', filename ? filename :  Utils.makeFileName(\"result\", this.type));\n\t\tif (typeof tempLink.download === 'undefined') {\n\t\t\ttempLink.setAttribute('target', '_blank');\n\t\t}\n\t\tdocument.body.appendChild(tempLink);\n\t\ttempLink.click();\n\t\tdocument.body.removeChild(tempLink);\n\t}\n\n\tasync getData(connection) {\n\t\tif (!this.loaded) {\n\t\t\tthis.data = await this.fetchData(connection);\n\t\t\tthis.loaded = true;\n\t\t}\n\t\treturn this.data;\n\t}\n\n\tasync fetchData(connection) {\n\t\tlet blob;\n\t\tlet url = this.getUrl();\n\t\tif (url.startsWith('blob:')) {\n\t\t\tlet response = await fetch(url);\n\t\t\tblob = await response.blob();\n\t\t}\n\t\telse {\n\t\t\tblob = await connection.download(url);\n\t\t}\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.onload = event => resolve(event.target.result);\n\t\t\treader.onerror = reject;\n\t\t\tif (this.isBinary()) {\n\t\t\t\treader.readAsBinaryString(blob);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treader.readAsText(blob);\n\t\t\t}\n\t\t});\n\t\tlet data = await promise;\n\t\treturn this.parseData(data);\n\t}\n\n\tasync parseData(data) {\n\t\treturn data;\n\t}\n\n}\n\nexport class SupportedFormat extends Format {\n\n\tconstructor(asset, component = null, icon = 'fa-database', props = {}, events = {}) {\n\t\tsuper(asset);\n\t\tthis.loaded = false;\n\t\tthis.component = component;\n\t\tthis.props = props;\n\t\tif (!this.props.data) {\n\t\t\tthis.props.data = this;\n\t\t}\n\t\tthis.icon = icon;\n\t\tthis.events = events;\n\t}\n\n\tisBinary() {\n\t\treturn false;\n\t}\n\n}\n\nexport class UnsupportedFormat extends Format {\n\n\tconstructor(asset) {\n\t\tsuper(asset);\n\t}\n\n}\n\nexport class FormatCollection extends SupportedFormat {\n\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=100002bb&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.element),expression:\"element\"}],attrs:{\"type\":\"button\",\"title\":_vm.isFullscreen ? 'Close fullscreen' : 'Show fullscreen'},on:{\"click\":_vm.toggleFullscreen}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFullscreen),expression:\"isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-compress\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFullscreen),expression:\"!isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-expand\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button v-show=\"element\" type=\"button\" @click=\"toggleFullscreen\" :title=\"isFullscreen ? 'Close fullscreen' : 'Show fullscreen'\">\n\t\t<span v-show=\"isFullscreen\"><i class=\"fas fa-compress\"></i></span>\n\t\t<span v-show=\"!isFullscreen\"><i class=\"fas fa-expand\"></i></span>\n\t</button>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'FullscreenButton',\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\telement: {\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisFullscreen: false,\n\t\t\tkeyDownFn: null,\n\t\t\toldZIndex: 'auto'\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.keyDownFn = this.onkeyDown.bind(this);\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.addEventListener('keydown', this.keyDownFn);\n\t\t}\n\t},\n    beforeDestroy() {\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.removeEventListener('keydown', this.keyDownFn);\n\t\t}\n    },\n    computed: {\n\t\t...Utils.mapState('editor', ['hightestModalZIndex'])\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['openModal', 'closeModal']),\n\t\tonkeyDown(e) {\n\t\t\t// ToDo: This is very bugged and needs some attention\n\t\t\tif(this.isFullscreen && (e.key === \"F11\" || e.key === \"Escape\")) {\n\t\t\t\tthis.toggleFullscreen();\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n    \t\t}\n\t\t},\n\t\tgetElement() {\n\t\t\tif (typeof this.element === 'string') {\n\t\t\t\treturn document.querySelector(this.element);\n\t\t\t}\n\t\t\telse if (typeof this.element === 'function') {\n\t\t\t\treturn this.element();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.element;\n\t\t\t}\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tlet el = this.getElement();\n\t\t\tif (!this.isFullscreen) {\n\t\t\t\tthis.isFullscreen = true;\n\t\t\t\tel.classList.add('fullscreen');\n\t\t\t\t// Handle z-index to properly show above modals etc.\n\t\t\t\tthis.openModal();\n\t\t\t\tthis.oldZIndex = el.style.zIndex;\n\t\t\t\tel.style.zIndex = this.hightestModalZIndex;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.isFullscreen = false;\n\t\t\t\tel.classList.remove('fullscreen');\n\t\t\t\t// Revert z-index changes\n\t\t\t\tel.style.zIndex = this.oldZIndex;\n\t\t\t\tthis.closeModal();\n\t\t\t}\n\n\t\t\tthis.$emit('changed', this.isFullscreen);\n\t\t\tthis.emit('stopTour');\n\t\t},\n\t}\n};\n</script>\n\n<style>\n.fullscreen {\n\tposition: absolute !important;\n\ttop: 0 !important;\n\tleft: 0 !important;\n\twidth: 100% !important;\n\theight: 100% !important;\n\tbackground-color: white;\n\toverflow: auto;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullscreenButton.vue?vue&type=template&id=ac711f22&\"\nimport script from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&lang=scss&\"","import { SupportedFormat } from './format';\n\nimport GeoTIFFSource from 'ol/source/GeoTIFF';\n\nclass GeoTIFF extends SupportedFormat {\n\n\tconstructor(asset) {\n\t\tsuper(asset, \"MapViewer\", 'fa-map', {removableLayers: true});\n\t\tthis.view = null;\n\t}\n\n\tisBinary() {\n\t\treturn true;\n\t}\n\n\tcanGroup() {\n\t\treturn true;\n\t}\n\n\tgetView() {\n\t\treturn this.view;\n\t}\n\n\tasync getData() {\n\t\tlet geotiff = new GeoTIFFSource({ sources: [{\n\t\t\turl: this.getUrl()\n\t\t}] });\n\t\tthis.view = await geotiff.getView();\n\t\treturn geotiff;\n\t}\n\n}\n\nexport default GeoTIFF;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\"","const findTagByName = require(\"./find-tag-by-name.js\");\n\nfunction findTagsByName(xml, tagName, options) {\n  const tags = [];\n  const debug = (options && options.debug) || false;\n  let startIndex = (options && options.startIndex) || 0;\n  let tag;\n  while ((tag = findTagByName(xml, tagName, { debug, startIndex }))) {\n    startIndex = tag.end;\n    tags.push(tag);\n  }\n  if (debug) console.log(\"findTagsByName found\", tags.length, \"tags\");\n  return tags;\n}\n\nmodule.exports = findTagsByName;\n","import { BaseProcess, ProcessGraph } from '@openeo/js-processgraphs';\nimport Utils from \"../utils\";\n\nclass ProcessImpl extends BaseProcess {\n\tconstructor(process, exporter) {\n\t\tsuper(process);\n\t\tthis.exporter = exporter;\n\t}\n\tasync execute(node) {\n\t\tawait this.exporter.generateFunction(node);\n\t}\n}\n\nexport default class Exporter extends ProcessGraph {\n\n\tconstructor(process, registry, connection) {\n\t\tsuper(Utils.isObject(process) ? process : {}, registry);\n\t\tthis.connection = connection;\n\t\tthis.indent = 0;\n\t\tthis.code = [];\n\t\tthis.fnCounter = 1;\n\t\tthis.allowEmpty();\n\t\tthis.fillUndefinedParameters();\n\t}\n\n\t// inherited from ProcessGraph\n\n\tcreateProcessGraphInstance(process) {\n\t\tlet pg = new Exporter(process, this.processRegistry, this.getJsonSchemaValidator());\n\t\treturn this.copyProcessGraphInstanceProperties(pg);\n\t}\n\n\tcopyProcessGraphInstanceProperties(pg) {\n\t\tpg = super.copyProcessGraphInstanceProperties(pg);\n\t\tpg.connection = this.connection;\n\t\treturn pg;\n\t}\n\n\tcreateProcessInstance(process) {\n\t\treturn new ProcessImpl(process, this);\n\t}\n\n\tisKeyword(keyword) {\n\t\treturn this.getKeywords().includes(keyword.toLowerCase());\n\t}\n\n\t// Methods to be implemented by sub-class\n\n\tgetKeywords() {\n\t\treturn [];\n\t}\n\n\tcomment(/*comment*/) {}\n\n\tgenerateImports() {}\n\n\tgenerateConnection() {}\n\n\tgenerateAuthentication() {}\n\n\tgenerateBuilder() {}\n\n\tgenerateMetadata(/*key, value*/) {}\n\n\tgenerateMissingParameter() {}\n\n\tasync generateFunction(/*node*/) {}\n\n\tgenerateFunctionParams(parameters) {\n\t\treturn parameters.map(p => {\n\t\t\tif (typeof p.default !== 'undefined') {\n\t\t\t\treturn `${p.name} = ${this.e(p.default)}`;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn p.name;\n\t\t\t}\n\t\t});\n\t}\n\n\tasync generateCallback(/*callback, parameters, variable*/) {}\n\n\tgenerateResult(/*resultNode, callback*/) {}\n\n\tmakeNull() {\n\t\treturn \"null\";\n\t}\n\tmakeBoolean(val) {\n\t\treturn val ? \"true\" : \"false\";\n\t}\n\tmakeArray(arr) {\n\t\treturn `[${arr.join(', ')}]`;\n\t}\n\tmakeObject(obj) {\n\t\tlet arr = Utils.mapObject(obj, (val, key) => `${this.makeString(key)}: ${val}`);\n\t\treturn `{${arr.join(', ')}}`;\n\t}\n\tmakeString(str) {\n\t\treturn JSON.stringify(str);\n\t}\n\tmakeNumber(num) {\n\t\treturn num;\n\t}\n\n\t// Helpers\n\n\te(value) {\n\t\tif (value === null) {\n\t\t\treturn this.makeNull();\n\t\t}\n\t\telse if (typeof value === 'boolean') {\n\t\t\treturn this.makeBoolean(value);\n\t\t}\n\t\telse if (typeof value === 'number') {\n\t\t\treturn this.makeNumber(value);\n\t\t}\n\t\telse if (typeof value === 'string') {\n\t\t\treturn this.makeString(value);\n\t\t}\n\t\telse if (Array.isArray(value)) {\n\t\t\treturn this.makeArray(value.map(val => this.e(val)));\n\t\t}\n\t\telse if (Utils.isObject(value)) {\n\t\t\treturn this.makeObject(Utils.mapObjectValues(value, val => this.e(val)));\n\t\t}\n\t\telse if (typeof value === 'function') {\n\t\t\treturn value();\n\t\t}\n\t\telse {\n\t\t\treturn this.makeNull();\n\t\t}\n\t}\n\n\tgenerateMetadata() {\n\t\tlet hasComment = false;\n\t\tfor(let key in this.process) {\n\t\t\tif (key === 'process_graph') {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet val = this.process[key];\n\t\t\tif (Array.isArray(val) && val.length === 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if (typeof val === 'string' && val.length === 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if (typeof val === 'boolean' && !val) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!hasComment) {\n\t\t\t\tthis.newLine();\n\t\t\t\tthis.comment(`Set the metadata for the process`);\n\t\t\t\thasComment = true;\n\t\t\t}\n\t\t\tthis.generateMetadataEntry(key, val);\n\t\t}\n\t}\n\n\tasync resolveArguments(args, onExporter, filter) {\n\t\tlet newArgs = Array.isArray(args) ? [] : {};\n\t\tfor(let key in args) {\n\t\t\tlet value = args[key];\n\t\t\tif (filter && filter(key, value)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (Utils.isObject(value)) {\n\t\t\t\tif (value.from_node) {\n\t\t\t\t\tnewArgs[key] = () => this.var(value.from_node);\n\t\t\t\t\tcontinue; \n\t\t\t\t}\n\t\t\t\telse if (value.from_parameter) {\n\t\t\t\t\tnewArgs[key] = () => this.var(value.from_parameter);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\telse if (value instanceof Exporter) {\n\t\t\t\t\tlet fnName = await onExporter(key);\n\t\t\t\t\tnewArgs[key] = () => fnName;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewArgs[key] = await this.resolveArguments(value, onExporter, filter);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Array.isArray(value)) {\n\t\t\t\tnewArgs[key] = await this.resolveArguments(value, onExporter, filter);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnewArgs[key] = value;\n\t\t\t}\n\t\t}\n\t\treturn newArgs;\n\t}\n\n\tasync resolveCallback(node, key) {\n\t\tlet callback = node.getArgument(key);\n\t\tlet parameters = callback.getCallbackParameters();\n\t\tawait callback.execute(parameters);\n\t\tlet fnName = this.var(`${key}${this.fnCounter++}`, 'fn_');\n\t\tlet replacement = await this.generateCallback(callback, parameters, fnName);\n\t\treturn replacement ? replacement : fnName;\n\t}\n\n\tasync generateArguments(node, ordered = false, filter = null) {\n\t\tlet args = await this.resolveArguments(node.arguments, async key => await this.resolveCallback(node, key), filter);\n\t\tif (ordered) {\n\t\t\targs = this.orderArguments(node, args);\n\t\t}\n\t\treturn args;\n\t}\n\n\torderArguments(node, args) {\n\t\tlet process = node.getProcessGraph().getProcess(node);\n\t\tif (process && Array.isArray(process.parameters)) {\n\t\t\tlet orderedArgs = process.parameters.map(param => {\n\t\t\t\tif (typeof args[param.name] !== 'undefined') {\n\t\t\t\t\treturn args[param.name];\n\t\t\t\t}\n\t\t\t\telse if (!param.optional) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet definedValueFound = false;\n\t\t\tfor(let i = orderedArgs.length-1; i >= 0; i--) {\n\t\t\t\tif (typeof orderedArgs[i] === 'undefined') {\n\t\t\t\t\tif (definedValueFound) {\n\t\t\t\t\t\torderedArgs[i] = null;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\torderedArgs.pop();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdefinedValueFound = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn orderedArgs;\n\t\t}\n\t}\n\n\tvar(id, prefix = \"datacube\") {\n\t\tid = String(id);\n\t\tif (this.isKeyword(id)) {\n\t\t\treturn `${id}_`;\n\t\t}\n\t\tif (!id.match(/^[a-z_]\\w*$/)) {\n\t\t\treturn `${prefix}${id}`;\n\t\t}\n\t\telse {\n\t\t\treturn id;\n\t\t}\n\t}\n\n\tgetTab() {\n\t\treturn `\\t`;\n\t}\n\n\taddCode(code, prefix = '') {\n\t\tif (typeof code !== 'string') {\n\t\t\treturn;\n\t\t}\n\t\tlet tabs = this.getTab().repeat(this.indent);\n\t\tlet lines = code.trim().split(/\\r\\n|\\r|\\n/g);\n\t\tfor(let line of lines) {\n\t\t\tthis.code.push(`${tabs}${prefix}${line}\\n`);\n\t\t}\n\t}\n\n\tnewLine(count = 1) {\n\t\tfor(let i = 0; i < count; i++) {\n\t\t\tthis.addCode('');\n\t\t}\n\t}\n\n\tgetServerUrl() {\n\t\treturn this.connection.getUrl();\n\t}\n\n\tasync toCode(callback = false) {\n\t\tthis.code = [];\n\t\tif (!callback) {\n\t\t\tthis.comment(`Import required packages`);\n\t\t\tthis.generateImports();\n\t\t\tthis.newLine();\n\t\t\tthis.comment(`Connect to the back-end`);\n\t\t\tthis.generateConnection();\n\t\t\tthis.generateAuthentication();\n\t\t\tthis.newLine();\n\t\t\tthis.generateBuilder();\n\t\t\tthis.generateMetadata();\n\t\t\tthis.newLine();\n\t\t}\n\t\tlet params = this.getProcessParameters();\n\t\tif (params.length > 0) {\n\t\t\tthis.comment('ToDo: Here you need to set values for the parameters');\n\t\t\tfor(let param of params) {\n\t\t\t\tthis.generateMissingParameter(param);\n\t\t\t}\n\t\t\tthis.newLine();\n\t\t}\n\t\tawait this.execute();\n\t\tif (!callback) {\n\t\t\tthis.newLine();\n\t\t\tthis.comment(`The process can be executed synchronously (see below), as batch job or as web service now`);\n\t\t}\n\t\tthis.generateResult(this.getResultNode(), callback);\n\t\treturn this.code.join('').trim();\n\t}\n\n\tasync execute() {\n\t\tawait this.validate();\n\t\tthis.reset();\n\t\tawait this.executeNodes(this.getStartNodes());\n\t\treturn this.getResultNode();\n\t}\n\n\tisMath() {\n\t\tif (typeof this._isMath === 'undefined') {\n\t\t\t// Determine whether the process is just math\n\t\t\tthis._isMath = this.processRegistry.isMath(this);\n\t\t}\n\t\treturn this._isMath;\n\t}\n\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=style&index=1&id=e5b627b0&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=style&index=0&lang=css&\"","function getAttribute(tag, attributeName, options) {\n  const debug = (options && options.debug) || false;\n  if (debug) console.log(\"getting \" + attributeName + \" in \" + tag);\n\n  const xml = typeof tag === \"object\" ? tag.outer : tag;\n\n  const pattern = `${attributeName}\\\\=\"\\([^\"]*\\)\"`;\n  if (debug) console.log(\"pattern:\", pattern);\n\n  const re = new RegExp(pattern);\n  const match = re.exec(xml);\n  if (debug) console.log(\"match:\", match);\n  if (match) return match[1];\n}\n\nmodule.exports = getAttribute;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=style&index=0&lang=css&\"","export default class QuickLRU extends Map {\n\tconstructor(options = {}) {\n\t\tsuper();\n\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tif (typeof options.maxAge === 'number' && options.maxAge === 0) {\n\t\t\tthrow new TypeError('`maxAge` must be a number greater than 0');\n\t\t}\n\n\t\t// TODO: Use private class fields when ESLint supports them.\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t// TODO: Use private class methods when targeting Node.js 16.\n\t_emitEvictions(cache) {\n\t\tif (typeof this.onEviction !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, item] of cache) {\n\t\t\tthis.onEviction(key, item.value);\n\t\t}\n\t}\n\n\t_deleteIfExpired(key, item) {\n\t\tif (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tthis.onEviction(key, item.value);\n\t\t\t}\n\n\t\t\treturn this.delete(key);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_getOrDeleteIfExpired(key, item) {\n\t\tconst deleted = this._deleteIfExpired(key, item);\n\t\tif (deleted === false) {\n\t\t\treturn item.value;\n\t\t}\n\t}\n\n\t_getItemValue(key, item) {\n\t\treturn item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n\t}\n\n\t_peek(key, cache) {\n\t\tconst item = cache.get(key);\n\n\t\treturn this._getItemValue(key, item);\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis._emitEvictions(this.oldCache);\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\t_moveToRecent(key, item) {\n\t\tthis.oldCache.delete(key);\n\t\tthis._set(key, item);\n\t}\n\n\t* _entriesAscending() {\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\tconst item = this.cache.get(key);\n\n\t\t\treturn this._getItemValue(key, item);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst item = this.oldCache.get(key);\n\t\t\tif (this._deleteIfExpired(key, item) === false) {\n\t\t\t\tthis._moveToRecent(key, item);\n\t\t\t\treturn item.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tset(key, value, {maxAge = this.maxAge} = {}) {\n\t\tconst expiry =\n\t\t\ttypeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ?\n\t\t\t\tDate.now() + maxAge :\n\t\t\t\tundefined;\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, {\n\t\t\t\tvalue,\n\t\t\t\texpiry\n\t\t\t});\n\t\t} else {\n\t\t\tthis._set(key, {value, expiry});\n\t\t}\n\t}\n\n\thas(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.cache.get(key));\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.oldCache.get(key));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this._peek(key, this.cache);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this._peek(key, this.oldCache);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\tresize(newSize) {\n\t\tif (!(newSize && newSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tconst items = [...this._entriesAscending()];\n\t\tconst removeCount = items.length - newSize;\n\t\tif (removeCount < 0) {\n\t\t\tthis.cache = new Map(items);\n\t\t\tthis.oldCache = new Map();\n\t\t\tthis._size = items.length;\n\t\t} else {\n\t\t\tif (removeCount > 0) {\n\t\t\t\tthis._emitEvictions(items.slice(0, removeCount));\n\t\t\t}\n\n\t\t\tthis.oldCache = new Map(items.slice(removeCount));\n\t\t\tthis.cache = new Map();\n\t\t\tthis._size = 0;\n\t\t}\n\n\t\tthis.maxSize = newSize;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesDescending() {\n\t\tlet items = [...this.cache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\titems = [...this.oldCache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesAscending() {\n\t\tfor (const [key, value] of this._entriesAscending()) {\n\t\t\tyield [key, value.value];\n\t\t}\n\t}\n\n\tget size() {\n\t\tif (!this._size) {\n\t\t\treturn this.oldCache.size;\n\t\t}\n\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n\n\tentries() {\n\t\treturn this.entriesAscending();\n\t}\n\n\tforEach(callbackFunction, thisArgument = this) {\n\t\tfor (const [key, value] of this.entriesAscending()) {\n\t\t\tcallbackFunction.call(thisArgument, value, key, this);\n\t\t}\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn JSON.stringify([...this.entriesAscending()]);\n\t}\n}\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar splitpanes_vue_vue_type_style_index_0_lang = \"\";\nfunction normalizeComponent(scriptExports, render2, staticRenderFns2, functionalTemplate, injectStyles, scopeId, moduleIdentifier, shadowMode) {\n  var options = typeof scriptExports === \"function\" ? scriptExports.options : scriptExports;\n  if (render2) {\n    options.render = render2;\n    options.staticRenderFns = staticRenderFns2;\n    options._compiled = true;\n  }\n  if (functionalTemplate) {\n    options.functional = true;\n  }\n  if (scopeId) {\n    options._scopeId = \"data-v-\" + scopeId;\n  }\n  var hook;\n  if (moduleIdentifier) {\n    hook = function(context) {\n      context = context || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext;\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== \"undefined\") {\n        context = __VUE_SSR_CONTEXT__;\n      }\n      if (injectStyles) {\n        injectStyles.call(this, context);\n      }\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    };\n    options._ssrRegister = hook;\n  } else if (injectStyles) {\n    hook = shadowMode ? function() {\n      injectStyles.call(this, (options.functional ? this.parent : this).$root.$options.shadowRoot);\n    } : injectStyles;\n  }\n  if (hook) {\n    if (options.functional) {\n      options._injectStyles = hook;\n      var originalRender = options.render;\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n  return {\n    exports: scriptExports,\n    options\n  };\n}\nconst __vue2_script$1 = {\n  name: \"splitpanes\",\n  props: {\n    horizontal: { type: Boolean },\n    pushOtherPanes: { type: Boolean, default: true },\n    dblClickSplitter: { type: Boolean, default: true },\n    rtl: { type: Boolean, default: false },\n    firstSplitter: { type: Boolean }\n  },\n  provide() {\n    return {\n      requestUpdate: this.requestUpdate,\n      onPaneAdd: this.onPaneAdd,\n      onPaneRemove: this.onPaneRemove,\n      onPaneClick: this.onPaneClick\n    };\n  },\n  data: () => ({\n    container: null,\n    ready: false,\n    panes: [],\n    touch: {\n      mouseDown: false,\n      dragging: false,\n      activeSplitter: null\n    },\n    splitterTaps: {\n      splitter: null,\n      timeoutId: null\n    }\n  }),\n  computed: {\n    panesCount() {\n      return this.panes.length;\n    },\n    indexedPanes() {\n      return this.panes.reduce((obj, pane2) => (obj[pane2.id] = pane2) && obj, {});\n    }\n  },\n  methods: {\n    updatePaneComponents() {\n      this.panes.forEach((pane2) => {\n        pane2.update && pane2.update({\n          [this.horizontal ? \"height\" : \"width\"]: `${this.indexedPanes[pane2.id].size}%`\n        });\n      });\n    },\n    bindEvents() {\n      document.addEventListener(\"mousemove\", this.onMouseMove, { passive: false });\n      document.addEventListener(\"mouseup\", this.onMouseUp);\n      if (\"ontouchstart\" in window) {\n        document.addEventListener(\"touchmove\", this.onMouseMove, { passive: false });\n        document.addEventListener(\"touchend\", this.onMouseUp);\n      }\n    },\n    unbindEvents() {\n      document.removeEventListener(\"mousemove\", this.onMouseMove, { passive: false });\n      document.removeEventListener(\"mouseup\", this.onMouseUp);\n      if (\"ontouchstart\" in window) {\n        document.removeEventListener(\"touchmove\", this.onMouseMove, { passive: false });\n        document.removeEventListener(\"touchend\", this.onMouseUp);\n      }\n    },\n    onMouseDown(event, splitterIndex) {\n      this.bindEvents();\n      this.touch.mouseDown = true;\n      this.touch.activeSplitter = splitterIndex;\n    },\n    onMouseMove(event) {\n      if (this.touch.mouseDown) {\n        event.preventDefault();\n        this.touch.dragging = true;\n        this.calculatePanesSize(this.getCurrentMouseDrag(event));\n        this.$emit(\"resize\", this.panes.map((pane2) => ({ min: pane2.min, max: pane2.max, size: pane2.size })));\n      }\n    },\n    onMouseUp() {\n      if (this.touch.dragging) {\n        this.$emit(\"resized\", this.panes.map((pane2) => ({ min: pane2.min, max: pane2.max, size: pane2.size })));\n      }\n      this.touch.mouseDown = false;\n      setTimeout(() => {\n        this.touch.dragging = false;\n        this.unbindEvents();\n      }, 100);\n    },\n    onSplitterClick(event, splitterIndex) {\n      if (\"ontouchstart\" in window) {\n        event.preventDefault();\n        if (this.dblClickSplitter) {\n          if (this.splitterTaps.splitter === splitterIndex) {\n            clearTimeout(this.splitterTaps.timeoutId);\n            this.splitterTaps.timeoutId = null;\n            this.onSplitterDblClick(event, splitterIndex);\n            this.splitterTaps.splitter = null;\n          } else {\n            this.splitterTaps.splitter = splitterIndex;\n            this.splitterTaps.timeoutId = setTimeout(() => {\n              this.splitterTaps.splitter = null;\n            }, 500);\n          }\n        }\n      }\n      if (!this.touch.dragging)\n        this.$emit(\"splitter-click\", this.panes[splitterIndex]);\n    },\n    onSplitterDblClick(event, splitterIndex) {\n      let totalMinSizes = 0;\n      this.panes = this.panes.map((pane2, i) => {\n        pane2.size = i === splitterIndex ? pane2.max : pane2.min;\n        if (i !== splitterIndex)\n          totalMinSizes += pane2.min;\n        return pane2;\n      });\n      this.panes[splitterIndex].size -= totalMinSizes;\n      this.$emit(\"pane-maximize\", this.panes[splitterIndex]);\n    },\n    onPaneClick(event, paneId) {\n      this.$emit(\"pane-click\", this.indexedPanes[paneId]);\n    },\n    getCurrentMouseDrag(event) {\n      const rect = this.container.getBoundingClientRect();\n      const { clientX, clientY } = \"ontouchstart\" in window && event.touches ? event.touches[0] : event;\n      return {\n        x: clientX - rect.left,\n        y: clientY - rect.top\n      };\n    },\n    getCurrentDragPercentage(drag) {\n      drag = drag[this.horizontal ? \"y\" : \"x\"];\n      const containerSize = this.container[this.horizontal ? \"clientHeight\" : \"clientWidth\"];\n      if (this.rtl && !this.horizontal)\n        drag = containerSize - drag;\n      return drag * 100 / containerSize;\n    },\n    calculatePanesSize(drag) {\n      const splitterIndex = this.touch.activeSplitter;\n      let sums = {\n        prevPanesSize: this.sumPrevPanesSize(splitterIndex),\n        nextPanesSize: this.sumNextPanesSize(splitterIndex),\n        prevReachedMinPanes: 0,\n        nextReachedMinPanes: 0\n      };\n      const minDrag = 0 + (this.pushOtherPanes ? 0 : sums.prevPanesSize);\n      const maxDrag = 100 - (this.pushOtherPanes ? 0 : sums.nextPanesSize);\n      const dragPercentage = Math.max(Math.min(this.getCurrentDragPercentage(drag), maxDrag), minDrag);\n      let panesToResize = [splitterIndex, splitterIndex + 1];\n      let paneBefore = this.panes[panesToResize[0]] || null;\n      let paneAfter = this.panes[panesToResize[1]] || null;\n      const paneBeforeMaxReached = paneBefore.max < 100 && dragPercentage >= paneBefore.max + sums.prevPanesSize;\n      const paneAfterMaxReached = paneAfter.max < 100 && dragPercentage <= 100 - (paneAfter.max + this.sumNextPanesSize(splitterIndex + 1));\n      if (paneBeforeMaxReached || paneAfterMaxReached) {\n        if (paneBeforeMaxReached) {\n          paneBefore.size = paneBefore.max;\n          paneAfter.size = Math.max(100 - paneBefore.max - sums.prevPanesSize - sums.nextPanesSize, 0);\n        } else {\n          paneBefore.size = Math.max(100 - paneAfter.max - sums.prevPanesSize - this.sumNextPanesSize(splitterIndex + 1), 0);\n          paneAfter.size = paneAfter.max;\n        }\n        return;\n      }\n      if (this.pushOtherPanes) {\n        const vars = this.doPushOtherPanes(sums, dragPercentage);\n        if (!vars)\n          return;\n        ({ sums, panesToResize } = vars);\n        paneBefore = this.panes[panesToResize[0]] || null;\n        paneAfter = this.panes[panesToResize[1]] || null;\n      }\n      if (paneBefore !== null) {\n        paneBefore.size = Math.min(Math.max(dragPercentage - sums.prevPanesSize - sums.prevReachedMinPanes, paneBefore.min), paneBefore.max);\n      }\n      if (paneAfter !== null) {\n        paneAfter.size = Math.min(Math.max(100 - dragPercentage - sums.nextPanesSize - sums.nextReachedMinPanes, paneAfter.min), paneAfter.max);\n      }\n    },\n    doPushOtherPanes(sums, dragPercentage) {\n      const splitterIndex = this.touch.activeSplitter;\n      const panesToResize = [splitterIndex, splitterIndex + 1];\n      if (dragPercentage < sums.prevPanesSize + this.panes[panesToResize[0]].min) {\n        panesToResize[0] = this.findPrevExpandedPane(splitterIndex).index;\n        sums.prevReachedMinPanes = 0;\n        if (panesToResize[0] < splitterIndex) {\n          this.panes.forEach((pane2, i) => {\n            if (i > panesToResize[0] && i <= splitterIndex) {\n              pane2.size = pane2.min;\n              sums.prevReachedMinPanes += pane2.min;\n            }\n          });\n        }\n        sums.prevPanesSize = this.sumPrevPanesSize(panesToResize[0]);\n        if (panesToResize[0] === void 0) {\n          sums.prevReachedMinPanes = 0;\n          this.panes[0].size = this.panes[0].min;\n          this.panes.forEach((pane2, i) => {\n            if (i > 0 && i <= splitterIndex) {\n              pane2.size = pane2.min;\n              sums.prevReachedMinPanes += pane2.min;\n            }\n          });\n          this.panes[panesToResize[1]].size = 100 - sums.prevReachedMinPanes - this.panes[0].min - sums.prevPanesSize - sums.nextPanesSize;\n          return null;\n        }\n      }\n      if (dragPercentage > 100 - sums.nextPanesSize - this.panes[panesToResize[1]].min) {\n        panesToResize[1] = this.findNextExpandedPane(splitterIndex).index;\n        sums.nextReachedMinPanes = 0;\n        if (panesToResize[1] > splitterIndex + 1) {\n          this.panes.forEach((pane2, i) => {\n            if (i > splitterIndex && i < panesToResize[1]) {\n              pane2.size = pane2.min;\n              sums.nextReachedMinPanes += pane2.min;\n            }\n          });\n        }\n        sums.nextPanesSize = this.sumNextPanesSize(panesToResize[1] - 1);\n        if (panesToResize[1] === void 0) {\n          sums.nextReachedMinPanes = 0;\n          this.panes[this.panesCount - 1].size = this.panes[this.panesCount - 1].min;\n          this.panes.forEach((pane2, i) => {\n            if (i < this.panesCount - 1 && i >= splitterIndex + 1) {\n              pane2.size = pane2.min;\n              sums.nextReachedMinPanes += pane2.min;\n            }\n          });\n          this.panes[panesToResize[0]].size = 100 - sums.prevPanesSize - sums.nextReachedMinPanes - this.panes[this.panesCount - 1].min - sums.nextPanesSize;\n          return null;\n        }\n      }\n      return { sums, panesToResize };\n    },\n    sumPrevPanesSize(splitterIndex) {\n      return this.panes.reduce((total, pane2, i) => total + (i < splitterIndex ? pane2.size : 0), 0);\n    },\n    sumNextPanesSize(splitterIndex) {\n      return this.panes.reduce((total, pane2, i) => total + (i > splitterIndex + 1 ? pane2.size : 0), 0);\n    },\n    findPrevExpandedPane(splitterIndex) {\n      const pane2 = [...this.panes].reverse().find((p) => p.index < splitterIndex && p.size > p.min);\n      return pane2 || {};\n    },\n    findNextExpandedPane(splitterIndex) {\n      const pane2 = this.panes.find((p) => p.index > splitterIndex + 1 && p.size > p.min);\n      return pane2 || {};\n    },\n    checkSplitpanesNodes() {\n      const children = Array.from(this.container.children);\n      children.forEach((child) => {\n        const isPane = child.classList.contains(\"splitpanes__pane\");\n        const isSplitter = child.classList.contains(\"splitpanes__splitter\");\n        if (!isPane && !isSplitter) {\n          child.parentNode.removeChild(child);\n          console.warn(\"Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.\");\n          return;\n        }\n      });\n    },\n    addSplitter(paneIndex, nextPaneNode, isVeryFirst = false) {\n      const splitterIndex = paneIndex - 1;\n      const elm = document.createElement(\"div\");\n      elm.classList.add(\"splitpanes__splitter\");\n      if (!isVeryFirst) {\n        elm.onmousedown = (event) => this.onMouseDown(event, splitterIndex);\n        if (typeof window !== \"undefined\" && \"ontouchstart\" in window) {\n          elm.ontouchstart = (event) => this.onMouseDown(event, splitterIndex);\n        }\n        elm.onclick = (event) => this.onSplitterClick(event, splitterIndex + 1);\n      }\n      if (this.dblClickSplitter) {\n        elm.ondblclick = (event) => this.onSplitterDblClick(event, splitterIndex + 1);\n      }\n      nextPaneNode.parentNode.insertBefore(elm, nextPaneNode);\n    },\n    removeSplitter(node) {\n      node.onmousedown = void 0;\n      node.onclick = void 0;\n      node.ondblclick = void 0;\n      node.parentNode.removeChild(node);\n    },\n    redoSplitters() {\n      const children = Array.from(this.container.children);\n      children.forEach((el) => {\n        if (el.className.includes(\"splitpanes__splitter\"))\n          this.removeSplitter(el);\n      });\n      let paneIndex = 0;\n      children.forEach((el) => {\n        if (el.className.includes(\"splitpanes__pane\")) {\n          if (!paneIndex && this.firstSplitter)\n            this.addSplitter(paneIndex, el, true);\n          else if (paneIndex)\n            this.addSplitter(paneIndex, el);\n          paneIndex++;\n        }\n      });\n    },\n    requestUpdate(_a) {\n      var _b = _a, { target } = _b, args = __objRest(_b, [\"target\"]);\n      const pane2 = this.indexedPanes[target._uid];\n      Object.entries(args).forEach(([key, value]) => pane2[key] = value);\n    },\n    onPaneAdd(pane2) {\n      let index = -1;\n      Array.from(pane2.$el.parentNode.children).some((el) => {\n        if (el.className.includes(\"splitpanes__pane\"))\n          index++;\n        return el === pane2.$el;\n      });\n      const min = parseFloat(pane2.minSize);\n      const max = parseFloat(pane2.maxSize);\n      this.panes.splice(index, 0, {\n        id: pane2._uid,\n        index,\n        min: isNaN(min) ? 0 : min,\n        max: isNaN(max) ? 100 : max,\n        size: pane2.size === null ? null : parseFloat(pane2.size),\n        givenSize: pane2.size,\n        update: pane2.update\n      });\n      this.panes.forEach((p, i) => p.index = i);\n      if (this.ready) {\n        this.$nextTick(() => {\n          this.redoSplitters();\n          this.resetPaneSizes({ addedPane: this.panes[index] });\n          this.$emit(\"pane-add\", { index, panes: this.panes.map((pane3) => ({ min: pane3.min, max: pane3.max, size: pane3.size })) });\n        });\n      }\n    },\n    onPaneRemove(pane2) {\n      const index = this.panes.findIndex((p) => p.id === pane2._uid);\n      const removed = this.panes.splice(index, 1)[0];\n      this.panes.forEach((p, i) => p.index = i);\n      this.$nextTick(() => {\n        this.redoSplitters();\n        this.resetPaneSizes({ removedPane: __spreadProps(__spreadValues({}, removed), { index }) });\n        this.$emit(\"pane-remove\", { removed, panes: this.panes.map((pane3) => ({ min: pane3.min, max: pane3.max, size: pane3.size })) });\n      });\n    },\n    resetPaneSizes(changedPanes = {}) {\n      if (!changedPanes.addedPane && !changedPanes.removedPane)\n        this.initialPanesSizing();\n      else if (this.panes.some((pane2) => pane2.givenSize !== null || pane2.min || pane2.max < 100))\n        this.equalizeAfterAddOrRemove(changedPanes);\n      else\n        this.equalize();\n      if (this.ready)\n        this.$emit(\"resized\", this.panes.map((pane2) => ({ min: pane2.min, max: pane2.max, size: pane2.size })));\n    },\n    equalize() {\n      const equalSpace = 100 / this.panesCount;\n      let leftToAllocate = 0;\n      let ungrowable = [];\n      let unshrinkable = [];\n      this.panes.forEach((pane2) => {\n        pane2.size = Math.max(Math.min(equalSpace, pane2.max), pane2.min);\n        leftToAllocate -= pane2.size;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      if (leftToAllocate > 0.1)\n        this.readjustSizes(leftToAllocate, ungrowable, unshrinkable);\n    },\n    initialPanesSizing() {\n      100 / this.panesCount;\n      let leftToAllocate = 100;\n      let ungrowable = [];\n      let unshrinkable = [];\n      let definedSizes = 0;\n      this.panes.forEach((pane2) => {\n        leftToAllocate -= pane2.size;\n        if (pane2.size !== null)\n          definedSizes++;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      let leftToAllocate2 = 100;\n      if (leftToAllocate > 0.1) {\n        this.panes.forEach((pane2) => {\n          if (pane2.size === null) {\n            pane2.size = Math.max(Math.min(leftToAllocate / (this.panesCount - definedSizes), pane2.max), pane2.min);\n          }\n          leftToAllocate2 -= pane2.size;\n        });\n        if (leftToAllocate2 > 0.1)\n          this.readjustSizes(leftToAllocate, ungrowable, unshrinkable);\n      }\n    },\n    equalizeAfterAddOrRemove({ addedPane, removedPane } = {}) {\n      let equalSpace = 100 / this.panesCount;\n      let leftToAllocate = 0;\n      let ungrowable = [];\n      let unshrinkable = [];\n      if (addedPane && addedPane.givenSize !== null) {\n        equalSpace = (100 - addedPane.givenSize) / (this.panesCount - 1);\n      }\n      this.panes.forEach((pane2) => {\n        leftToAllocate -= pane2.size;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      if (Math.abs(leftToAllocate) < 0.1)\n        return;\n      this.panes.forEach((pane2) => {\n        if (addedPane && addedPane.givenSize !== null && addedPane.id === pane2.id)\n          ;\n        else\n          pane2.size = Math.max(Math.min(equalSpace, pane2.max), pane2.min);\n        leftToAllocate -= pane2.size;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      if (leftToAllocate > 0.1)\n        this.readjustSizes(leftToAllocate, ungrowable, unshrinkable);\n    },\n    readjustSizes(leftToAllocate, ungrowable, unshrinkable) {\n      let equalSpaceToAllocate;\n      if (leftToAllocate > 0)\n        equalSpaceToAllocate = leftToAllocate / (this.panesCount - ungrowable.length);\n      else\n        equalSpaceToAllocate = leftToAllocate / (this.panesCount - unshrinkable.length);\n      this.panes.forEach((pane2, i) => {\n        if (leftToAllocate > 0 && !ungrowable.includes(pane2.id)) {\n          const newPaneSize = Math.max(Math.min(pane2.size + equalSpaceToAllocate, pane2.max), pane2.min);\n          const allocated = newPaneSize - pane2.size;\n          leftToAllocate -= allocated;\n          pane2.size = newPaneSize;\n        } else if (!unshrinkable.includes(pane2.id)) {\n          const newPaneSize = Math.max(Math.min(pane2.size + equalSpaceToAllocate, pane2.max), pane2.min);\n          const allocated = newPaneSize - pane2.size;\n          leftToAllocate -= allocated;\n          pane2.size = newPaneSize;\n        }\n        pane2.update({\n          [this.horizontal ? \"height\" : \"width\"]: `${this.indexedPanes[pane2.id].size}%`\n        });\n      });\n      if (Math.abs(leftToAllocate) > 0.1) {\n        this.$nextTick(() => {\n          if (this.ready) {\n            console.warn(\"Splitpanes: Could not resize panes correctly due to their constraints.\");\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    panes: {\n      deep: true,\n      immediate: false,\n      handler() {\n        this.updatePaneComponents();\n      }\n    },\n    horizontal() {\n      this.updatePaneComponents();\n    },\n    firstSplitter() {\n      this.redoSplitters();\n    },\n    dblClickSplitter(enable) {\n      const splitters = [...this.container.querySelectorAll(\".splitpanes__splitter\")];\n      splitters.forEach((splitter, i) => {\n        splitter.ondblclick = enable ? (event) => this.onSplitterDblClick(event, i) : void 0;\n      });\n    }\n  },\n  beforeDestroy() {\n    this.ready = false;\n  },\n  mounted() {\n    this.container = this.$refs.container;\n    this.checkSplitpanesNodes();\n    this.redoSplitters();\n    this.resetPaneSizes();\n    this.$emit(\"ready\");\n    this.ready = true;\n  },\n  render(h) {\n    return h(\"div\", {\n      ref: \"container\",\n      class: [\n        \"splitpanes\",\n        `splitpanes--${this.horizontal ? \"horizontal\" : \"vertical\"}`,\n        {\n          \"splitpanes--dragging\": this.touch.dragging\n        }\n      ]\n    }, this.$slots.default);\n  }\n};\nlet __vue2_render, __vue2_staticRenderFns;\nconst __cssModules$1 = {};\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(__vue2_script$1, __vue2_render, __vue2_staticRenderFns, false, __vue2_injectStyles$1, null, null, null);\nfunction __vue2_injectStyles$1(context) {\n  for (let o in __cssModules$1) {\n    this[o] = __cssModules$1[o];\n  }\n}\nvar splitpanes = /* @__PURE__ */ function() {\n  return __component__$1.exports;\n}();\nvar render = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\"div\", { staticClass: \"splitpanes__pane\", style: _vm.style, on: { \"click\": function($event) {\n    return _vm.onPaneClick($event, _vm._uid);\n  } } }, [_vm._t(\"default\")], 2);\n};\nvar staticRenderFns = [];\nconst __vue2_script = {\n  name: \"pane\",\n  inject: [\"requestUpdate\", \"onPaneAdd\", \"onPaneRemove\", \"onPaneClick\"],\n  props: {\n    size: { type: [Number, String], default: null },\n    minSize: { type: [Number, String], default: 0 },\n    maxSize: { type: [Number, String], default: 100 }\n  },\n  data: () => ({\n    style: {}\n  }),\n  mounted() {\n    this.onPaneAdd(this);\n  },\n  beforeDestroy() {\n    this.onPaneRemove(this);\n  },\n  methods: {\n    update(style) {\n      this.style = style;\n    }\n  },\n  computed: {\n    sizeNumber() {\n      return this.size || this.size === 0 ? parseFloat(this.size) : null;\n    },\n    minSizeNumber() {\n      return parseFloat(this.minSize);\n    },\n    maxSizeNumber() {\n      return parseFloat(this.maxSize);\n    }\n  },\n  watch: {\n    sizeNumber(size) {\n      this.requestUpdate({ target: this, size });\n    },\n    minSizeNumber(min) {\n      this.requestUpdate({ target: this, min });\n    },\n    maxSizeNumber(max) {\n      this.requestUpdate({ target: this, max });\n    }\n  }\n};\nconst __cssModules = {};\nvar __component__ = /* @__PURE__ */ normalizeComponent(__vue2_script, render, staticRenderFns, false, __vue2_injectStyles, null, null, null);\nfunction __vue2_injectStyles(context) {\n  for (let o in __cssModules) {\n    this[o] = __cssModules[o];\n  }\n}\nvar pane = /* @__PURE__ */ function() {\n  return __component__.exports;\n}();\nexport { pane as Pane, splitpanes as Splitpanes };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"discovery-toolbar\"},[_c('SearchBox',{model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('div',{staticClass:\"search-results\"},[_c('Collections',{staticClass:\"category\",attrs:{\"collections\":_vm.collections,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsLoadCollection},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'collection', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showCollectionInfo(item.id)}}},[_c('strong',{attrs:{\"title\":item.id}},[_vm._v(_vm._s(item.id))]),(item.title)?_c('small',{attrs:{\"title\":item.title}},[_vm._v(_vm._s(item.title))]):_vm._e()]),(_vm.hasCollectionPreview(item))?_c('button',{staticClass:\"discovery-button\",attrs:{\"type\":\"button\",\"title\":\"View on map\"},on:{\"click\":function($event){return _vm.showCollectionPreview(item)}}},[_c('i',{staticClass:\"fas fa-map\"})]):_vm._e()])]}}])}),_c('Processes',{staticClass:\"category\",attrs:{\"processes\":_vm.allProcesses,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'process', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showProcess(item)}}},[(item.namespace === 'user')?_c('i',{staticClass:\"custom-process fas fa-xs fa-sitemap\",attrs:{\"title\":\"Custom Process\"}}):(item.namespace !== 'backend')?_c('i',{staticClass:\"custom-process fas fa-xs fa-tag\",attrs:{\"title\":(\"Process from namespace '\" + (item.namespace) + \"'\")}}):_vm._e(),_c('strong',{attrs:{\"title\":item.id}},[_vm._v(_vm._s(item.id))]),(item.summary)?_c('small',{attrs:{\"title\":item.summary}},[_vm._v(_vm._s(item.summary))]):_vm._e()])])]}}])}),(_vm.hasUdfRuntimes)?_c('UdfRuntimes',{staticClass:\"category\",attrs:{\"runtimes\":_vm.udfRuntimes,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar summary = ref.summary;\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsRunUdf},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'udf', {runtime: summary.identifier, version: item.default})}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showUdfInfo(summary.identifier, item)}}},[_c('strong',{attrs:{\"title\":summary.identifier}},[_vm._v(_vm._s(summary.identifier)+\" (\"+_vm._s(item.default)+\")\")]),(summary.summary)?_c('small',{attrs:{\"title\":summary.summary}},[_vm._v(_vm._s(summary.summary))]):_vm._e()])])]}}],null,false,92063951)}):_vm._e(),_c('FileFormats',{staticClass:\"category\",attrs:{\"formats\":_vm.fileFormats,\"showInput\":false,\"heading\":\"Export File Formats\",\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsSaveResult},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'fileformat', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showFileFormatInfo(item)}}},[_c('strong',{attrs:{\"title\":item.name}},[_vm._v(_vm._s(item.name))]),(item.title)?_c('small',{attrs:{\"title\":item.title}},[_vm._v(_vm._s(item.title))]):_vm._e()])])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"discovery-toolbar\">\n\t\t<SearchBox v-model=\"searchTerm\" />\n\t\t<div class=\"search-results\">\n\t\t\t<Collections class=\"category\" :collections=\"collections\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsLoadCollection\" @dragstart=\"onDrag($event, 'collection', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showCollectionInfo(item.id)\">\n\t\t\t\t\t\t\t<strong :title=\"item.id\">{{ item.id }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.title\" :title=\"item.title\">{{ item.title }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button v-if=\"hasCollectionPreview(item)\" class=\"discovery-button\" type=\"button\" @click=\"showCollectionPreview(item)\" title=\"View on map\"><i class=\"fas fa-map\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Collections>\n\n\t\t\t<Processes class=\"category\" :processes=\"allProcesses\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" draggable=\"true\" @dragstart=\"onDrag($event, 'process', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showProcess(item)\">\n\t\t\t\t\t\t\t<i v-if=\"item.namespace === 'user'\" class=\"custom-process fas fa-xs fa-sitemap\" title=\"Custom Process\"></i>\n\t\t\t\t\t\t\t<i v-else-if=\"item.namespace !== 'backend'\" class=\"custom-process fas fa-xs fa-tag\" :title=\"`Process from namespace '${item.namespace}'`\"></i>\n\t\t\t\t\t\t\t<strong :title=\"item.id\">{{ item.id }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.summary\" :title=\"item.summary\">{{ item.summary }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Processes>\n\n\t\t\t<UdfRuntimes v-if=\"hasUdfRuntimes\" class=\"category\" :runtimes=\"udfRuntimes\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ summary, item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsRunUdf\" @dragstart=\"onDrag($event, 'udf', {runtime: summary.identifier, version: item.default})\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showUdfInfo(summary.identifier, item)\">\n\t\t\t\t\t\t\t<strong :title=\"summary.identifier\">{{ summary.identifier }} ({{ item.default }})</strong>\n\t\t\t\t\t\t\t<small v-if=\"summary.summary\" :title=\"summary.summary\">{{ summary.summary }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</UdfRuntimes>\n\n\t\t\t<FileFormats class=\"category\" :formats=\"fileFormats\" :showInput=\"false\" heading=\"Export File Formats\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsSaveResult\" @dragstart=\"onDrag($event, 'fileformat', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showFileFormatInfo(item)\">\n\t\t\t\t\t\t\t<strong :title=\"item.name\">{{ item.name }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.title\" :title=\"item.title\">{{ item.title }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</FileFormats>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport Collections from '@openeo/vue-components/components/Collections.vue';\nimport FileFormats from '@openeo/vue-components/components/FileFormats.vue';\nimport Processes from '@openeo/vue-components/components/Processes.vue';\nimport SearchBox from '@openeo/vue-components/components/SearchBox.vue';\nimport UdfRuntimes from '@openeo/vue-components/components/UdfRuntimes.vue';\n\nexport default {\n\tname: 'DiscoveryToolbar',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tCollections,\n\t\tFileFormats,\n\t\tProcesses,\n\t\tSearchBox,\n\t\tUdfRuntimes\n\t},\n\tprops: {\n\t\tonAddProcess: {\n\t\t\ttype: Function,\n\t\t\trequired: true\n\t\t},\n\t\tcollectionPreview: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tpersist: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinternalSearchTerm: '',\n\t\t\tcollapsed: true\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['collections', 'udfRuntimes']),\n\t\t...Utils.mapState('editor', ['discoverySearchTerm']),\n\t\t...Utils.mapGetters(['supports', 'collectionDefaults', 'fileFormats', 'processes']),\n\t\tsupportsLoadCollection() {\n\t\t\treturn this.processes.has('load_collection');\n\t\t},\n\t\tsupportsRunUdf() {\n\t\t\treturn this.processes.has('run_udf');\n\t\t},\n\t\tsupportsSaveResult() {\n\t\t\treturn this.processes.has('save_result');\n\t\t},\n\t\thasUdfRuntimes() {\n\t\t\treturn Utils.size(this.udfRuntimes);\n\t\t},\n\t\tallProcesses() {\n\t\t\treturn this.processes.all();\n\t\t},\n\t\tsearchTerm: {\n\t\t\tget() {\n\t\t\t\tif (this.persist) {\n\t\t\t\t\treturn this.discoverySearchTerm;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn this.internalSearchTerm;\n\t\t\t\t}\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tif (this.persist) {\n\t\t\t\t\tthis.setDiscoverySearchTerm(newValue);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.internalSearchTerm = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tsearchTerm: {\n\t\t\timmediate: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (!newVal && oldVal) {\n\t\t\t\t\tthis.collapsed = true;\n\t\t\t\t}\n\t\t\t\telse if (newVal && !oldVal) {\n\t\t\t\t\tthis.collapsed = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['setDiscoverySearchTerm']),\n\t\tonDrag(event, type, data) {\n\t\t\tlet node = this.getNode(type, data);\n\t\t\tevent.dataTransfer.setData(\"application/vnd.openeo-node\", JSON.stringify(node));\n\t\t\tevent.dataTransfer.setData(\"text/plain\", JSON.stringify(node, null, 2));\n\t\t},\n\t\tshowCollectionInfo(id) {\n\t\t\tthis.emit('showCollection', id);\n\t\t},\n\t\thasCollectionPreview(collection) {\n\t\t\treturn Boolean(this.collectionPreview && Utils.getPreviewLinkFromSTAC(collection));\n\t\t},\n\t\tshowCollectionPreview(collection) {\n\t\t\tthis.emit('showCollectionPreview', collection);\n\t\t},\n\t\tshowProcess(process) {\n\t\t\tthis.emit('showProcess', process);\n\t\t},\n\t\tshowUdfInfo(id, data) {\n\t\t\tthis.emit('showModal', 'UdfRuntimeModal', {id, data, version: data.default});\n\t\t},\n\t\tshowFileFormatInfo(format) {\n\t\t\tlet props = {\n\t\t\t\tid: format.name,\n\t\t\t\tformat: this.fileFormats.output[format.name],\n\t\t\t\ttype: \"output\"\n\t\t\t};\n\t\t\tthis.emit('showModal', 'FileFormatModal', props);\n\t\t},\n\t\tgetNode(type, data) {\n\t\t\tswitch(type) {\n\t\t\t\tcase 'collection':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'load_collection',\n\t\t\t\t\t\targuments: this.collectionDefaults(data.id)\n\t\t\t\t\t};\n\t\t\t\tcase 'process':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: data.id,\n\t\t\t\t\t\tnamespace: data.namespace,\n\t\t\t\t\t\targuments: {}\n\t\t\t\t\t};\n\t\t\t\tcase 'udf':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'run_udf',\n\t\t\t\t\t\targuments: data\n\t\t\t\t\t};\n\t\t\t\tcase 'fileformat':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'save_result',\n\t\t\t\t\t\targuments: {format: data.name, options: {}}\n\t\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.search-results h2.heading {\n\tfont-size: 1em;\n\tborder: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tmargin-bottom: 0.5em;\n}\n.search-results .vue-component.searchable-list ul.list > li > summary:before {\n\tcontent: '';\n\tmargin-left: 0;\n\tfloat: none;\n}\n.search-results .vue-component.searchable-list ul.list > li > summary {\n\tmargin: 0;\n\tline-height: inherit;\n}\n.search-results .vue-component.searchable-list ul.list > li {\n\tmargin-bottom: 0;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n@import '../../theme.scss';\n\n.discovery-toolbar {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden; /* to hide .search-box .icon */\n}\n\n.search-results {\n\toverflow-y: auto;\n\tflex-grow: 1;\n}\n\n.category {\n\tpadding: 5px;\n}\n.category strong {\n\tcursor: pointer;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.discovery-entity {\n\tdisplay: flex;\n\tmargin: 0.25em 0;\n\tborder: 1px solid #ddd;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tuser-select: none;\n\tfont-size: 0.9em;\n\n\tstrong {\n\t\tdisplay: block;\n\t\tfont-weight: normal;\n\t\twhite-space: nowrap;\n\t\twidth: 100%;\n\t\toverflow: hidden; \n\t\ttext-overflow: ellipsis;\n\t\tcolor: $linkColor;\n\t}\n\n\tsmall {\n\t\tmargin-top: 0.25em;\n\t\tdisplay: block;\n\t}\n\n\t.discovery-info {\n\t\tflex-grow: 1;\n\t\tpadding: 5px;\n\t\twidth: 100%;\n\t\toverflow: hidden; \n\t\tposition: relative;\n\n\t\t&:hover {\n\t\t\tbackground-color: #eee;\n\n\t\t\tstrong {\n\t\t\t\tcolor: #000;\n\t\t\t}\n\t\t}\n\t}\n\n\t.discovery-button {\n\t\tdisplay: block;\n\t\tmargin: 0;\n\t\tpadding: 5px;\n\t\tbackground-color: #fff;\n\t\tcolor: #aaa;\n\t\tborder: 0;\n\t\tborder-left: 1px solid #ddd;\n\n\t\t&:hover {\n\t\t\tbackground-color: #eee;\n\t\t\tcolor: #000;\n\t\t}\n\t}\n\n\t.custom-process {\n\t\tposition: absolute;\n\t\ttop: 7px;\n\t\tright: 5px;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiscoveryToolbar.vue?vue&type=template&id=e5b627b0&scoped=true&\"\nimport script from \"./DiscoveryToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./DiscoveryToolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DiscoveryToolbar.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./DiscoveryToolbar.vue?vue&type=style&index=1&id=e5b627b0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5b627b0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{ref:\"tabs\",staticClass:\"editor\",attrs:{\"id\":\"customProcessContent\",\"position\":\"bottom\"}},[_c('Tab',{attrs:{\"id\":\"visual\",\"name\":\"Visual Model\",\"icon\":\"fa-project-diagram\",\"selected\":true,\"allowShow\":_vm.canSwitchView},on:{\"show\":_vm.showModel}},[_c('VisualEditor',{ref:\"graphBuilder\",staticClass:\"visualEditorTab\",attrs:{\"editable\":_vm.editable,\"parent\":_vm.parent,\"parentSchema\":_vm.parentSchema,\"value\":_vm.modelValue,\"title\":_vm.title,\"id\":_vm.id + '_visual',\"showDiscoveryToolbar\":_vm.showDiscoveryToolbar,\"defaultValue\":_vm.defaultValue},on:{\"input\":_vm.commit,\"error\":_vm.onError},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_vm._t(\"file-toolbar\")]},proxy:true},{key:\"toolbar\",fn:function(){return [_vm._t(\"toolbar\")]},proxy:true}],null,true)})],1),_c('Tab',{attrs:{\"id\":\"source\",\"name\":\"Code\",\"icon\":\"fa-code\",\"allowShow\":_vm.canSwitchView},on:{\"show\":_vm.showCode}},[_c('TextEditor',{ref:\"sourceEditor\",staticClass:\"textEditorTab\",attrs:{\"editable\":_vm.editable,\"value\":_vm.codeValue,\"title\":_vm.title,\"id\":_vm.id + '_text',\"language\":\"processgraph\"},on:{\"input\":_vm.commit,\"error\":_vm.onError},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_vm._t(\"file-toolbar\")]},proxy:true},{key:\"toolbar\",fn:function(){return [_vm._t(\"toolbar\")]},proxy:true}],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"visualEditor\",staticClass:\"visualEditor\"},[_c('div',{staticClass:\"sourceHeader\"},[(_vm.title)?_c('strong',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"sourceToolbar\"},[(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"New script / Clear current script\"},on:{\"click\":_vm.confirmClear}},[_c('i',{staticClass:\"fas fa-file\"})]),_vm._t(\"file-toolbar\")],2):_vm._e(),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canUndo,\"title\":\"Revert last change\"},on:{\"click\":function($event){return _vm.$refs.blocks.undo()}}},[_c('i',{staticClass:\"fas fa-undo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canRedo,\"title\":\"Redo last reverted change\"},on:{\"click\":function($event){return _vm.$refs.blocks.redo()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.hasSelection,\"title\":\"Delete selected elements\"},on:{\"click\":function($event){return _vm.$refs.blocks.deleteSelected()}}},[_c('i',{staticClass:\"fas fa-trash\"})])]):_vm._e(),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[(!_vm.parent)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"Edit Process Metadata\"},on:{\"click\":function () { return _vm.editProcess(_vm.value); }}},[_c('i',{staticClass:\"fas fa-edit\"})]):_vm._e(),_c('button',{attrs:{\"type\":\"button\",\"title\":\"Add Parameter\"},on:{\"click\":_vm.addParameter}},[_c('i',{staticClass:\"fas fa-parking\"})]),(_vm.supportsMath)?_c('button',{class:{highlightFormula: _vm.isMath},attrs:{\"type\":\"button\",\"title\":\"Insert/Edit formula\"},on:{\"click\":_vm.showExpressionModal}},[_c('i',{staticClass:\"fas fa-square-root-alt\"})]):_vm._e()]):_vm._e(),_c('button',{class:{compactMode: _vm.compactMode},attrs:{\"type\":\"button\",\"title\":\"Compact Mode\"},on:{\"click\":function($event){return _vm.$refs.blocks.toggleCompact()}}},[_c('i',{staticClass:\"fas fa-compress-arrows-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"title\":\"Scale to perfect size\"},on:{\"click\":function($event){return _vm.$refs.blocks.perfectScale()}}},[_c('i',{staticClass:\"fas fa-arrows-alt\"})]),_c('FullscreenButton',{attrs:{\"element\":function () { return this$1.$refs.visualEditor; }},on:{\"changed\":function (enabled) {this$1.$refs.blocks.perfectScale(); _vm.isFullScreen = enabled}}}),_vm._t(\"toolbar\")],2)]),_c('div',{staticClass:\"editorSplitter\"},[((_vm.showDiscoveryToolbar || _vm.isFullScreen) && _vm.editable)?_c('DiscoveryToolbar',{staticClass:\"discoveryToolbar\",attrs:{\"onAddProcess\":_vm.insertProcess}}):_vm._e(),_c('div',{staticClass:\"graphBuilder\",on:{\"drop\":_vm.onDrop,\"dragover\":_vm.allowDrop}},[_c('ModelBuilder',{ref:\"blocks\",attrs:{\"editable\":_vm.editable,\"id\":_vm.id,\"processes\":_vm.processes,\"collections\":_vm.collections,\"parent\":_vm.parent,\"parentSchema\":_vm.parentSchema,\"value\":_vm.value},on:{\"input\":_vm.commit,\"error\":_vm.errorHandler,\"showProcess\":function (id, namespace) { return _vm.emit('showProcess', {id: id, namespace: namespace}); },\"showCollection\":function (id) { return _vm.emit('showCollection', id); },\"showParameter\":function (param) { return _vm.emit('showProcessParameter', param); },\"editParameter\":_vm.editParameter,\"editArguments\":_vm.openArgumentEditor,\"compactMode\":function (compact) { return this$1.compactMode = compact; },\"selectionChanged\":_vm.selectionChanged,\"historyChanged\":_vm.historyChanged}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"visualEditor\" ref=\"visualEditor\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<strong v-if=\"title\">{{ title }}</strong>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"confirmClear\" title=\"New script / Clear current script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t\t<slot name=\"file-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.undo()\" :disabled=\"!canUndo\" title=\"Revert last change\"><i class=\"fas fa-undo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.redo()\" :disabled=\"!canRedo\" title=\"Redo last reverted change\"><i class=\"fas fa-redo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.deleteSelected()\" :disabled=\"!hasSelection\" title=\"Delete selected elements\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" v-if=\"!parent\" @click=\"() => editProcess(value)\" title=\"Edit Process Metadata\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"addParameter\" title=\"Add Parameter\"><i class=\"fas fa-parking\"></i></button>\n\t\t\t\t\t<button type=\"button\" v-if=\"supportsMath\" :class=\"{highlightFormula: isMath}\" @click=\"showExpressionModal\" title=\"Insert/Edit formula\"><i class=\"fas fa-square-root-alt\"></i></button>\n\t\t\t\t</span>\n\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.toggleCompact()\" :class=\"{compactMode: compactMode}\" title=\"Compact Mode\"><i class=\"fas fa-compress-arrows-alt\"></i></button>\n\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.perfectScale()\" title=\"Scale to perfect size\"><i class=\"fas fa-arrows-alt\"></i></button>\n\t\t\t\t<FullscreenButton :element=\"() => this.$refs.visualEditor\" @changed=\"enabled => {this.$refs.blocks.perfectScale(); isFullScreen = enabled}\" />\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"editorSplitter\">\n\t\t\t<DiscoveryToolbar v-if=\"(showDiscoveryToolbar || isFullScreen) && editable\" class=\"discoveryToolbar\" :onAddProcess=\"insertProcess\" />\n\t\t\t<div class=\"graphBuilder\" @drop=\"onDrop\" @dragover=\"allowDrop\">\n\t\t\t\t<ModelBuilder\n\t\t\t\t\tref=\"blocks\"\n\t\t\t\t\t:editable=\"editable\"\n\t\t\t\t\t:id=\"id\"\n\t\t\t\t\t:processes=\"processes\"\n\t\t\t\t\t:collections=\"collections\"\n\t\t\t\t\t:parent=\"parent\"\n\t\t\t\t\t:parentSchema=\"parentSchema\"\n\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t@input=\"commit\"\n\t\t\t\t\t@error=\"errorHandler\"\n\t\t\t\t\t@showProcess=\"(id, namespace) => emit('showProcess', {id, namespace})\"\n\t\t\t\t\t@showCollection=\"id => emit('showCollection', id)\"\n\t\t\t\t\t@showParameter=\"param => emit('showProcessParameter', param)\"\n\t\t\t\t\t@editParameter=\"editParameter\"\n\t\t\t\t\t@editArguments=\"openArgumentEditor\"\n\t\t\t\t\t@compactMode=\"compact => this.compactMode = compact\"\n\t\t\t\t\t@selectionChanged=\"selectionChanged\"\n\t\t\t\t\t@historyChanged=\"historyChanged\"\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ModelBuilder from '@openeo/vue-components/components/ModelBuilder.vue';\nimport Utils from '../utils.js';\nimport DiscoveryToolbar from './DiscoveryToolbar.vue';\nimport EventBusMixin from './EventBusMixin.vue';\nimport FullscreenButton from './FullscreenButton.vue';\nimport { ProcessParameter } from '@openeo/js-commons';\nimport JavaScript from '../export/javascript';\n\nexport default {\n\tname: 'VisualEditor',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tModelBuilder,\n\t\tDiscoveryToolbar,\n\t\tFullscreenButton\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t},\n\t\tparent: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tparentSchema: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tshowDiscoveryToolbar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t},\n\t\tdefaultValue: {}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection', 'collections']),\n\t\t...Utils.mapGetters(['processes', 'supportsMath']),\n\t\t...Utils.mapState('editor', ['initialNode']),\n\t\tisMath() {\n\t\t\treturn (this.supportsMath && this.processes.isMath(this.value));\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanUndo: false,\n\t\t\tcanRedo: false,\n\t\t\tcompactMode: false,\n\t\t\thasSelection: false,\n\t\t\tformula: null,\n\t\t\tisFullScreen: false\n\t\t};\n\t},\n\twatch: {\n\t\tvalue: {\n\t\t\timmediate: true,\n\t\t\thandler(value) {\n\t\t\t\tif (this.initialNode && Utils.isObject(value) && Utils.isObject(value.process_graph)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet node = this.initialNode;\n\t\t\t\t\t\tif (node == \"1\" && Utils.size(value.process_graph)) {\n\t\t\t\t\t\t\tnode = Object.keys(value.process_graph)[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.openArgumentEditorForNode(node);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tUtils.exception(this, error);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis.setInitialNode(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['setInitialNode']),\n\t\tcommit(value) {\n\t\t\t// Fix #115: Return the default value/null if no nodes are given\n\t\t\tif (typeof this.defaultValue !== 'undefined' && Utils.isObject(value) && Utils.size(value.process_graph) === 0) {\n\t\t\t\tvalue = this.defaultValue;\n\t\t\t}\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\terrorHandler(message, title = null) {\n\t\t\tUtils.exception(this, message, title)\n\t\t},\n\t\tselectionChanged(blocks, edges) {\n\t\t\tthis.hasSelection = Boolean(blocks.filter(block => block.$el.allowsDelete).length || edges.length);\n\t\t},\n\t\thistoryChanged(history, index) {\n\t\t\tthis.canUndo = !!history[index-1];\n\t\t\tthis.canRedo = !!history[index+1];\n\t\t},\n\t\tallowDrop(event) {\n\t\t\tevent.preventDefault();\n\t\t},\n\t\tonDrop(event) {\n\t\t\tvar editorNodeJson = event.dataTransfer.getData(\"application/vnd.openeo-node\");\n\t\t\tif (editorNodeJson) {\n\t\t\t\tlet node = JSON.parse(editorNodeJson);\n\t\t\t\tthis.insertProcess(node, event.pageX, event.pageY);\n\t\t\t\treturn event.preventDefault();\n\t\t\t}\n\n\t\t\t// Read a JSON file that has been dropped\n\t\t\tlet files = event.dataTransfer.files;\n\t\t\tif (files.length === 1) {\n\t\t\t\tlet file = event.dataTransfer.files[0];\n\t\t\t\tif (file.type === 'application/json') {\n\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\treader.onload = async e => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet process = JSON.parse(e.target.result);\n\t\t\t\t\t\t\tawait this.$refs.blocks.import(process);\n\t\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\t\tUtils.exception(this, error, \"Parsing JSON file failed\");\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\treader.onerror = error => Utils.exception(this, error, \"Reading JSON file failed\");\n\t\t\t\t\treader.readAsText(file, \"UTF-8\");\n\t\t\t\t\treturn event.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetNameField(value = undefined, name = \"name\") {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname,\n\t\t\t\tdescription: 'A unique identifier. Must contain only letters (`a`-`z`), digits (`0`-`9`) and underscores (`_`). `snake_case` is recommended.',\n\t\t\t\tlabel: 'Name',\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tpattern: '^\\\\w+$'\n\t\t\t\t},\n\t\t\t\tdefault: null\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = undefined, optional = false, name = \"description\", label = \"Description\") {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname,\n\t\t\t\tdescription: 'Provides a detailed description. CommonMark (Markdown) syntax can be used for rich text formatting.',\n\t\t\t\tlabel,\n\t\t\t\toptional,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsubtype: 'commonmark'\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tgetOptionalField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'optional',\n\t\t\t\tlabel: 'Optional',\n\t\t\t\tdescription: 'Parameters by default are required. CHeck this option to make the parameter optional. For optional parameters a default value should be specified.',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'boolean'\n\t\t\t\t},\n\t\t\t\tdefault: false\n\t\t\t};\n\t\t},\n\t\tgetDefaultField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'default',\n\t\t\t\tlabel: 'Default Value',\n\t\t\t\tdescription: 'This value is used whenever the user of this process did not specify a value for this parameter.',\n\t\t\t\ttoggledBy: 'optional',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {}\n\t\t\t};\n\t\t},\n\t\tgetExperimentalField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'experimental',\n\t\t\t\tlabel: 'Experimental',\n\t\t\t\tdescription: 'Declares that this is experimental, which means that it is unstable and likely to change.',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'boolean'\n\t\t\t\t},\n\t\t\t\tdefault: false\n\t\t\t};\n\t\t},\n\t\tgetDeprecatedField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'deprecated',\n\t\t\t\tlabel: 'Deprecated',\n\t\t\t\tdescription: 'Declares that this is deprecated with the potential to be removed in any of the next versions. It should be transitioned out of usage.',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'boolean'\n\t\t\t\t},\n\t\t\t\tdefault: false\n\t\t\t};\n\t\t},\n\t\tgetSchemaField(value = undefined, name = \"schema\", label = \"Data Types\") {\n\t\t\tlet subtype = !value ? 'openeo-datatype' : 'json-schema';\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname,\n\t\t\t\tlabel,\n\t\t\t\tdescription: 'Allowed data type(s) as JSON Schema.',\n\t\t\t\tschema: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Single data type',\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tsubtype\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Multiple data types',\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\tminItems: 2,\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tsubtype\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\teditProcess(process) {\n\t\t\tprocess = Utils.isObject(process) ? process : {};\n\t\t\tlet returns = Utils.isObject(process.returns) ? process.returns : {};\n\t\t\tvar fields = [\n\t\t\t\tthis.getNameField(process.id, 'id'),\n\t\t\t\t{\n\t\t\t\t\tvalue: process.summary,\n\t\t\t\t\tname: 'summary',\n\t\t\t\t\tdescription: 'A very short description of the process with usually less than 60 characters.',\n\t\t\t\t\tlabel: 'Summary',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthis.getDescriptionField(process.description, true),\n\t\t\t\t{\n\t\t\t\t\tvalue: process.categories,\n\t\t\t\t\tname: 'categories',\n\t\t\t\t\tlabel: 'Categories',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthis.getExperimentalField(process.experimental),\n\t\t\t\tthis.getDeprecatedField(process.deprecated),\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Parameters',\n\t\t\t\t\tdescription: 'The parameters can be edited directly in the \"Visual Model\" interface.',\n\t\t\t\t\tinfo: true\n\t\t\t\t},\n\t\t\t\tthis.getDescriptionField(returns.description, true, 'returns_description', 'Return Value > Description'),\n\t\t\t\tthis.getSchemaField(returns.schema, 'returns_schema', 'Return Value > Data Type'),\n\t\t\t\t{\n\t\t\t\t\tvalue: process.exceptions,\n\t\t\t\t\tname: 'exceptions',\n\t\t\t\t\tdescription: 'Declares exceptions (errors) that might occur during execution of this process. This list is just for informative purposes.\\n\\nThe keys of the object are the error codes, which should only consist of alphanumerical characters. `PascalCase` is recommended.',\n\t\t\t\t\tlabel: 'Errors',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tadditionalProperties: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"message\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\t\ttitle: 'Error Message',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\ttitle: 'Description',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tsubtype: 'commonmark'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thttp: {\n\t\t\t\t\t\t\t\t\ttitle: 'HTTP Status Code',\n\t\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\t\tenum: [\n\t\t\t\t\t\t\t\t\t\t400,\n\t\t\t\t\t\t\t\t\t\t500,\n\t\t\t\t\t\t\t\t\t\t501\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: process.examples,\n\t\t\t\t\tname: 'examples',\n\t\t\t\t\tlabel: 'Examples',\n\t\t\t\t\tdescription: 'Example calls for this process with specific values for the parameters (arguments) and the result (return value).',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"arguments\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\ttitle: 'Title',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\ttitle: 'Description',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tsubtype: 'commonmark'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\targuments: {\n\t\t\t\t\t\t\t\t\ttitle: 'Arguments',\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tdefault: {}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\treturns: {\n\t\t\t\t\t\t\t\t\ttitle: 'Return Value'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: process.links,\n\t\t\t\t\tname: 'links',\n\t\t\t\t\tlabel: 'Links',\n\t\t\t\t\tdescription: 'Links related to this process, e.g. additional documentation.',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"href\",\n\t\t\t\t\t\t\t\t\"rel\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\thref: {\n\t\t\t\t\t\t\t\t\ttitle: 'URL',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\trel: {\n\t\t\t\t\t\t\t\t\ttitle: 'Relation',\n\t\t\t\t\t\t\t\t\tdescription: 'For examples see [IANA relation types](https://www.iana.org/assignments/link-relations/link-relations.xhtml)',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdefault: 'about'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\ttitle: 'Title',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttype: {\n\t\t\t\t\t\t\t\t\ttitle: 'Media Type',\n\t\t\t\t\t\t\t\t\tdescription: 'For examples see [IANA media types](https://www.iana.org/assignments/media-types/media-types.xhtml)',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Edit Process\", fields, async data => {\n\t\t\t\tlet newData = Utils.pickFromObject(data, ['id', 'summary', 'description', 'categories', 'experimental', 'deprecated', 'exception', 'examples', 'links']);\n\t\t\t\tif (typeof newData.description === 'string' || Utils.isObject(newData.schema)) {\n\t\t\t\t\tnewData.returns = {\n\t\t\t\t\t\tdescription: data.returns_description,\n\t\t\t\t\t\tschema: data.returns_schema\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet process = this.$refs.blocks.export(true);\n\t\t\t\tlet newProcess = Object.assign({}, process, newData);\n\t\t\t\tconst defaults = {\n\t\t\t\t\tid: \"\",\n\t\t\t\t\tsummary: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\tcategories: [],\n\t\t\t\t\texperimental: false,\n\t\t\t\t\tdeprecated: false,\n\t\t\t\t\texamples: [],\n\t\t\t\t\tlinks: [],\n\t\t\t\t\tprocess_graph: {},\n\t\t\t\t};\n\t\t\t\t// Clean up some defaults / empty values\n\t\t\t\tfor(let key in defaults) {\n\t\t\t\t\tif (Utils.equals(defaults[key], newProcess[key])) {\n\t\t\t\t\t\tdelete newProcess[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.commit(newProcess);\n\t\t\t});\n\t\t},\n\t\taddParameter() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getNameField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.getOptionalField(),\n\t\t\t\tthis.getDefaultField(),\n\t\t\t\tthis.getExperimentalField(),\n\t\t\t\tthis.getDeprecatedField(),\n\t\t\t\tthis.getSchemaField()\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Add Parameter\", fields, async data => {\n\t\t\t\tif (typeof data.name === 'string' && data.name.length > 0) {\n\t\t\t\t\tawait this.$refs.blocks.addPgParameter(data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\teditParameter(parameter, title = \"Edit Parameter\", saveCallback = null) {\n\t\t\tvar fields = [\n\t\t\t\tthis.getNameField(parameter.name),\n\t\t\t\tthis.getDescriptionField(parameter.description),\n\t\t\t\tthis.getOptionalField(parameter.optional),\n\t\t\t\tthis.getDefaultField(parameter.default),\n\t\t\t\tthis.getExperimentalField(parameter.experimental),\n\t\t\t\tthis.getDeprecatedField(parameter.deprecated),\n\t\t\t\tthis.getSchemaField(parameter.schema)\n\t\t\t];\n\t\t\tthis.emit('showDataForm', title, fields, saveCallback);\n\t\t},\n\t\tshowExpressionModal() {\n\t\t\tlet js = new JavaScript(this.value, this.processes, this.connection, true);\n\t\t\tjs.setCallbackParameters(this.$refs.blocks.getPgParameters().map(block => block.spec));\n\t\t\ttry {\n\t\t\t\tjs.parse();\n\t\t\t\tlet props = {\n\t\t\t\t\tprocess: js\n\t\t\t\t};\n\t\t\t\tlet events = {\n\t\t\t\t\tsave: this.insertNodes\n\t\t\t\t};\n\t\t\t\tthis.emit('showModal', 'ExpressionModal', props, events);\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\topenArgumentEditorForNode(nodeId) {\n\t\t\tlet process = Utils.deepClone(this.value);\n\t\t\tlet node = process.process_graph[nodeId];\n\t\t\tlet processSpec = this.processes.get(node.process_id, node.namespace);\n\t\t\tthis.openArgumentEditor(\n\t\t\t\tprocessSpec.parameters.map(p => new ProcessParameter(p)).filter(p => p.isEditable()),\n\t\t\t\tnode.arguments,\n\t\t\t\tprocessSpec.id,\n\t\t\t\ttrue,\n\t\t\t\tnull,\n\t\t\t\tdata => {\n\t\t\t\t\tObject.assign(node, {arguments: data});\n\t\t\t\t\tthis.commit(process);\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\topenArgumentEditor(parameters, data, title = \"Edit\", editable = true, selectParameterName = null, saveCallback = null, parent = null) {\n\t\t\tlet props = {\n\t\t\t\ttitle,\n\t\t\t\tparameters,\n\t\t\t\tdata,\n\t\t\t\teditable,\n\t\t\t\tselectParameterName,\n\t\t\t\tparent\n\t\t\t};\n\t\t\tlet events = {};\n\t\t\tif (typeof saveCallback === 'function') {\n\t\t\t\tevents.save = saveCallback;\n\t\t\t}\n\t\t\tthis.emit('showModal', 'ParameterModal', props, events);\n\t\t},\n\t\tconfirmClear() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing model?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.clear();\n\t\t\t}\n\t\t},\n\t\tclear() {\n\t\t\tif (this.$refs.blocks) {\n\t\t\t\tthis.$refs.blocks.clear();\n\t\t\t}\n\t\t\tthis.commit(null);\n\t\t},\n\t\tinsertProcess(node, x = null, y = null) {\n\t\t\ttry {\n\t\t\t\tvar pos = this.$refs.blocks.getPositionForPageXY(x, y);\n\t\t\t\tlet namespace = node.namespace;\n\t\t\t\tif (namespace === 'backend' || namespace === 'user') {\n\t\t\t\t\tnamespace = null;\n\t\t\t\t}\n\t\t\t\tthis.$refs.blocks.addProcess(node.process_id, node.arguments, pos, namespace);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\tasync insertNodes(nodes, replace = false) {\n\t\t\treturn await this.$refs.blocks.import({\n\t\t\t\tprocess_graph: nodes\n\t\t\t}, {\n\t\t\t\tclear: replace\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.visualEditor {\n\tbackground-color: white;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.visualEditor .vue-component.model-builder {\n\tmin-height: 100px;\n\tmin-width: 100px;\n}\n\n.visualEditor .editorSplitter {\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\tflex-grow: 1;\n\theight: 100%;\n\toverflow: hidden;\n}\n\n.visualEditor .discoveryToolbar {\n\twidth: 25%;\n\tmin-width: 150px;\n\tborder-left: 1px solid #ddd;\n}\n.visualEditor.fullscreen .discoveryToolbar {\n\twidth: 15%;\n\tmin-width: 250px;\n}\n\n.graphBuilder {\n\theight: 100%;\n\tflex-grow: 1;\n}\n\n.visualEditor.fullscreen {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.visualEditor.fullscreen .editorSplitter {\n\theight: 100%;\n}\n\n.compactMode {\n\tcolor: green;\n}\n\n@keyframes glowing {\n  0% {\n    box-shadow: 0 0 3px green;\n  }\n  50% {\n    box-shadow: 0 0 10px green;\n  }\n  100% {\n    box-shadow: 0 0 3px green;\n  }\n}\n\n.highlightFormula {\n    animation: glowing 1500ms infinite;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VisualEditor.vue?vue&type=template&id=161fe350&\"\nimport script from \"./VisualEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./VisualEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VisualEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Tabs class=\"editor\" ref=\"tabs\" id=\"customProcessContent\" position=\"bottom\">\n\t\t<Tab id=\"visual\" name=\"Visual Model\" icon=\"fa-project-diagram\" :selected=\"true\" :allowShow=\"canSwitchView\" @show=\"showModel\">\n\t\t\t<VisualEditor class=\"visualEditorTab\" ref=\"graphBuilder\" :editable=\"editable\" :parent=\"parent\" :parentSchema=\"parentSchema\" :value=\"modelValue\" @input=\"commit\" @error=\"onError\" :title=\"title\" :id=\"id + '_visual'\" :showDiscoveryToolbar=\"showDiscoveryToolbar\" :defaultValue=\"defaultValue\">\n\t\t\t\t<template #file-toolbar><slot name=\"file-toolbar\"></slot></template>\n\t\t\t\t<template #toolbar><slot name=\"toolbar\"></slot></template>\n\t\t\t</VisualEditor>\n\t\t</Tab>\n\t\t<Tab id=\"source\" name=\"Code\" icon=\"fa-code\" :allowShow=\"canSwitchView\" @show=\"showCode\">\n\t\t\t<TextEditor class=\"textEditorTab\" ref=\"sourceEditor\" :editable=\"editable\" :value=\"codeValue\" @input=\"commit\" @error=\"onError\" :title=\"title\" :id=\"id + '_text'\" language=\"processgraph\">\n\t\t\t\t<template #file-toolbar><slot name=\"file-toolbar\"></slot></template>\n\t\t\t\t<template #toolbar><slot name=\"toolbar\"></slot></template>\n\t\t\t</TextEditor>\n\t\t</Tab>\n\t</Tabs>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport VisualEditor from './VisualEditor.vue';\nimport TextEditor from './TextEditor.vue';\n\nexport default {\n\tname: 'Editor',\n\tcomponents: {\n\t\tVisualEditor,\n\t\tTextEditor,\n\t\tTabs,\n\t\tTab\n\t},\n\tprops: {\n\t\tid: {\n\t\t\ttype: String,\n\t\t\tdefault: () => `editor_${Date.now()}`\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t},\n\t\tparent: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tparentSchema: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tshowDiscoveryToolbar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tdefaultValue: {}\n\t},\n\twatch: {\n\t\tvalue() {\n\t\t\tthis.updateTab();\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodelValue: null,\n\t\t\tcodeValue: null,\n\t\t\terror: null\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.updateTab();\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['loadProcess']),\n\t\tshowModel() {\n\t\t\tthis.error = null;\n\t\t\tthis.modelValue = this.value;\n\t\t},\n\t\tshowCode() {\n\t\t\tthis.error = null;\n\t\t\tthis.codeValue = this.value;\n\t\t\tthis.$refs.sourceEditor.updateState();\n\t\t},\n\t\tupdateTab() {\n\t\t\tif (this.$refs.tabs.getActiveTabId() === 'source') {\n\t\t\t\tthis.showCode();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.showModel();\n\t\t\t}\n\t\t},\n\t\tcommit(value) {\n\t\t\tthis.error = null;\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tonError(error) {\n\t\t\tthis.error = error;\n\t\t},\n\t\tactiveEditor() {\n\t\t\tif (this.$refs.tabs.getActiveTabId() === 'source') {\n\t\t\t\treturn this.$refs.sourceEditor;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.$refs.graphBuilder;\n\t\t\t}\n\t\t},\n\t\tasync insertProcess(node) {\n\t\t\ttry {\n\t\t\t\tawait this.loadProcess({id: node.process_id, namespace: node.namespace});\n\t\t\t\tthis.activeEditor().insertProcess(node);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\tcanSwitchView() {\n\t\t\tif (this.editable && this.error !== null) {\n\t\t\t\tUtils.exception(this, this.error, 'Process Invalid Error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.editor {\n\t&.vue-component.tabs.boxed > .tabsBody > .tabContent {\n\t\toverflow: hidden;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=c197c472&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Utils from \"../utils\";\nimport Exporter from \"./exporter\";\nimport { Formula } from '@openeo/js-client';\n\nconst KEYWORDS = [\n\t\"abstract\",\n\t\"arguments\",\n\t\"await\",\n\t\"boolean\",\n\t\"break\",\n\t\"byte\",\n\t\"case\",\n\t\"catch\",\n\t\"char\",\n\t\"class\",\n\t\"const\",\n\t\"continue\",\n\t\"debugger\",\n\t\"default\",\n\t\"delete\",\n\t\"do\",\n\t\"double\",\n\t\"else\",\n\t\"enum\",\n\t\"eval\",\n\t\"export\",\n\t\"extends\",\n\t\"false\",\n\t\"final\",\n\t\"finally\",\n\t\"float\",\n\t\"for\",\n\t\"function\",\n\t\"goto\",\n\t\"if\",\n\t\"implements\",\n\t\"import\",\n\t\"in\",\n\t\"instanceof\",\n\t\"int\",\n\t\"interface\",\n\t\"let\",\n\t\"long\",\n\t\"native\",\n\t\"new\",\n\t\"null\",\n\t\"package\",\n\t\"private\",\n\t\"protected\",\n\t\"public\",\n\t\"return\",\n\t\"short\",\n\t\"static\",\n\t\"super\",\n\t\"switch\",\n\t\"synchronized\",\n\t\"this\",\n\t\"throw\",\n\t\"throws\",\n\t\"transient\",\n\t\"true\",\n\t\"try\",\n\t\"typeof\",\n\t\"var\",\n\t\"void\",\n\t\"volatile\",\n\t\"while\",\n\t\"with\",\n\t\"yield\",\n\t// specific to this generator\n\t\"builder\",\n\t\"connection\",\n\t\"formula\",\n\t\"openeo\",\n\t\"result\"\n];\n\nexport default class JavaScript extends Exporter {\n\n\tconstructor(process, registry, connection, generateFormula = false) {\n\t\tsuper(process, registry, connection);\n\t\tthis.generateFormula = generateFormula;\n\t}\n\n\tcreateProcessGraphInstance(process) {\n\t\tlet pg = new JavaScript(process, this.processRegistry, this.getJsonSchemaValidator(), this.generateFormula);\n\t\treturn this.copyProcessGraphInstanceProperties(pg);\n\t}\n\n\tparse() {\n\t\tif (this.parsed) {\n\t\t\treturn;\n\t\t}\n\t\tsuper.parse();\n\t}\n\n\tgetKeywords() {\n\t\treturn KEYWORDS;\n\t}\n\n\tcomment(comment) {\n\t\tthis.addCode(comment, '// ');\n\t}\n\n\tgenerateImports() {\n\t\tthis.addCode(`import { OpenEO, Formula } from '@openeo/js-client';`);\n\t}\n\n\tgenerateConnection() {\n\t\tthis.addCode(`let connection = await OpenEO.connect('${this.getServerUrl()}');`);\n\t}\n\n\tgenerateAuthentication() {\n\t\tthis.comment(`ToDo: Here you need to add your authentication steps`);\n\t}\n\n\tgenerateBuilder() {\n\t\tthis.addCode(`let builder = await connection.buildProcess();`);\n\t}\n\n\tgenerateMetadataEntry(key, value) {\n\t\tthis.addCode(`builder.${key} = ${this.e(value)};`);\n\t}\n\n\tasync generateFunction(node) {\n\t\tlet variable = this.var(node.id);\n\t\tlet builderName = node.getParent() ? 'this' : 'builder';\n\t\tlet args = await this.generateArguments(node, !node.namespace);\n\n\t\tthis.comment(node.description);\n\t\tif (Utils.isObject(args)) {\n\t\t\tlet processId = node.namespace ? `${node.process_id}@${node.namespace}` : node.process_id;\n\t\t\tthis.addCode(`let ${variable} = ${builderName}.process(\"${processId}\", ${this.e(args)});`);\n\t\t}\n\t\telse {\n\t\t\tthis.addCode(`let ${variable} = ${builderName}.${node.process_id}(${args.map(arg => this.e(arg)).join(', ')});`);\n\t\t}\n\t}\n\n\tgenerateMissingParameter(parameter) {\n\t\tthis.comment(parameter.description);\n\t\tlet paramName = this.var(parameter.name, 'param');\n\t\tlet value = typeof parameter.default !== 'undefined' ? parameter.default : null;\n\t\tthis.addCode(`let ${paramName} = ${this.e(value)};`);\n\t}\n\n\tasync generateCallback(callback, parameters, variable) {\n\t\tif (this.generateFormula && callback && callback.isMath()) {\n\t\t\tlet formula = callback.toFormulaString();\n\t\t\tlet escaped = JSON.stringify(formula);\n\t\t\treturn `new Formula(${escaped})`;\n\t\t}\n\t\telse {\n\t\t\tlet params = this.generateFunctionParams(parameters);\n\t\t\tthis.newLine();\n\t\t\tthis.addCode(`let ${variable} = function(${params.join(', ')}) {`);\n\t\t\tthis.indent++;\n\t\t\tthis.addCode(await callback.toCode(true));\n\t\t\tthis.indent--;\n\t\t\tthis.addCode(`}`);\n\t\t}\n\t}\n\n\tgenerateResult(resultNode, callback) {\n\t\tif (!resultNode) {\n\t\t\treturn;\n\t\t}\n\t\tlet variable = this.var(resultNode.id);\n\t\tif (callback) {\n\t\t\tthis.addCode(`return ${variable};`);\n\t\t}\n\t\telse {\n\t\t\tthis.addCode(`let result = await connection.computeResult(${variable});`);\n\t\t}\n\t}\n\n\ttoFormulaString() {\n\t\tif (this.isMath()) {\n\t\t\treturn this.nodeToFormula(this.getResultNode());\n\t\t}\n\t\telse {\n\t\t\treturn '';\n\t\t}\n\t}\n\n\tgetArrayElementPlaceholder(node) {\n\t\tif (node.process_id === 'array_element') {\n\t\t\tif (node.getArgumentType('data') === 'parameter') {\n\t\t\t\tlet parameter = node.getRawArgument('data').from_parameter;\n\t\t\t\tlet index = this.getCallbackParameters().findIndex(param => param.name === parameter);\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\treturn '$'.repeat(index+1) + (node.getArgument('label') || node.getArgument('index'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tnodeToFormula(node, parentOperator = null) {\n\t\tif (node.process_id === 'array_element') {\n\t\t\tlet arrayElement = this.getArrayElementPlaceholder(node);\n\t\t\tif (arrayElement) {\n\t\t\t\treturn arrayElement;\n\t\t\t}\n\t\t}\n\n\t\tlet operator = Formula.reverseOperatorMapping[node.process_id];\n\t\tlet process = this.processRegistry.get(node.process_id);\n\t\tlet isArrayData = (typeof Formula.arrayOperatorMapping[node.process_id] !== 'undefined');\n\n\t\tlet convertValue = value => {\n\t\t\tif (Utils.isObject(value)) {\n\t\t\t\tif (value.from_node) {\n\t\t\t\t\tlet refNode = node.getProcessGraph().getNode(value.from_node);\n\t\t\t\t\tif (refNode) {\n\t\t\t\t\t\tvalue = this.nodeToFormula(refNode, operator);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvalue = '#' + value.from_node;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (value.from_parameter) {\n\t\t\t\t\tvalue = value.from_parameter;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error('Objects not allowed');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\t// Create the list of arguments\n\t\tlet argList = [];\n\t\tlet params = Array.isArray(process.parameters) ? process.parameters : [];\n\t\tfor(let parameter of params) {\n\t\t\tlet value = convertValue(node.getRawArgument(parameter.name));\n\n\t\t\tif (isArrayData && Array.isArray(value) && parameter.name === 'data') {\n\t\t\t\targList = value.map(v => convertValue(v));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if(typeof value !== 'undefined') {\n\t\t\t\targList.push(value);\n\t\t\t}\n\t\t\telse if(typeof parameter.default !== 'undefined') {\n\t\t\t\targList.push(parameter.default);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthrow new Error('Argument for parameter \"' + parameter.name + '\" missing');\n\t\t\t}\n\t\t}\n\t\t \n\t\t // Filter null values for array data to handle ignore_nodata\n\t\tif (isArrayData) {\n\t\t\targList = argList.filter(v => v !== null);\n\t\t}\n\n\t\tif (operator) {\n\t\t\tlet strongOps = ['/', '*']; // \"Punktrechnung\" vor\n\t\t\tlet weakOps = ['-', '+']; // \"Strichrechung\"\n\t\t\tlet formula = argList\n\t\t\t\t.map(v => v < 0 ? '(' + v + ')' : v) // Put negative values in brackets\n\t\t\t\t.join(operator); // Merge everything together\n\t\t\t\n\t\t\t// Check whether brackets are required\n\t\t\tif (\n\t\t\t\t// No brackets on top-level\n\t\t\t\t!parentOperator\n\t\t\t\t// If operators are both weak, no brackets required\n\t\t\t\t|| (weakOps.includes(parentOperator) && weakOps.includes(operator))\n\t\t\t\t// If operators are both strong, no brackets required -> not correct, x/(a*b) needs it, see https://github.com/Open-EO/openeo-web-editor/issues/235\n//\t\t\t\t|| (strongOps.includes(parentOperator) && strongOps.includes(operator))\n\t\t\t\t// No brackets required for power, it's the strongest operation\n\t\t\t\t|| operator === '^'\n\t\t\t\t// If the parent operation is a weak operation (+/-) and this is a strong operation, no brackets required\n\t\t\t\t|| (weakOps.includes(parentOperator) && strongOps.includes(operator))\n\t\t\t) {\n\t\t\t\treturn formula;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn '(' + formula + ')';\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\treturn node.process_id + '(' + argList.join(', ') + ')';\n\t\t}\n\t}\n\n}","import Utils from '../utils';\nimport { SupportedFormat } from './format';\n\nclass JSON_ extends SupportedFormat {\n\n\tconstructor(asset, component = \"DataViewer\") {\n\t\tsuper(asset, component);\n\n\t\tthis.isGeoJson = false;\n\t\t// this.isCovJson = false;\n\t}\n\n\tasync parseData(data) {\n\t\tif (typeof data === 'string') {\n\t\t\ttry {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t}\n\t\tif (Utils.detectGeoJson(data)) {\n\t\t\tthis.isGeoJson = true;\n\t\t\tthis.component = 'MapViewer';\n\t\t\tthis.icon = 'fa-map';\n\t\t}\n\t\treturn data;\n\t}\n}\n\nexport default JSON_;","const indexOfMatch = require(\"./index-of-match.js\");\n\nfunction findTagByName(xml, tagName, options) {\n  const debug = (options && options.debug) || false;\n\n  const startIndex = (options && options.startIndex) || 0;\n\n  if (debug) console.log(\"starting findTagByName with\", tagName, \" and \", options);\n\n  const start = indexOfMatch(xml, `\\<${tagName}[ \\>]`, startIndex);\n  if (debug) console.log(\"start:\", start);\n  if (start === -1) return undefined;\n\n  const afterStart = xml.slice(start + tagName.length);\n  let relativeEnd = indexOfMatch(afterStart, \"[ /]\" + tagName + \">\", 0);\n  const selfClosing = relativeEnd === -1;\n\n  if (selfClosing) {\n    relativeEnd = indexOfMatch(afterStart, \"[ /]>\", 0);\n  }\n\n  const end = start + tagName.length + relativeEnd + 1 + (selfClosing ? 0 : tagName.length) + 1;\n  if (debug) console.log(\"end:\", end);\n  if (end === -1) return undefined;\n\n  const outer = xml.slice(start, end);\n  // tag is like <gml:identifier codeSpace=\"OGP\">urn:ogc:def:crs:EPSG::32617</gml:identifier>\n\n  let inner;\n  if (selfClosing) {\n    inner = null;\n  } else {\n    inner = outer.slice(outer.indexOf(\">\") + 1, outer.lastIndexOf(\"<\"));\n  }\n\n  return { inner, outer, start, end };\n}\n\nmodule.exports = findTagByName;\n","/*! http://mths.be/repeat v0.2.0 by @mathias */\nif (!String.prototype.repeat) {\n\t(function() {\n\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar repeat = function(count) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\t// `ToInteger`\n\t\t\tvar n = count ? Number(count) : 0;\n\t\t\tif (n != n) { // better `isNaN`\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\t// Account for out-of-bounds indices\n\t\t\tif (n < 0 || n == Infinity) {\n\t\t\t\tthrow RangeError();\n\t\t\t}\n\t\t\tvar result = '';\n\t\t\twhile (n) {\n\t\t\t\tif (n % 2 == 1) {\n\t\t\t\t\tresult += string;\n\t\t\t\t}\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tstring += string;\n\t\t\t\t}\n\t\t\t\tn >>= 1;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, 'repeat', {\n\t\t\t\t'value': repeat,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.repeat = repeat;\n\t\t}\n\t}());\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('div',{class:{authenticated: _vm.isAuthenticated},attrs:{\"id\":\"ide\"}},[_c('header',{staticClass:\"navbar\"},[_c('Logo'),_c('ul',{attrs:{\"id\":\"menu\"}},[_c('li',[_c('div',{staticClass:\"menuItem\",attrs:{\"title\":\"Start a guided tour\"},on:{\"click\":_vm.showHelp}},[_c('i',{staticClass:\"fas fa-question fa-fw\"}),_vm._v(\" Help\")])]),_c('li',[_c('div',{staticClass:\"menuItem\",attrs:{\"title\":\"Get server information\"},on:{\"click\":_vm.showServerInfo}},[_c('i',{staticClass:\"fas fa-info fa-fw\"}),_vm._v(\" Server\")])]),_c('li',[_c('UserMenu')],1)])],1),_c('Splitpanes',{staticClass:\"default-theme\",on:{\"resize\":_vm.resized,\"pane-maximize\":_vm.resized}},[_c('Pane',{attrs:{\"id\":\"discovery\",\"size\":_vm.splitpaneSizeH[0]}},[_c('DiscoveryToolbar',{staticClass:\"toolbar tour-ide-discovery\",attrs:{\"onAddProcess\":_vm.insertProcess,\"collectionPreview\":true,\"persist\":true}})],1),_c('Pane',{attrs:{\"id\":\"workspace\",\"size\":_vm.splitpaneSizeH[1]}},[_c('Splitpanes',{staticClass:\"default-theme\",attrs:{\"horizontal\":\"\"},on:{\"resize\":_vm.resized,\"pane-maximize\":_vm.resized}},[_c('Pane',{attrs:{\"id\":\"editor\",\"size\":_vm.splitpaneSizeV[0]}},[_c('Editor',{ref:\"editor\",staticClass:\"mainEditor tour-ide-editor\",attrs:{\"id\":\"main\",\"value\":_vm.process,\"title\":_vm.contextTitle},on:{\"input\":_vm.updateEditor},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_c('button',{attrs:{\"type\":\"button\",\"title\":\"Import process from external source\"},on:{\"click\":_vm.importProcess}},[_c('i',{staticClass:\"fas fa-cloud-download-alt\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveSupported),expression:\"saveSupported\"}],attrs:{\"type\":\"button\",\"disabled\":!_vm.hasProcess,\"title\":'Save to ' + _vm.contextTitle},on:{\"click\":_vm.saveProcess}},[_c('i',{staticClass:\"fas fa-save\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.hasProcess,\"title\":\"Export into another programming language\"},on:{\"click\":_vm.exportCode}},[_c('i',{staticClass:\"fas fa-file-export\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.validateSupported),expression:\"validateSupported\"}],attrs:{\"type\":\"button\",\"disabled\":!_vm.hasProcess,\"title\":\"Validate process on server-side\"},on:{\"click\":_vm.validateProcess}},[_c('i',{staticClass:\"fas fa-tasks\"})])]},proxy:true}])})],1),_c('Pane',{attrs:{\"id\":\"user\",\"size\":_vm.splitpaneSizeV[1]}},[(_vm.isAuthenticated)?_c('UserWorkspace',{staticClass:\"userContent tour-ide-workspace\"}):_c('div',{staticClass:\"message info\",attrs:{\"title\":\"Login is required to interact with the server.\"}},[_c('i',{staticClass:\"fas fa-sign-in-alt\"}),_c('span',{staticClass:\"login-message\"},[_c('strong',[_c('a',{on:{\"click\":_vm.login}},[_vm._v(\"Log in\")])]),_vm._v(\" is required to interact with the server.\")])])],1)],1)],1),_c('Pane',{class:{empty: !_vm.showViewer},attrs:{\"id\":\"viewer\",\"size\":_vm.splitpaneSizeH[2]}},[_c('Viewer',{staticClass:\"tour-ide-viewer\",on:{\"empty\":_vm.onViewerEmpty}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"UserMenu\"}},[_c('div',{staticClass:\"menuItem\"},[_vm._m(0),_c('div',{staticClass:\"data\"},[_c('span',{staticClass:\"name nowrap\"},[_c('i',{staticClass:\"fas fa-user\"}),_vm._v(\" \"+_vm._s(_vm.userName))]),(_vm.budget)?_c('span',{staticClass:\"credits nowrap\"},[_c('i',{staticClass:\"fas fa-dollar-sign fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.budget))]):_vm._e(),(_vm.hasStorage)?_c('span',{staticClass:\"storage nowrap\"},[_c('i',{staticClass:\"fas fa-database fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.storageUsedPercent)+\"% used\")]):_vm._e()])]),_c('div',{staticClass:\"dropdown\"},[(_vm.profileLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.profileLink.href,\"target\":\"_blank\"}},[_vm._v(\"Welcome, \"+_vm._s(_vm.userName)+\"!\")]):_c('div',{staticClass:\"item\"},[_vm._v(\"Welcome, \"+_vm._s(_vm.userName)+\"!\")]),(_vm.isAuthenticated)?[(_vm.settingsLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.settingsLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-user-edit\"}),_vm._v(\" \"+_vm._s(_vm.settingsLink.title || 'Edit Profile'))]):_vm._e(),_c('a',{staticClass:\"item\",on:{\"click\":function($event){$event.preventDefault();return _vm.logout.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"}),_vm._v(\" Logout\")])]:[_c('a',{staticClass:\"item\",on:{\"click\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-sign-in-alt\"}),_vm._v(\" Login\")]),(_vm.registerLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.registerLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-user-plus\"}),_vm._v(\" Register\")]):_vm._e(),(_vm.passwordLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.passwordLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-key\"}),_vm._v(\" Forgotten Password?\")]):_vm._e()],(!_vm.$config.serverUrl)?_c('a',{staticClass:\"item\",on:{\"click\":function($event){$event.preventDefault();return _vm.disconnect.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"}),_vm._v(\" Disconnect\")]):_vm._e(),(_vm.userLinks.length > 0)?[_c('hr'),_vm._l((_vm.userLinks),function(link,key){return _c('a',{key:key,staticClass:\"item\",attrs:{\"href\":link.href,\"target\":\"_blank\",\"rel\":link.rel}},[_vm._v(_vm._s(link.title))])})]:_vm._e(),(_vm.budget || _vm.userInfo.default_plan || _vm.paymentLink)?[_c('hr'),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"Billing\")]),(_vm.userInfo.default_plan)?_c('div',{staticClass:\"secondary-text\"},[_vm._v(\"Plan: \"+_vm._s(_vm.userInfo.default_plan))]):_vm._e(),(_vm.budget)?_c('div',{staticClass:\"secondary-text\"},[_vm._v(\"Budget: \"+_vm._s(_vm.budget))]):_vm._e()]),(_vm.paymentLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.paymentLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-credit-card\"}),_vm._v(\" \"+_vm._s(_vm.paymentLink.title || 'Recharge'))]):_vm._e()]:_vm._e(),(_vm.hasStorage)?[_c('hr'),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"Storage\")]),_c('div',{staticClass:\"secondary-text nowrap\"},[_vm._v(\"Used \"+_vm._s(_vm.formatMegabyte(_vm.storageUsed))+\" of \"+_vm._s(_vm.formatMegabyte(_vm.userInfo.storage.quota))+\".\")]),_c('div',{staticClass:\"storagePercent\"},[_c('div',{staticClass:\"used\",style:('width: ' + _vm.storageUsedPercent + '%')})])])]:_vm._e()],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"down\"},[_c('i',{staticClass:\"fas fa-chevron-down\"})])}]\n\nexport { render, staticRenderFns }","<template>\n\t<div id=\"UserMenu\">\n\t\t<div class=\"menuItem\">\n\t\t\t<div class=\"down\">\n\t\t\t\t<i class=\"fas fa-chevron-down\"></i>\n\t\t\t</div>\n\t\t\t<div class=\"data\">\n\t\t\t\t<span class=\"name nowrap\"><i class=\"fas fa-user\"></i> {{ userName }}</span>\n\t\t\t\t<span v-if=\"budget\" class=\"credits nowrap\"><i class=\"fas fa-dollar-sign fa-fw\"></i> {{ budget }}</span>\n\t\t\t\t<span v-if=\"hasStorage\" class=\"storage nowrap\"><i class=\"fas fa-database fa-fw\"></i> {{ storageUsedPercent }}% used</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"dropdown\">\n\t\t\t<a v-if=\"profileLink\" class=\"item\" :href=\"profileLink.href\" target=\"_blank\">Welcome, {{ userName }}!</a>\n\t\t\t<div v-else class=\"item\">Welcome, {{ userName }}!</div>\n\t\t\t<template v-if=\"isAuthenticated\">\n\t\t\t\t<a v-if=\"settingsLink\" class=\"item\" :href=\"settingsLink.href\" target=\"_blank\"><i class=\"fas fa-user-edit\"></i> {{ settingsLink.title || 'Edit Profile' }}</a>\n\t\t\t\t<a class=\"item\" @click.prevent=\"logout\"><i class=\"fas fa-sign-out-alt\"></i> Logout</a>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<a class=\"item\" @click.prevent=\"login\"><i class=\"fas fa-sign-in-alt\"></i> Login</a>\n\t\t\t\t<a v-if=\"registerLink\" class=\"item\" :href=\"registerLink.href\" target=\"_blank\"><i class=\"fas fa-user-plus\"></i> Register</a>\n\t\t\t\t<a v-if=\"passwordLink\" class=\"item\" :href=\"passwordLink.href\" target=\"_blank\"><i class=\"fas fa-key\"></i>  Forgotten Password?</a>\n\t\t\t</template>\n\t\t\t<a v-if=\"!$config.serverUrl\" class=\"item\" @click.prevent=\"disconnect\"><i class=\"fas fa-sign-out-alt\"></i> Disconnect</a>\n\t\t\t<template v-if=\"userLinks.length > 0\">\n\t\t\t\t<hr />\n\t\t\t\t<a v-for=\"(link, key) in userLinks\" :key=\"key\" :href=\"link.href\" target=\"_blank\" class=\"item\" :rel=\"link.rel\">{{ link.title }}</a>\n\t\t\t</template>\n\t\t\t<template v-if=\"budget || userInfo.default_plan || paymentLink\">\n\t\t\t\t<hr />\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<h4>Billing</h4>\n\t\t\t\t\t<div v-if=\"userInfo.default_plan\" class=\"secondary-text\">Plan: {{ userInfo.default_plan }}</div>\n\t\t\t\t\t<div v-if=\"budget\" class=\"secondary-text\">Budget: {{ budget }}</div>\n\t\t\t\t</div>\n\t\t\t\t<a v-if=\"paymentLink\" :href=\"paymentLink.href\" class=\"item\" target=\"_blank\"><i class=\"fas fa-credit-card\"></i> {{ paymentLink.title || 'Recharge' }}</a>\n\t\t\t</template>\n\t\t\t<template v-if=\"hasStorage\">\n\t\t\t\t<hr />\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<h4>Storage</h4>\n\t\t\t\t\t<div class=\"secondary-text nowrap\">Used {{ formatMegabyte(storageUsed) }} of {{ formatMegabyte(userInfo.storage.quota) }}.</div>\n\t\t\t\t\t<div class=\"storagePercent\"><div class=\"used\" :style=\"'width: ' + storageUsedPercent + '%'\"></div></div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'UserMenu',\n\tmixins: [EventBusMixin],\n\tcomputed: {\n\t\t...Utils.mapState(['userInfo', 'isAuthenticated']),\n\t\t...Utils.mapGetters(['currency', 'capabilities']),\n\t\tuserLinks() {\n\t\t\treturn Utils.friendlyLinks(this.userInfo.links, true, ['self', 'edit-form', 'payment', 'alternate']);\n\t\t},\n\t\tserverLinks() {\n\t\t\treturn this.capabilities ? this.capabilities.links() : [];\n\t\t},\n\t\tregisterLink() {\n\t\t\treturn this.serverLinks.find(link => link.rel === 'create-form');\n\t\t},\n\t\tpasswordLink() {\n\t\t\treturn this.serverLinks.find(link => link.rel === 'recovery-form');\n\t\t},\n\t\tsettingsLink() {\n\t\t\treturn Array.isArray(this.userInfo.links) ? this.userInfo.links.find(link => link.rel === 'edit-form') : undefined;\n\t\t},\n\t\tpaymentLink() {\n\t\t\treturn Array.isArray(this.userInfo.links) ? this.userInfo.links.find(link => link.rel === 'payment') : undefined;\n\t\t},\n\t\tprofileLink() {\n\t\t\treturn Array.isArray(this.userInfo.links) ? this.userInfo.links.find(link => link.rel === 'alternate') : undefined;\n\t\t},\n\t\thasStorage() {\n\t\t\treturn Utils.isObject(this.userInfo.storage) && typeof this.userInfo.storage.quota === 'number' && typeof this.userInfo.storage.free === 'number';\n\t\t},\n\t\tbudget() {\n\t\t\treturn Utils.formatBudget(this.userInfo.budget, this.currency);\n\t\t},\n\t\tuserName() {\n\t\t\tif (typeof this.userInfo.name === 'string') {\n\t\t\t\treturn this.userInfo.name;\n\t\t\t}\n\t\t\telse if (typeof this.userInfo.user_id === 'string') {\n\t\t\t\treturn this.userInfo.user_id;\n\t\t\t}\n\t\t\telse if (this.isAuthenticated) {\n\t\t\t\treturn 'User';\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 'Guest';\n\t\t\t}\n\t\t},\n\t\tstorageUsed() {\n\t\t\tif (!this.hasStorage) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn this.userInfo.storage.quota - this.userInfo.storage.free;\n\t\t},\n\t\tstorageUsedPercent() {\n\t\t\tif (!this.hasStorage) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn Math.round(this.storageUsed / this.userInfo.storage.quota * 100);\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions({logoutUser: 'logout'}),\n\t\t...Utils.mapMutations('editor', {resetEditor: 'reset'}),\n\t\tasync logout() {\n\t\t\tawait this.logoutUser(false);\n\t\t\tUtils.ok(this, 'Logout successful.');\n\t\t},\n\t\tasync disconnect() {\n\t\t\tawait this.logoutUser(true);\n\t\t\tthis.resetEditor();\n\t\t\twindow.history.pushState({}, \"\", \"?\");\n\t\t},\n\t\tlogin() {\n\t\t\tthis.emit('showLogin');\n\t\t},\n\t\tformatMegabyte(num) {\n\t\t\tvar gb = 1024*1024*1024;\n\t\t\tif (num > gb) {\n\t\t\t\treturn Math.round(num/gb) + ' GB';\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Math.round(num/(1024*1024)) + ' MB';\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.down {\n\twidth: 1em;\n\tpadding-right: 10px;\n}\n.name, .credits, .storage {\n\tdisplay: block;\n}\n.name {\n\tmax-width: 250px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.credits, .storage {\n\tmargin-top: 3px;\n\tfont-size: 12px;\n\tfont-weight: normal;\n}\n.storagePercent {\n\tbackground-color: green;\n\theight: 1em;\n\tborder-radius: 0.3em;\n\n\t.used {\n\t\tbackground-color: maroon;\n\t\twidth: 1px;\n\t\theight: 1em;\n\t\tborder-radius: 0.3em;\n\t}\n}\n.secondary-text {\n\tfont-size: 0.9em;\n\tline-height: 1.8em;\n\tcolor: #555;\n}\n.nowrap {\n\twhite-space: nowrap;\n}\nh4 {\n\tmargin: 0 0 10px 0;\n}\n.navButton {\n\tdisplay: block;\n\ttext-align: left;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserMenu.vue?vue&type=template&id=76333d38&scoped=true&\"\nimport script from \"./UserMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserMenu.vue?vue&type=style&index=0&id=76333d38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76333d38\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{ref:\"tabs\",attrs:{\"id\":\"userContent\"}},[(_vm.showJobs)?_c('Tab',{attrs:{\"id\":\"jobs\",\"name\":\"Data Processing\",\"icon\":\"fa-tasks\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('JobPanel')],1):_vm._e(),(_vm.showServices)?_c('Tab',{attrs:{\"id\":\"services\",\"name\":\"Web Services\",\"icon\":\"fa-cloud\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('ServicePanel')],1):_vm._e(),(_vm.showCustomProcesses)?_c('Tab',{attrs:{\"id\":\"customProcesses\",\"name\":\"Custom Processes\",\"icon\":\"fa-sitemap\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('CustomProcessPanel')],1):_vm._e(),(_vm.showFiles)?_c('Tab',{attrs:{\"id\":\"files\",\"name\":\"Files\",\"icon\":\"fa-file\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('FilePanel')],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"FilePanel\"},on:{\"dragenter\":function($event){return _vm.dropZoneInfo(true)},\"dragleave\":function($event){return _vm.dropZoneInfo(false)},\"drop\":function($event){return _vm.uploadFiles($event)},\"dragover\":function($event){return _vm.allowDrop($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUploadDropHint),expression:\"showUploadDropHint\"}],staticClass:\"dropZone\"},[_vm._v(\"To upload files, drop them here.\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],staticClass:\"addFile\"},[_c('input',{ref:\"uploadUserFile\",staticClass:\"uploadUserFile\",attrs:{\"type\":\"file\",\"name\":\"uploadUserFile\",\"multiple\":\"\"},on:{\"change\":_vm.uploadFiles}})]),_c('div',{staticClass:\"percent\"},[_c('div',{staticClass:\"used\",class:{error: _vm.uploadErrored},style:('width: ' + this.uploadProgress + '%; opacity: ' + this.uploadFadeOut)})]),_c('DataTable',{ref:\"table\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){return _vm.downloadFile(p.row)}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteFile(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import DataTable from '@openeo/vue-components/components/DataTable.vue';\nimport Utils from '../utils.js';\n\nexport default (namespace, singular, plural, loadInitially = true) => {\n\treturn {\n\t\tcomponents: {\n\t\t\tDataTable\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcolumns: {},\n\t\t\t\tsyncTimer: null,\n\t\t\t\tlastSyncTime: null\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tif (loadInitially) {\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t},\n\t\tbeforeDestroy() {\n\t\t\tthis.stopSyncTimer();\n\t\t},\n\t\tcomputed: {\n\t\t\t...Utils.mapState(namespace, {data: namespace}),\n\t\t\t...Utils.mapGetters(namespace, ['supportsList', 'supportsCreate', 'supportsRead', 'supportsUpdate', 'supportsDelete'])\n\t\t},\n\t\tmethods: {\n\t\t\t...Utils.mapActions(namespace, ['list', 'create', 'read', 'update', 'delete']),\n\t\t\tgetTable() { // To be overridden\n\t\t\t\treturn this.$refs && this.$refs.table ? this.$refs.table : null;\n\t\t\t},\n\t\t\tonShow() {\n\t\t\t\tthis.updateData();\n\t\t\t\tthis.startSyncTimer();\n\t\t\t},\n\t\t\tonHide() {\n\t\t\t\tthis.stopSyncTimer();\n\t\t\t},\n\t\t\tstartSyncTimer() {\n\t\t\t\tif (this.supportsList && this.syncTimer === null) {\n\t\t\t\t\tthis.syncTimer = setInterval(this.updateData, this.getSyncInterval());\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopSyncTimer() {\n\t\t\t\tif (this.syncTimer !== null) {\n\t\t\t\t\tclearInterval(this.syncTimer);\n\t\t\t\t\tthis.syncTimer = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetSyncInterval() {\n\t\t\t\treturn this.$config.dataRefreshInterval*60*1000; // Refresh data every x minutes\n\t\t\t},\n\t\t\tasync refreshElement(obj, callback = null) {\n\t\t\t\tvar old = Object.assign({}, obj);\n\t\t\t\ttry {\n\t\t\t\t\tlet updated = await this.read({data: obj});\n\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\tcallback(updated, old);\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {\n\t\t\t\t\tUtils.exception(this, error, \"Load \" + singular + \" error\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync updateData() {\n\t\t\t\tvar table = this.getTable();\n\t\t\t\tvar nextSyncTime = Date.now() - this.getSyncInterval();\n\t\t\t\tif (!table || this.lastSyncTime > nextSyncTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (!this.supportsList) {\n\t\t\t\t\ttable.setNoData(\"Sorry, listing stored \" + plural + \" is not supported by the server.\");\n\t\t\t\t}\n\t\t\t\telse if (!this.supportsCreate) {\n\t\t\t\t\ttable.setNoData(\"Sorry, this feature is not supported by the server.\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar isUpdate = this.data.length > 0;\n\t\t\t\t\tif (!isUpdate) {\n\t\t\t\t\t\ttable.setNoData(\"Loading \" + plural + \"...\");\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastSyncTime = Date.now();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet data = await this.list();\n\t\t\t\t\t\tif(data.length == 0) {\n\t\t\t\t\t\t\ttable.setNoData(\"Add your first \" + singular + \" here...\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\tif (!isUpdate) {\n\t\t\t\t\t\t\tUtils.exception(this, error);\n\t\t\t\t\t\t\ttable.setNoData(\"Sorry, unable to load data from the server.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}","<template>\n\t<div id=\"FilePanel\" @dragenter=\"dropZoneInfo(true)\" @dragleave=\"dropZoneInfo(false)\" @drop=\"uploadFiles($event)\" @dragover=\"allowDrop($event)\">\n\t\t<div class=\"dropZone\" v-show=\"showUploadDropHint\">To upload files, drop them here.</div>\n\t\t<div v-show=\"supportsCreate\" class=\"addFile\">\n\t\t\t<input type=\"file\" name=\"uploadUserFile\" class=\"uploadUserFile\" ref=\"uploadUserFile\" @change=\"uploadFiles\" multiple>\n\t\t</div>\n\t\t<div class=\"percent\"><div class=\"used\" :class=\"{error: uploadErrored}\" :style=\"'width: ' + this.uploadProgress + '%; opacity: ' + this.uploadFadeOut\"></div></div>\n\t\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\">\n\t\t\t<template #actions=\"p\">\n\t\t\t\t<button title=\"Download\" @click=\"downloadFile(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-download\"></i></button>\n\t\t\t\t<button title=\"Delete\" @click=\"deleteFile(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t</template>\n\t\t</DataTable>\n\t</div>\n</template>\n\n<script>\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\n\nexport default {\n  \tname: 'FilePanel',\n\tmixins: [WorkPanelMixin('files', 'file', 'files')],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tpath: {\n\t\t\t\t\tname: 'Path',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\tsortFn: Utils.sortByPath,\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\tsize: {\n\t\t\t\t\tname: 'Size',\n\t\t\t\t\tformat: \"FileSize\",\n\t\t\t\t\tfilterable: false\n\t\t\t\t},\n\t\t\t\tmodified: {\n\t\t\t\t\tname: 'Last modified',\n\t\t\t\t\tformat: 'Timestamp'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t},\n\t\t\tuploadProgress: 0,\n\t\t\tuploadProgressPerFile: [],\n\t\t\tuploadErrored: false,\n\t\t\tuploadFadeOut: 1,\n\t\t\tshowUploadDropHint: 0\n\t\t};\n\t},\n\twatch: {\n\t\tuploadProgressPerFile: {\n\t\t\tdeep: true,\n\t\t\thandler() {\n\t\t\t\tthis.uploadProgress = this.uploadProgressPerFile.reduce((a,b) => a + b, 0) / this.uploadProgressPerFile.length;\n\t\t\t\tif (this.uploadProgress > 99.9999) {\n\t\t\t\t\tthis.finishAllUploads();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n  \tmethods: {\n\t\tallowDrop(ev) {\n\t\t\tif(this.supportsCreate) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tdropZoneInfo(show) {\n\t\t\tthis.showUploadDropHint += show ? 1 : -1;\n\t\t},\n\t\tuploadFiles(e) {\n\t\t\tthis.showUploadDropHint = 0;\n\t\t\tvar files = [];\n\t\t\tif (e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length) {\n\t\t\t\tfiles = e.dataTransfer.files;\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\telse if (e.target && e.target.files && e.target.files.length){\n\t\t\t\tfiles = e.target.files;\n\t\t\t}\n\t\t\tif(!this.supportsCreate) {\n\t\t\t\tUtils.error(this, 'Uploading files is not supported.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (files.length === 0) {\n\t\t\t\tUtils.info(this, 'Please select files to upload.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.uploadProgressPerFile = [];\n\t\t\tthis.uploadProgress = 0;\n\t\t\tthis.uploadErrored = false;\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tthis.uploadFile(files[i], i);\n\t\t\t}\n\t\t},\n\t\tasync uploadFile(file, i) {\n\t\t\tthis.uploadProgressPerFile.push(0);\n\t\t\tif (typeof file.name !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.create({parameters: [\n\t\t\t\t\tfile,\n\t\t\t\t\tnull,\n\t\t\t\t\tpercent => this.$set(this.uploadProgressPerFile, i, percent)\n\t\t\t\t]});\n\t\t\t\tthis.$set(this.uploadProgressPerFile, i, 100);\n\t\t\t\tUtils.ok(this, 'File upload completed.', file.name);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tUtils.exception(this, error, \"Upload File Error: \" + file.name);\n\t\t\t}\n\t\t},\n\t\tfinishAllUploads() {\n\t\t\tthis.$refs.uploadUserFile.value = '';\n\t\t\tvar t = setInterval(() => {\n\t\t\t\tthis.uploadFadeOut -= 0.05;\n\t\t\t\tif (this.uploadFadeOut < 0) {\n\t\t\t\t\tthis.uploadProgress = 0;\n\t\t\t\t\tthis.uploadFadeOut = 1;\n\t\t\t\t\tclearInterval(t);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t},\n\t\tdownloadFile(file) {\n\t\t\tfile.downloadFile(file.path);\n\t\t},\n\t\tdeleteFile(file) {\n\t\t\tif (!confirm(`Do you really want to delete the file \"${file.path}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.delete({data: file})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete File Error: ' + file.path));\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#FilePanel {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n}\n#FilePanel .dropZone {\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 2;\n\topacity: 0.8;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 1.5em;\n\tfont-weight: bold;\n}\n#FilePanel .addFile {\n\tdisplay: flex;\n\tpadding-bottom: 1px;\n}\n#FilePanel .addFile button {\n\tmargin: 0;\n}\n#FilePanel .path {\n\twidth: 50%;\n}\n#FilePanel td.path {\n\tword-break: break-all;\n}\n#FilePanel td.size, #FilePanel td.modified {\n\ttext-align: right;\n}\n.uploadUserFile {\n\tflex-grow: 1;\n\tborder: 0;\n}\n#FilePanel .percent {\n\tbackground-color: #eee;\n\theight: 3px;\n\tmargin-bottom: 5px;\n}\n#FilePanel .percent .used {\n\tbackground-color: green;\n\twidth: 0;\n\theight: 3px;\n}\n#FilePanel .percent .used.errored {\n\tbackground-color: maroon;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilePanel.vue?vue&type=template&id=120a0228&\"\nimport script from \"./FilePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./FilePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilePanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"JobPanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.showJobInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('estimateJob')),expression:\"supports('estimateJob')\"}],attrs:{\"title\":\"Estimate\"},on:{\"click\":function($event){return _vm.estimateJob(p.row)}}},[_c('i',{staticClass:\"fas fa-file-invoice-dollar\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsUpdate),expression:\"supportsUpdate\"}],attrs:{\"title\":\"Edit metadata\",\"disabled\":!_vm.isJobInactive(p.row)},on:{\"click\":function($event){return _vm.editMetadata(p.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteJob(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('startJob') && _vm.isJobInactive(p.row)),expression:\"supports('startJob') && isJobInactive(p.row)\"}],attrs:{\"title\":\"Start processing\"},on:{\"click\":function($event){return _vm.queueJob(p.row)}}},[_c('i',{staticClass:\"fas fa-play-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('stopJob') && _vm.isJobActive(p.row)),expression:\"supports('stopJob') && isJobActive(p.row)\"}],attrs:{\"title\":\"Cancel processing\"},on:{\"click\":function($event){return _vm.cancelJob(p.row)}}},[_c('i',{staticClass:\"fas fa-stop-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('downloadResults') && _vm.mayHaveResults(p.row)),expression:\"supports('downloadResults') && mayHaveResults(p.row)\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){return _vm.downloadResults(p.row)}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('downloadResults') && _vm.mayHaveResults(p.row)),expression:\"supports('downloadResults') && mayHaveResults(p.row)\"}],attrs:{\"title\":\"View results\"},on:{\"click\":function($event){return _vm.viewResults(p.row, true)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('debugJob')),expression:\"supports('debugJob')\"}],attrs:{\"title\":\"View logs\"},on:{\"click\":function($event){return _vm.showLogs(p.row)}}},[_c('i',{staticClass:\"fas fa-bug\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new job for batch processing\",\"disabled\":!this.hasProcess},on:{\"click\":function($event){return _vm.createJobFromScript()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Create Batch Job\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('computeResult')),expression:\"supports('computeResult')\"}],attrs:{\"title\":\"Run the process directly and view the results without storing them permanently\",\"disabled\":!this.hasProcess},on:{\"click\":_vm.executeProcess}},[_c('i',{staticClass:\"fas fa-play\"}),_vm._v(\" Run / Preview\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"JobPanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new job for batch processing\" @click=\"createJobFromScript()\" v-show=\"supportsCreate\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-plus\"></i> Create Batch Job</button>\n\t\t\t<button title=\"Run the process directly and view the results without storing them permanently\" @click=\"executeProcess\" v-show=\"supports('computeResult')\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-play\"></i> Run / Preview</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"showJobInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Estimate\" @click=\"estimateJob(p.row)\" v-show=\"supports('estimateJob')\"><i class=\"fas fa-file-invoice-dollar\"></i></button>\n\t\t\t<button title=\"Edit metadata\" @click=\"editMetadata(p.row)\" v-show=\"supportsUpdate\" :disabled=\"!isJobInactive(p.row)\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteJob(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t<button title=\"Start processing\" @click=\"queueJob(p.row)\" v-show=\"supports('startJob') && isJobInactive(p.row)\"><i class=\"fas fa-play-circle\"></i></button>\n\t\t\t<button title=\"Cancel processing\" @click=\"cancelJob(p.row)\" v-show=\"supports('stopJob') && isJobActive(p.row)\"><i class=\"fas fa-stop-circle\"></i></button>\n\t\t\t<button title=\"Download\" @click=\"downloadResults(p.row)\" v-show=\"supports('downloadResults') && mayHaveResults(p.row)\"><i class=\"fas fa-download\"></i></button>\n\t\t\t<button title=\"View results\" @click=\"viewResults(p.row, true)\" v-show=\"supports('downloadResults') && mayHaveResults(p.row)\"><i class=\"fas fa-eye\"></i></button>\n\t\t\t<button title=\"View logs\" @click=\"showLogs(p.row)\" v-show=\"supports('debugJob')\"><i class=\"fas fa-bug\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\nimport { AbortController, Job } from '@openeo/js-client';\n\nconst WorkPanelMixinInstance = WorkPanelMixin('jobs', 'batch job', 'batch jobs');\n\nexport default {\n\tname: 'JobPanel',\n\tmixins: [WorkPanelMixinInstance, EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\thide: true\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tname: 'Batch Job',\n\t\t\t\t\tcomputedValue: row => Utils.getResourceTitle(row),\n\t\t\t\t\tformat: value => Utils.formatIdOrTitle(value),\n\t\t\t\t\tedit: this.updateTitle\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\tname: 'Status',\n\t\t\t\t\tstylable: true\n\t\t\t\t},\n\t\t\t\tcreated: {\n\t\t\t\t\tname: 'Submitted',\n\t\t\t\t\tformat: 'Timestamp',\n\t\t\t\t\tsort: 'desc'\n\t\t\t\t},\n\t\t\t\tupdated: {\n\t\t\t\t\tname: 'Last update',\n\t\t\t\t\tformat: 'Timestamp'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t},\n\t\t\twatchers: {},\n\t\t\tjobUpdater: null,\n\t\t\trunId: 0\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection']),\n\t\t...Utils.mapGetters(['supports', 'supportsBilling', 'supportsBillingPlans']),\n\t\t...Utils.mapGetters('editor', ['hasProcess']),\n\t\t...Utils.mapState('editor', ['process'])\n\t},\n\twatch: {\n\t\tdata: {\n\t\t\thandler: function(updatedJobs) {\n\t\t\t\t// Update Watchers\n\t\t\t\tthis.watchers = {};\n\t\t\t\tfor(let job of updatedJobs) {\n\t\t\t\t\tif (Utils.isActiveJobStatusCode(job.status)) {\n\t\t\t\t\t\tthis.watchers[job.id] = job;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions('jobs', ['queue', 'cancel']),\n\t\tstartSyncTimer() {\n\t\t\tWorkPanelMixinInstance.methods.startSyncTimer.call(this);\n\t\t\tthis.jobUpdater = setInterval(this.executeWatchers, 10000);\n\t\t},\n\t\tstopSyncTimer() {\n\t\t\tWorkPanelMixinInstance.methods.stopSyncTimer.call(this);\n\t\t\tif (this.jobUpdater !== null) {\n\t\t\t\tclearInterval(this.jobUpdater);\n\t\t\t}\n\t\t},\n\t\tshowInEditor(job) {\n\t\t\tthis.refreshElement(job, updatedJob => this.emit('editProcess', updatedJob));\n\t\t},\n\t\tasync executeProcess() {\n\t\t\tlet abortController = new AbortController();\n\t\t\tlet snotifyConfig = {\n\t\t\t\ttimeout: 0,\n\t\t\t\ttype: 'async',\n\t\t\t\tbuttons: [{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\taction: toast => {\n\t\t\t\t\t\tabortController.abort();\n\t\t\t\t\t\tthis.$snotify.remove(toast.id, true);\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t};\n\t\t\tlet toast;\n\t\t\ttry {\n\t\t\t\tthis.runId++;\n\t\t\t\tlet message = \"A process is currently executed synchronously...\";\n\t\t\t\tlet title = `Run / Preview #${this.runId}`;\n\t\t\t\tlet endlessPromise = () => new Promise(() => {}); // Pass a promise to snotify that never resolves as we manually close the toast\n\t\t\t\ttoast = this.$snotify.async(message, title, endlessPromise, snotifyConfig);\n\t\t\t\tlet result = await this.connection.computeResult(this.process, null, null, abortController);\n\t\t\t\tthis.emit('viewSyncResult', result);\n\t\t\t} catch(error) {\n\t\t\t\tif (axios.isCancel(error)) {\n\t\t\t\t\t// Do nothing, we expected the cancellation\n\t\t\t\t}\n\t\t\t\telse if (typeof error.message === 'string' && Utils.isObject(error.response) && [400,500].includes(error.response.status)) {\n\t\t\t\t\tthis.emit('viewLogs', [{\n\t\t\t\t\t\tid: error.id,\n\t\t\t\t\t\tcode: error.code,\n\t\t\t\t\t\tlevel: 'error',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\tlinks: error.links || []\n\t\t\t\t\t}]);\n\t\t\t\t\tUtils.error(this, \"Synchronous processing failed. Please see the logs for details.\", \"Processing Error\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tUtils.exception(this, error, \"Server Error\");\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (toast) {\n\t\t\t\t\tthis.$snotify.remove(toast.id, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tjobCreated(job) {\n\t\t\tvar buttons = [];\n\t\t\tif (this.supports('estimateJob')) {\n\t\t\t\tbuttons.push({text: 'Estimate', action: () => this.estimateJob(job)});\n\t\t\t}\n\t\t\tif (this.supports('startJob')) {\n\t\t\t\tbuttons.push({text: 'Start processing', action: () => this.queueJob(job)});\n\t\t\t}\n\t\t\tif (this.supports('deleteJob')) {\n\t\t\t\tbuttons.push({text: 'Delete', action: () => this.deleteJob(job)});\n\t\t\t}\n\t\t\tUtils.confirm(this, 'Job \"' + Utils.getResourceTitle(job) + '\" created!', buttons);\n\t\t},\n\t\tgetTitleField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'title',\n\t\t\t\tlabel: 'Title',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'description',\n\t\t\t\tlabel: 'Description',\n\t\t\t\tschema: {type: 'string', subtype: 'commonmark'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\tdescription: 'CommonMark (Markdown) is allowed.',\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBillingPlanField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'plan',\n\t\t\t\tlabel: 'Billing plan',\n\t\t\t\tschema: {type: 'string', subtype: 'billing-plan'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBudgetField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'budget',\n\t\t\t\tlabel: 'Budget',\n\t\t\t\tschema: {type: 'number', subtype: 'budget'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tnormalizeToDefaultData(data) {\n\t\t\tif (typeof data.title !== 'undefined' && (typeof data.title !== 'string' || data.title.length === 0)) {\n\t\t\t\tdata.title = null;\n\t\t\t}\n\t\t\tif (typeof data.description !== 'undefined' && (typeof data.description !== 'string' || data.description.length === 0)) {\n\t\t\t\tdata.description = null;\n\t\t\t}\n\t\t\tif (typeof data.plan !== 'undefined' && (typeof data.plan !== 'string' || data.plan.length === 0)) {\n\t\t\t\tdata.plan = null;\n\t\t\t}\n\t\t\tif (typeof data.budget !== 'undefined' && (typeof data.budget !== 'number' || data.budget < 0)) {\n\t\t\t\tdata.budget = null;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tasync createJob(process, data) {\n\t\t\ttry {\n\t\t\t\tdata = this.normalizeToDefaultData(data);\n\t\t\t\tlet job = await this.create({parameters: [process, data.title, data.description, data.plan, data.budget]});\n\t\t\t\tthis.jobCreated(job);\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error, 'Create Job Error: ' + (data.title || ''));\n\t\t\t}\n\t\t},\n\t\tcreateJobFromScript() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getTitleField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField() : null,\n\t\t\t\tthis.supportsBilling ? this.getBudgetField() : null\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Create new batch job\", fields, data => this.createJob(this.process, data));\n\t\t},\n\t\tasync deleteJob(job) {\n\t\t\tif (!confirm(`Do you really want to delete the batch job \"${Utils.getResourceTitle(job)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.delete({data: job});\n\t\t\t\tthis.emit('removeBatchJob', job.id);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Delete Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\texecuteWatchers() {\n\t\t\tfor(var i in this.watchers) {\n\t\t\t\tthis.refreshElement(this.watchers[i], (updated, old) => {\n\t\t\t\t\tif (old.status !== 'finished' && updated.status === 'finished') {\n\t\t\t\t\t\tvar buttons = [];\n\t\t\t\t\t\tif (this.supports('downloadResults')) {\n\t\t\t\t\t\t\tbuttons.push({text: 'Download', action: () => this.downloadResults(updated)});\n\t\t\t\t\t\t\tbuttons.push({text: 'View', action: () => this.viewResults(updated)});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tUtils.confirm(this, 'Job \"' + Utils.getResourceTitle(updated) + '\" has finished!', buttons);\n\t\t\t\t\t}\n\t\t\t\t\telse if (old.status !== 'error' && updated.status === 'error') {\n\t\t\t\t\t\tUtils.error(this, 'Job \"' + Utils.getResourceTitle(updated) + '\" has stopped due to an error or timeout.');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (old.status !== updated.status) {\n\t\t\t\t\t\tthis.emit('jobStatusUpdated', updated, old);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tasync showJobInfo(job) {\n\t\t\tthis.refreshElement(job, async (updatedJob) => {\n\t\t\t\tlet result = null;\n\t\t\t\tif (updatedJob.status === 'finished') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = await updatedJob.getResultsAsStac();\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tUtils.exception(this, error, \"Load Results Error: \" + Utils.getResourceTitle(updatedJob));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.emit('showModal', 'JobInfoModal', {job: updatedJob.getAll(), result});\n\t\t\t});\n\t\t},\n\t\tasync estimateJob(job) {\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\ttry {\n\t\t\t\tlet estimate = await job.estimateJob();\n\t\t\t\tthis.emit('showModal', 'JobEstimateModal', {job: job.getAll(), estimate});\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, \"Job Estimate Error: \" + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tshowLogs(job) {\n\t\t\tthis.emit('viewLogs', job);\n\t\t},\n\t\treplaceProcess(job, process) {\n\t\t\tif (job instanceof Job) {\n\t\t\t\tif (this.isJobActive(job)) {\n\t\t\t\t\tUtils.error(this, \"Can't update process while batch job is running.\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.updateJob(job, {process: process});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\teditMetadata(oldJob) {\n\t\t\tthis.refreshElement(oldJob, job => {\n\t\t\t\tvar fields = [\n\t\t\t\t\tthis.getTitleField(job.title),\n\t\t\t\t\tthis.getDescriptionField(job.description),\n\t\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField(job.plan) : null,\n\t\t\t\t\tthis.supportsBilling ? this.getBudgetField(job.budget) : null\n\t\t\t\t];\n\t\t\t\tthis.emit('showDataForm', \"Edit batch job\", fields, data => this.updateJob(job, data));\n\t\t\t});\n\t\t},\n\t\tupdateTitle(job, newTitle) {\n\t\t\tthis.updateJob(job, {title: newTitle});\n\t\t},\n\t\tasync updateJob(job, parameters) {\n\t\t\ttry {\n\t\t\t\tlet updatedJob = await this.update({data: job, parameters: this.normalizeToDefaultData(parameters)});\n\t\t\t\tUtils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully updated.');\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Update Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tasync queueJob(job) {\n\t\t\tthis.refreshElement(job, async (updatedJob) => {\n\t\t\t\tif (updatedJob.status === 'finished' && !confirm(`The batch job \"${Utils.getResourceTitle(updatedJob)}\" has already finished with results. Queueing the job again may discard all previous results! Do you really want to queue it again?`)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tlet updatedJob = await this.queue({data: job});\n\t\t\t\t\tUtils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully queued.');\n\t\t\t\t} catch(error) {\n\t\t\t\t\tUtils.exception(this, error, 'Queue Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync cancelJob(job) {\n\t\t\tif (!confirm(`Do you really want to cancel the execution of batch job \"${Utils.getResourceTitle(job)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet updatedJob = await this.cancel({data: job});\n\t\t\t\tUtils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully canceled.');\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Cancel Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tasync viewResults(job) {\t\t\t\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\ttry {\n\t\t\t\tlet stac = await job.getResultsAsStac()\n\t\t\t\tif(Utils.size(stac.assets) == 0) {\n\t\t\t\t\tUtils.error(this, 'No results available for job \"' + Utils.getResourceTitle(job) + '\".');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.emit('viewJobResults', stac, job);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'View Result Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tasync downloadResults(job) {\t\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\ttry {\n\t\t\t\tlet result = await job.getResultsAsStac();\n\t\t\t\tif(Utils.size(result.assets) == 0) {\n\t\t\t\t\tUtils.error(this, 'No results available for job \"' + Utils.getResourceTitle(job) + '\".');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.emit('showModal', 'DownloadAssetsModal', {job, result});\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Download Result Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tmayHaveResults(job) {\n\t\t\treturn (typeof job.status !== 'string' || job.status.toLowerCase() == 'finished'); // todo: We may also want to check for canceled or errored here.\n\t\t},\n\t\tisJobInactive(job) {\n\t\t\treturn Utils.isActiveJobStatusCode(job.status) !== true;\n\t\t},\n\t\tisJobActive(job) {\n\t\t\treturn Utils.isActiveJobStatusCode(job.status) !== false;\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.JobPanel {\n\t.title {\n\t\twidth: 25%;\n\n\t\t.id {\n\t\t\tcolor: #777;\n\t\t}\n\t}\n\t.consumed_credits, .updated, .created {\n\t\ttext-align: right;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobPanel.vue?vue&type=template&id=55aca08e&\"\nimport script from \"./JobPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./JobPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobPanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"CustomProcessPanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.processInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteProcess(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new custom process\",\"disabled\":!this.hasProcess},on:{\"click\":_vm.addProcessFromScript}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"CustomProcessPanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new custom process\" @click=\"addProcessFromScript\" v-show=\"supportsCreate\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-plus\"></i> Add</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"processInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteProcess(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\nimport { UserProcess } from '@openeo/js-client';\n\nexport default {\n\tname: 'CustomProcessPanel',\n\tmixins: [WorkPanelMixin('userProcesses', 'custom process', 'custom processes', false), EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\tsummary: {\n\t\t\t\t\tname: 'Summary'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState('editor', ['process']),\n\t\t...Utils.mapGetters(['processes']),\n\t\t...Utils.mapGetters('editor', ['hasProcess']),\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tmethods: {\n\t\tshowInEditor(process) {\n\t\t\tthis.refreshElement(process, updatedProcess => this.emit('editProcess', updatedProcess));\n\t\t},\n\t\tgetIdField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: \"id\",\n\t\t\t\tdescription: 'A unique identifier. Must contain only letters (`a`-`z`), digits (`0`-`9`) and underscores (`_`). `snake_case` is recommended.',\n\t\t\t\tlabel: 'Process ID',\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tpattern: '^\\\\w+$'\n\t\t\t\t},\n\t\t\t\tdefault: null\n\t\t\t};\n\t\t},\n\t\taddProcessFromScript() {\n\t\t\tlet fields = [];\n\t\t\tif (!this.process.id) {\n\t\t\t\tfields.push(this.getIdField());\n\t\t\t}\n\t\t\telse if (!this.process.id.match('^\\\\w+$')) {\n\t\t\t\tfields.push({\n\t\t\t\t\tlabel: 'Please note...',\n\t\t\t\t\tdescription: 'The given process name is invalid, please choose another one below.',\n\t\t\t\t\tinfo: true\n\t\t\t\t});\n\t\t\t\tfields.push(this.getIdField(this.process.id));\n\t\t\t}\n\t\t\telse if (this.processes.has(this.process.id, 'user')) {\n\t\t\t\tfields.push({\n\t\t\t\t\tlabel: 'Warning!',\n\t\t\t\t\tdescription: \"A process with the given name exists! If you click 'Save' below, you confirm that you want to override the existing process. If you don't want to override the existing process, please choose a different name below.\",\n\t\t\t\t\tinfo: true\n\t\t\t\t});\n\t\t\t\tfields.push(this.getIdField(this.process.id));\n\t\t\t}\n\t\t\tlet store = data => this.addProcess(this.normalize(this.process, data));\n\t\t\tif (fields.length > 0) {\n\t\t\t\tthis.emit('showDataForm', 'Store a new custom process', fields, store);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstore();\n\t\t\t}\n\t\t},\n\t\tnormalize(process, data = {}) {\n\t\t\treturn Object.assign(\n\t\t\t\t{},\n\t\t\t\ttypeof process.toJSON === 'function' ? process.toJSON() : process,\n\t\t\t\tdata\n\t\t\t);\n\t\t},\n\t\taddProcess(process) {\n\t\t\tthis.create({parameters: [process.id, process]})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Store Process Error' + (process.id ? `: ${process.id}` : '')));\n\t\t},\n\t\tprocessInfo(process) {\n\t\t\tthis.emit('showProcess', process);\n\t\t},\n\t\treplaceProcess(process, newProcess) {\n\t\t\tif (process instanceof UserProcess) {\n\t\t\t\tthis.updateMetadata(process, newProcess)\n\t\t\t}\n\t\t},\n\t\tasync updateMetadata(process, data) {\n\t\t\ttry {\n\t\t\t\tlet updatedProcess = await this.update({data: process, parameters: this.normalize(process, data)});\n\t\t\t\tUtils.ok(this, 'Process \"' + Utils.getResourceTitle(updatedProcess) + '\" successfully updated.');\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error, 'Update Process Error' + (process.id ? `: ${process.id}` : ''));\n\t\t\t}\n\t\t},\n\t\tdeleteProcess(process) {\n\t\t\tif (!confirm(`Do you really want to delete the process \"${Utils.getResourceTitle(process)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.delete({data: process})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete Process Error' + (process.id ? `: ${process.id}` : '')));\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.CustomProcessPanel .id {\n\twidth: 25%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomProcessPanel.vue?vue&type=template&id=0a8a7d63&\"\nimport script from \"./CustomProcessPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomProcessPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomProcessPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"ServicePanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.serviceInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsUpdate),expression:\"supportsUpdate\"}],attrs:{\"title\":\"Edit metadata\"},on:{\"click\":function($event){return _vm.editMetadata(p.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteService(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(p.row.enabled && _vm.isMapServiceSupported(p.row.type)),expression:\"p.row.enabled && isMapServiceSupported(p.row.type)\"}],attrs:{\"title\":\"View on map\"},on:{\"click\":function($event){return _vm.viewService(p.row)}}},[_c('i',{staticClass:\"fas fa-map\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('debugService')),expression:\"supports('debugService')\"}],attrs:{\"title\":\"View logs\"},on:{\"click\":function($event){return _vm.showLogs(p.row)}}},[_c('i',{staticClass:\"fas fa-bug\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new service\",\"disabled\":!this.hasProcess},on:{\"click\":function($event){return _vm.createServiceFromScript()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Create\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"ServicePanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new service\" @click=\"createServiceFromScript()\" v-show=\"supportsCreate\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-plus\"></i> Create</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"serviceInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit metadata\" @click=\"editMetadata(p.row)\" v-show=\"supportsUpdate\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteService(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t<button v-show=\"p.row.enabled && isMapServiceSupported(p.row.type)\" title=\"View on map\" @click=\"viewService(p.row)\"><i class=\"fas fa-map\"></i></button>\n\t\t\t<button title=\"View logs\" @click=\"showLogs(p.row)\" v-show=\"supports('debugService')\"><i class=\"fas fa-bug\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils';\nimport { Service } from '@openeo/js-client';\n\nexport default {\n\tname: 'ServicePanel',\n\tmixins: [WorkPanelMixin('services', 'web service', 'web services'), EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\thide: true\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tname: 'Web Service',\n\t\t\t\t\tcomputedValue: row => Utils.getResourceTitle(row),\n\t\t\t\t\tformat: value => Utils.formatIdOrTitle(value),\n\t\t\t\t\tedit: this.updateTitle\n\t\t\t\t},\n\t\t\t\ttype: {\n\t\t\t\t\tname: 'Type',\n\t\t\t\t\tformat: value => typeof value === 'string' ? value.toUpperCase() : value,\n\t\t\t\t},\n\t\t\t\tenabled: {\n\t\t\t\t\tname: 'Enabled',\n\t\t\t\t\tedit: this.toggleEnabled\n\t\t\t\t},\n\t\t\t\tcreated: {\n\t\t\t\t\tname: 'Submitted',\n\t\t\t\t\tformat: 'Timestamp',\n\t\t\t\t\tsort: 'desc'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState('editor', ['process']),\n\t\t...Utils.mapGetters('editor', ['hasProcess']),\n\t\t...Utils.mapState(['serviceTypes']),\n\t\t...Utils.mapGetters(['supports', 'supportsBilling', 'supportsBillingPlans'])\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tmethods: {\n\t\tisMapServiceSupported(type) {\n\t\t\treturn Utils.isMapServiceSupported(type);\n\t\t},\n\t\tshowInEditor(service) {\n\t\t\tthis.refreshElement(service, updatedService => this.emit('editProcess', updatedService));\n\t\t},\n\t\tshowLogs(service) {\n\t\t\tthis.emit('viewLogs', service);\n\t\t},\n\t\tserviceCreated(service) {\n\t\t\tvar buttons = [];\n\t\t\tif (this.isMapServiceSupported(service.type)) {\n\t\t\t\tbuttons.push({text: 'View on map', action: () => this.viewService(service)});\n\t\t\t}\n\t\t\tif (this.supportsRead) {\n\t\t\t\tbuttons.push({text: 'Details', action: () => this.serviceInfo(service)});\n\t\t\t}\n\t\t\tif (this.supportsDelete) {\n\t\t\t\tbuttons.push({text: 'Delete', action: () => this.deleteService(service)});\n\t\t\t}\n\t\t\tUtils.confirm(this, 'Web Service created!', buttons);\n\t\t},\n\t\tgetTitleField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'title',\n\t\t\t\tlabel: 'Title',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'description',\n\t\t\t\tlabel: 'Description',\n\t\t\t\tschema: {type: 'string', subtype: 'commonmark'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\tdescription: 'CommonMark (Markdown) is allowed.',\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetServiceTypeField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'type',\n\t\t\t\tlabel: 'Type',\n\t\t\t\tschema: {type: 'string', subtype: 'service-type'},\n\t\t\t\tvalue: value\n\t\t\t};\n\t\t},\n\t\tgetBillingPlanField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'plan',\n\t\t\t\tlabel: 'Billing plan',\n\t\t\t\tschema: {type: 'string', subtype: 'billing-plan'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBudgetField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'budget',\n\t\t\t\tlabel: 'Budget',\n\t\t\t\tschema: {type: 'number', subtype: 'budget'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetEnabledField(value = true) {\n\t\t\treturn {\n\t\t\t\tname: 'enabled',\n\t\t\t\tlabel: 'Enabled',\n\t\t\t\tschema: {type: 'boolean'},\n\t\t\t\tdefault: true,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetConfigField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'configuration',\n\t\t\t\tlabel: 'Service Configuration',\n\t\t\t\tschema: {type: 'object', subtype: 'service-config'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tnormalizeToDefaultData(data) {\n\t\t\tif (typeof data.title !== 'undefined' && (typeof data.title !== 'string' || data.title.length === 0)) {\n\t\t\t\tdata.title = null;\n\t\t\t}\n\t\t\tif (typeof data.description !== 'undefined' && (typeof data.description !== 'string' || data.description.length === 0)) {\n\t\t\t\tdata.description = null;\n\t\t\t}\n\t\t\tif (typeof data.enabled !== 'undefined' && typeof data.enabled !== 'boolean') {\n\t\t\t\tdata.enabled = true;\n\t\t\t}\n\t\t\tif (typeof data.configuration !== 'undefined' && !Utils.isObject(data.configuration)) {\n\t\t\t\tdata.configuration = {};\n\t\t\t}\n\t\t\tif (typeof data.plan !== 'undefined' && (typeof data.plan !== 'string' || data.plan.length === 0)) {\n\t\t\t\tdata.plan = null;\n\t\t\t}\n\t\t\tif (typeof data.budget !== 'undefined' && (typeof data.budget !== 'number' || data.budget < 0)) {\n\t\t\t\tdata.budget = null;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tasync createService(script, data) {\n\t\t\tdata = this.normalizeToDefaultData(data);\n\t\t\ttry {\n\t\t\t\tlet service = await this.create({parameters: [script, data.type, data.title, data.description, data.enabled, data.configuration, data.plan, data.budget]});\n\t\t\t\tthis.serviceCreated(service);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Create Service Error: ' + (data.title || ''));\n\t\t\t}\n\t\t},\n\t\tcreateServiceFromScript() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getTitleField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.getServiceTypeField(),\n\t\t\t\tthis.getEnabledField(),\n\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField() : null,\n\t\t\t\tthis.supportsBilling ? this.getBudgetField() : null,\n\t\t\t\tthis.getConfigField()\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Create new web service\", fields, data => this.createService(this.process, data));\n\t\t},\n\t\teditMetadata(oldService) {\n\t\t\tthis.refreshElement(oldService, service => {\n\t\t\t\tvar fields = [\n\t\t\t\t\tthis.getTitleField(service.title),\n\t\t\t\t\tthis.getDescriptionField(service.description),\n\t\t\t\t\tthis.getEnabledField(service.enabled),\n\t\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField(service.plan) : null,\n\t\t\t\t\tthis.supportsBilling ? this.getBudgetField(service.budget) : null,\n\t\t\t\t\tthis.getConfigField(service.configuration)\n\t\t\t\t];\n\t\t\t\tthis.emit('showDataForm', \"Edit web service\", fields, data => this.updateService(service, data));\n\t\t\t});\n\t\t},\n\t\tserviceInfo(service) {\n\t\t\tthis.refreshElement(service, updatedService => {\n\t\t\t\tthis.emit('showModal', 'ServiceInfoModal', {service: updatedService.getAll()});\n\t\t\t});\n\t\t},\n\t\treplaceProcess(service, process) {\n\t\t\tif (service instanceof Service) {\n\t\t\t\tthis.updateService(service, {process: process});\n\t\t\t}\n\t\t},\n\t\tupdateTitle(service, newTitle) {\n\t\t\tthis.updateService(service, {title: newTitle});\n\t\t},\n\t\ttoggleEnabled(service) {\n\t\t\tthis.updateService(service, {enabled: !service.enabled});\n\t\t},\n\t\tasync updateService(service, parameters) {\n\t\t\ttry {\n\t\t\t\tlet updatedService = await this.update({data: service, parameters: this.normalizeToDefaultData(parameters)});\n\t\t\t\tUtils.ok(this, 'Service \"' + Utils.getResourceTitle(updatedService) + '\" successfully updated.');\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, \"Update Service Error: \" + Utils.getResourceTitle(service));\n\t\t\t}\n\t\t},\n\t\tasync deleteService(service) {\n\t\t\tif (!confirm(`Do you really want to delete the service \"${Utils.getResourceTitle(service)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait this.delete({data: service});\n\t\t\t\tthis.emit('removeWebService', service.id);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Delete Service Error: ' + Utils.getResourceTitle(service));\n\t\t\t}\n\t\t},\n\t\tviewService(service) {\n\t\t\tthis.emit('viewWebService', service);\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.ServicePanel .title {\n\twidth: 25%;\n}\n.ServicePanel .type {\n\ttext-align: center;\n}\n.ServicePanel .enabled {\n\ttext-align: center;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServicePanel.vue?vue&type=template&id=9bae1426&\"\nimport script from \"./ServicePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ServicePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ServicePanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Tabs id=\"userContent\" ref=\"tabs\">\n\t\t<Tab v-if=\"showJobs\" id=\"jobs\" name=\"Data Processing\" icon=\"fa-tasks\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<JobPanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showServices\" id=\"services\" name=\"Web Services\" icon=\"fa-cloud\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<ServicePanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showCustomProcesses\" id=\"customProcesses\" name=\"Custom Processes\" icon=\"fa-sitemap\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<CustomProcessPanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showFiles\" id=\"files\" name=\"Files\" icon=\"fa-file\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<FilePanel />\n\t\t</Tab>\n\t</Tabs>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport FilePanel from './FilePanel.vue';\nimport JobPanel from './JobPanel.vue';\nimport CustomProcessPanel from './CustomProcessPanel.vue';\nimport ServicePanel from './ServicePanel.vue';\n\nexport default {\n\tname: 'UserWorkspace',\n\tcomponents: {\n\t\tFilePanel,\n\t\tJobPanel,\n\t\tCustomProcessPanel,\n\t\tServicePanel,\n\t\tTabs,\n\t\tTab\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['supports']),\n\t\tshowJobs() {\n\t\t\treturn (this.supports('listJobs') || this.supports('createJob'));\n\t\t},\n\t\tshowServices() {\n\t\t\treturn (this.supports('listServices') || this.supports('createService'));\n\t\t},\n\t\tshowCustomProcesses() {\n\t\t\treturn (this.supports('listUserProcesses') || this.supports('setUserProcess'));\n\t\t},\n\t\tshowFiles() {\n\t\t\treturn (this.supports('listFiles') || this.supports('uploadFile'));\n\t\t}\n\t},\n\tmethods: {\n\t\tonShow(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onShow === 'function') {\n\t\t\t\ttab.$children[0].onShow();\n\t\t\t}\n\t\t},\n\t\tonHide(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onHide === 'function') {\n\t\t\t\ttab.$children[0].onHide();\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#userContent .tabContent {\n\tpadding: 5px;\n}\n#userContent .data-table .title {\n\tword-break: break-all;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserWorkspace.vue?vue&type=template&id=3fce6407&\"\nimport script from \"./UserWorkspace.vue?vue&type=script&lang=js&\"\nexport * from \"./UserWorkspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserWorkspace.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewerContainer\",on:{\"drop\":_vm.onDrop,\"dragover\":_vm.allowDrop}},[_c('Tabs',{ref:\"tabs\",attrs:{\"id\":\"viewerTabs\"},on:{\"empty\":_vm.onTabsEmpty},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_vm._v(\"Nothing to show right now...\")]},proxy:true},{key:\"dynamic\",fn:function(ref){\nvar tab = ref.tab;\nreturn [(_vm.logViewerIcons.includes(tab.icon))?_c('LogViewer',{attrs:{\"data\":tab.data}}):(tab.icon === 'fa-map')?_c('MapViewer',{attrs:{\"data\":tab.data,\"removableLayers\":_vm.isCollectionPreview(tab.data)},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}}):(tab.data.component)?_c(tab.data.component,_vm._g(_vm._b({tag:\"component\",on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},'component',tab.data.props,false),tab.data.events)):_c('div',{staticClass:\"unsupported\"},[_vm._v(\" Sorry, the viewer doesn't support showing this type of data. \"),(_vm.isFormat(tab.data))?[_vm._v(\" Instead, you can download the data by clicking the link below.\"),_c('br'),_c('a',{attrs:{\"href\":tab.data.getUrl(),\"download\":\"\"}},[_vm._v(\"Download\")])]:_vm._e()],2)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { SupportedFormat } from './format';\n\nclass BrowserImage extends SupportedFormat {\n\n\tconstructor(asset) {\n\t\tsuper(asset, 'ImageViewer', 'fa-image');\n\t}\n\n\tisBinary() {\n\t\treturn true;\n\t}\n\n\tasync fetchData() {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'anonymous';\n\t\timg.src = this.getUrl();\n\t\treturn img;\n\t}\n\n}\n\nexport default BrowserImage;","import { SupportedFormat } from './format';\n\nclass CSV extends SupportedFormat {\n\n\tconstructor(asset, delim = [',', ';']) {\n\t\tsuper(asset, 'TableViewer', 'fa-table');\n\t\tthis.delim = delim;\n\t}\n\n\tasync parseData(data) {\n\t\tif (typeof data === 'string') {\n\t\t\t// Parse CSV\n\t\t\tlet array = this.parseCSV(data.trim());\n\t\t\t// Convert values into numbers, if possible\n\t\t\treturn array.map(row => row.map(col => {\n\t\t\t\tlet num = Number.parseFloat(col);\n\t\t\t\treturn Number.isNaN(num) ? col : num;\n\t\t\t}));\n\t\t}\n\t\treturn data;\n\t}\n\n\t// From https://stackoverflow.com/questions/1293147/example-javascript-code-to-parse-csv-data\n\tparseCSV(str) {\n\t\tvar arr = [];\n\t\tvar quote = false;  // 'true' means we're inside a quoted field\n\t\n\t\t// Iterate over each character, keep track of current row and column (of the returned array)\n\t\tfor (var row = 0, col = 0, c = 0; c < str.length; c++) {\n\t\t\tvar cc = str[c], nc = str[c+1];        // Current character, next character\n\t\t\tarr[row] = arr[row] || [];             // Create a new row if necessary\n\t\t\tarr[row][col] = arr[row][col] || '';   // Create a new column (start with empty string) if necessary\n\t\n\t\t\t// If the current character is a quotation mark, and we're inside a\n\t\t\t// quoted field, and the next character is also a quotation mark,\n\t\t\t// add a quotation mark to the current column and skip the next character\n\t\t\tif (cc == '\"' && quote && nc == '\"') {\n\t\t\t\tarr[row][col] += cc; ++c;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's just one quotation mark, begin/end quoted field\n\t\t\tif (cc == '\"') {\n\t\t\t\tquote = !quote;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's a elimiter and we're not in a quoted field, move on to the next column\n\t\t\tif (this.delim.includes(cc) && !quote) {\n\t\t\t\t++col;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's a newline (CRLF) and we're not in a quoted field, skip the next character\n\t\t\t// and move on to the next row and move to column 0 of that new row\n\t\t\tif (cc == '\\r' && nc == '\\n' && !quote) {\n\t\t\t\t++row; col = 0; ++c;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's a newline (LF or CR) and we're not in a quoted field,\n\t\t\t// move on to the next row and move to column 0 of that new row\n\t\t\tif (cc == '\\n' && !quote) {\n\t\t\t\t++row; col = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (cc == '\\r' && !quote) {\n\t\t\t\t++row; col = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// Otherwise, append the current character to the current column\n\t\t\tarr[row][col] += cc;\n\t\t}\n\t\treturn arr;\n\t}\n\n}\n\nexport default CSV;","import { SupportedFormat } from './format';\n\nclass NativeType extends SupportedFormat {\n\n\tconstructor(asset) {\n\t\tsuper(asset, \"DataViewer\");\n\t}\n\n}\n\nexport default NativeType;","import CSV from './csv';\n\nclass TSV extends CSV {\n\n\tconstructor(asset) {\n\t\tsuper(asset, [\"\\t\"]);\n\t}\n\n}\n\nexport default TSV;","import contentType from 'content-type';\n\nimport BrowserImage from '../formats/browserImage';\nimport CSV from '../formats/csv';\nimport GeoTIFF from '../formats/geotiff';\nimport JSON_ from '../formats/json';\nimport NativeType from './native';\nimport TSV from '../formats/tsv';\nimport { UnsupportedFormat } from './format';\n\nexport default class FormatRegistry {\n\n\tconstructor() {\n\t}\n\n\tcreateFilesFromSTAC(stac, resource = null) {\n\t\tlet files = Object.values(stac.assets)\n\t\t\t.map(asset => this.createFileFromAsset(asset, stac));\n\t\tif (resource) {\n\t\t\tfiles.forEach(file => file.setContext(resource));\n\t\t}\n\t\treturn files;\n\t}\n\n\tcreateFilesFromBlob(data) {\n\t\tif (!(data instanceof Blob)) {\n\t\t\tthrow new Error(\"Given data is not a valid Blob\");\n\t\t}\n\t\treturn this.createFilesFromSTAC({\n\t\t\tassets: {\n\t\t\t\tresult: {\n\t\t\t\t\thref: URL.createObjectURL(data),\n\t\t\t\t\ttype: data.type\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tcreateFileFromAsset(asset, stac) {\n\t\tlet type = typeof asset.type === 'string' ? asset.type : 'application/octet-stream';\n\t\ttry {\n\t\t\tlet mime = contentType.parse(type.toLowerCase());\n\t\t\tswitch(mime.type) {\n\t\t\t\tcase 'image/png':\n\t\t\t\tcase 'image/jpg':\n\t\t\t\tcase 'image/jpeg':\n\t\t\t\tcase 'image/gif':\n\t\t\t\tcase 'image/webp':\n\t\t\t\t\treturn new BrowserImage(asset);\n\t\t\t\tcase 'application/json':\n\t\t\t\tcase 'text/json':\n\t\t\t\tcase 'application/geo+json':\n\t\t\t\t\treturn new JSON_(asset);\n\t\t\t\tcase 'text/plain':\n\t\t\t\t\treturn new NativeType(asset);\n\t\t\t\tcase 'text/csv':\n\t\t\t\t\treturn new CSV(asset);\n\t\t\t\tcase 'text/tab-separated-values':\n\t\t\t\t\treturn new TSV(asset);\n\t\t\t\tcase 'image/tiff':\n\t\t\t\t\treturn new GeoTIFF(asset);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\n\t\treturn new UnsupportedFormat(asset);\n\t}\n\n}","<template>\n\t<div class=\"viewerContainer\" @drop=\"onDrop\" @dragover=\"allowDrop\">\n\t\t<Tabs id=\"viewerTabs\" ref=\"tabs\" @empty=\"onTabsEmpty\">\n\t\t\t<template #empty>Nothing to show right now...</template>\n\t\t\t<template #dynamic=\"{ tab }\">\n\t\t\t\t<LogViewer v-if=\"logViewerIcons.includes(tab.icon)\" :data=\"tab.data\" />\n\t\t\t\t<MapViewer v-else-if=\"tab.icon === 'fa-map'\" :data=\"tab.data\" :removableLayers=\"isCollectionPreview(tab.data)\" @show=\"onShow\" @hide=\"onHide\" /> <!-- for services -->\n\t\t\t\t<component v-else-if=\"tab.data.component\" :is=\"tab.data.component\" v-on=\"tab.data.events\" v-bind=\"tab.data.props\" @show=\"onShow\" @hide=\"onHide\" /> <!-- for file formats -->\n\t\t\t\t<div class=\"unsupported\" v-else>\n\t\t\t\t\tSorry, the viewer doesn't support showing this type of data.\n\t\t\t\t\t<template v-if=\"isFormat(tab.data)\">\n\t\t\t\t\t\tInstead, you can download the data by clicking the link below.<br />\n\t\t\t\t\t\t<a :href=\"tab.data.getUrl()\" download>Download</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</Tabs>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport { Service } from '@openeo/js-client';\nimport FormatRegistry from '../formats/formatRegistry';\nimport { Format } from '../formats/format';\n\nexport default {\n\tname: 'Viewer',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tTabs,\n\t\tDataViewer: () => import('./viewer/DataViewer.vue'),\n\t\tTableViewer: () => import('./viewer/TableViewer.vue'),\n\t\tImageViewer: () => import('./viewer/ImageViewer.vue'),\n\t\tLogViewer: () => import('./viewer/LogViewer.vue'),\n\t\tMapViewer: () => import('./viewer/MapViewer.vue')\n\t},\n\tmounted() {\n\t\tthis.listen('viewSyncResult', this.showSyncResults);\n\t\tthis.listen('viewJobResults', this.showJobResults);\n\t\tthis.listen('viewWebService', this.showWebService);\n\t\tthis.listen('showCollectionPreview', this.showCollectionPreview);\n\t\tthis.listen('viewLogs', this.showLogs);\n\t\tthis.listen('removeWebService', this.closeTabWithLogs);\n\t\tthis.listen('removeBatchJob', this.closeTabWithLogs);\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tregistry: new FormatRegistry(),\n\t\t\ttabTitleCounter: {},\n\t\t\ttabIdCounter: 0,\n\t\t\tlogViewerIcons: [\n\t\t\t\t'fa-bug',\n\t\t\t\t'fa-bomb',\n\t\t\t\t'fa-tasks'\n\t\t\t]\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection', 'userLocation']),\n\t\tnextTabId() {\n\t\t\treturn `viewer~${this.tabIdCounter}`;\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeCollection']),\n\t\tisCollectionPreview(data) {\n\t\t\treturn (data instanceof Service && Utils.isObject(data.attributes) && data.attributes.preview === true);\n\t\t},\n\t\tisFormat(data) {\n\t\t\treturn (data instanceof Format);\n\t\t},\n\t\tasync showCollectionPreview(collection) {\n\t\t\tif (typeof collection === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\tcollection = await this.describeCollection(collection);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUtils.error(this, \"Sorry, can't load collection '\" + collection + \"'.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet link = Utils.getPreviewLinkFromSTAC(collection);\n\t\t\tif (!link) {\n\t\t\t\tUtils.error(this, 'No visualizations found for collection');\n\t\t\t}\n\n\t\t\tlet service = new Service(null, `collection-preview~${collection.id}`);\n\t\t\tservice.url = link.href;\n\t\t\tservice.type = link.rel.toLowerCase();\n\t\t\tservice.attributes = {\n\t\t\t\tpreview: true,\n\t\t\t\tbbox: Utils.extentToBBox(collection.extent.spatial.bbox[0])\n\t\t\t};\n\t\t\tif (link.rel.toLowerCase() === 'wmts') {\n\t\t\t\tif (typeof link['wmts:layer'] === 'string') {\n\t\t\t\t\tservice.attributes.layers = [\n\t\t\t\t\t\tlink['wmts:layer']\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(link['wmts:layer'])) {\n\t\t\t\t\tservice.attributes.layers = link['wmts:layer'];\n\t\t\t\t}\n\t\t\t\tservice.attributes.dimensions = link['wmts:dimensions'];\n\t\t\t}\n\n\t\t\tthis.showMapViewer(service, service.id, Utils.getResourceTitle(collection, true), true);\n\t\t},\n\t\tshowWebService(service) {\n\t\t\tthis.showMapViewer(service, service.id, null, true);\n\t\t},\n\t\tshowLogs(resource, defaultTitle = 'Logs', selectTab = true, faIcon = 'fa-bug') {\n\t\t\tlet title = Array.isArray(resource) ? defaultTitle : Utils.getResourceTitle(resource, \"Logs\");\n\t\t\tlet id = Array.isArray(resource) ? null : `logs~${resource.id}`;\n\t\t\tthis.$refs.tabs.addTab(\n\t\t\t\ttitle, faIcon, resource, id, selectTab, true,\n\t\t\t\ttab => this.onShow(tab),\n\t\t\t\ttab => this.onHide(tab)\n\t\t\t);\n\t\t},\n\t\tcloseTabWithLogs(id) {\n\t\t\tthis.closeTab(id);\n\t\t\tthis.closeTab(`logs~${id}`);\n\t\t},\n\t\tcloseTab(id) {\n\t\t\tlet tab = this.$refs.tabs.getTab(id);\n\t\t\tif (tab) {\n\t\t\t\tthis.$refs.tabs.closeTab(tab);\n\t\t\t}\n\t\t},\n\t\tshowSyncResults(result) {\n\t\t\tlet title = this.makeTitle(\"Result\");\n\t\t\t// result.data should always be a blob\n\t\t\tlet files = this.registry.createFilesFromBlob(result.data);\n\t\t\t// Download files to disc so that nothing gets lost\n\t\t\tfiles.forEach(file => file.download());\n\t\t\t// Show the data in the viewer\n\t\t\tthis.showViewer(files, title).finally(() => {\n\t\t\t\t// Open the log files after the data tab has been opened -> it's in finally to spawn after the data tab\n\t\t\t\tif (Array.isArray(result.logs) && result.logs.length > 0) {\n\t\t\t\t\tthis.showLogs(result.logs, title, false);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tshowJobResults(stac, job) {\n\t\t\tlet files = this.registry.createFilesFromSTAC(stac, job);\n\t\t\tthis.showViewer(files);\n\t\t},\n\t\tshowMapViewer(resource, id = null, title = null, reUseExistingTab = false) {\n\t\t\tif (!title) {\n\t\t\t\ttitle = Utils.getResourceTitle(resource, true);\n\t\t\t}\n\t\t\tif (!id) {\n\t\t\t\tid = this.nextTabId;\n\t\t\t\tthis.tabIdCounter++;\n\t\t\t\tif (reUseExistingTab) {\n\t\t\t\t\tthrow new Error(\"Tabs without id can't be re-used\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (reUseExistingTab) {\n\t\t\t\tlet tab = this.$refs.tabs.getTab(id);\n\t\t\t\tif (tab) {\n\t\t\t\t\treturn this.$refs.tabs.selectTab(tab);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$refs.tabs.addTab(\n\t\t\t\ttitle, \"fa-map\", resource, id, true, true,\n\t\t\t\ttab => this.onShow(tab),\n\t\t\t\ttab => this.onHide(tab)\n\t\t\t);\n\t\t},\n\t\tasync showViewer(files, title = null) {\n\t\t\tfor(let file of files) {\n\t\t\t\ttry {\n\t\t\t\t\tlet context = file.getContext();\n\t\t\t\t\tlet id = context ? context.id : null;\n\t\t\t\t\tif (!title && context) {\n\t\t\t\t\t\ttitle = Utils.getResourceTitle(context, true);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!title) {\n\t\t\t\t\t\ttitle = this.makeTitle(\"Untitled\");\n\t\t\t\t\t}\n\t\t\t\t\tawait file.getData(this.connection);\n\t\t\t\t\tthis.$refs.tabs.addTab(\n\t\t\t\t\t\ttitle, file.icon, file, id, true, true,\n\t\t\t\t\t\ttab => this.onShow(tab),\n\t\t\t\t\t\ttab => this.onHide(tab)\n\t\t\t\t\t);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUtils.exception(this, error, \"Viewer Error\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync callChildFunction(tab, fn, ...args) {\n\t\t\tlet result;\n\t\t\tif (tab.$children.length === 1 && typeof tab.$children[0][fn] === 'function') {\n\t\t\t\tresult = tab.$children[0][fn](...args);\n\t\t\t}\n\t\t\telse if (typeof tab[fn] === 'function') {\n\t\t\t\tresult = tab[fn](...args);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\t\t\tif (result instanceof Promise) {\n\t\t\t\tresult = await result;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tasync onDrop(event) {\n\t\t\tvar json = event.dataTransfer.getData(\"application/vnd.openeo-node\");\n\t\t\tif (!json) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet node = JSON.parse(json);\n\t\t\tif (node.process_id === 'load_collection') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet id = Utils.isObject(node.arguments) ? node.arguments.id : null;\n\t\t\t\ttry {\n\t\t\t\t\tlet collection = await this.describeCollection(id);\n\t\t\t\t\tthis.showCollectionPreview(collection);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUtils.error(this, \"Sorry, can't load collection details for '\" + id + \"'.\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tallowDrop(event) {\n\t\t\tevent.preventDefault();\n\t\t},\n\t\tonShow(tab) {\n\t\t\tthis.callChildFunction(tab, 'onShow');\n\t\t},\n\t\tonHide(tab) {\n\t\t\tthis.callChildFunction(tab, 'onHide');\n\t\t},\n\t\tonTabsEmpty(hasNone) {\n\t\t\tthis.$emit('empty', hasNone);\n\t\t},\n\t\tuniqueTitle(title) {\n\t\t\tif (!this.tabTitleCounter[title]) {\n\t\t\t\tthis.tabTitleCounter[title] = 1;\n\t\t\t\treturn title;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.tabTitleCounter[title]++;\n\t\t\t\treturn title + \" (\" + this.tabTitleCounter[title] + \")\";\n\t\t\t}\n\t\t},\n\t\tmakeTitle(title, type, unique = true) {\n\t\t\tif (!title) {\n\t\t\t\treturn this.uniqueTitle(type);\n\t\t\t}\n\t\t\telse if (unique) {\n\t\t\t\treturn this.uniqueTitle(title);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn title;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.map-viewer, .viewerContainer {\n\theight: 100%;\n}\n.viewerContainer {\n\t.unsupported {\n\t\tpadding: 1em;\n\t}\n\t.tabsEmpty {\n\t\theight: 100%;\n\t\tpadding: 1rem;\n\t\tmargin: auto;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Viewer.vue?vue&type=template&id=39f72ae3&\"\nimport script from \"./Viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./Viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Viewer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"wrapper\">\n\t\t<div id=\"ide\" :class=\"{authenticated: isAuthenticated}\">\n\t\t\t<header class=\"navbar\">\n\t\t\t\t<Logo />\n\t\t\t\t<ul id=\"menu\">\n\t\t\t\t\t<li><div class=\"menuItem\" @click=\"showHelp\" title=\"Start a guided tour\"><i class=\"fas fa-question fa-fw\"></i> Help</div></li>\n\t\t\t\t\t<li><div class=\"menuItem\" @click=\"showServerInfo\" title=\"Get server information\"><i class=\"fas fa-info fa-fw\"></i> Server</div></li>\n\t\t\t\t\t<li><UserMenu /></li>\n\t\t\t\t</ul>\n\t\t\t</header>\n\t\t\t<Splitpanes class=\"default-theme\" @resize=\"resized\" @pane-maximize=\"resized\">\n\t\t\t\t<Pane id=\"discovery\" :size=\"splitpaneSizeH[0]\">\n\t\t\t\t\t<DiscoveryToolbar class=\"toolbar tour-ide-discovery\" :onAddProcess=\"insertProcess\" :collectionPreview=\"true\" :persist=\"true\" />\n\t\t\t\t</Pane>\n\t\t\t\t<Pane id=\"workspace\" :size=\"splitpaneSizeH[1]\">\n\t\t\t\t\t<Splitpanes class=\"default-theme\" horizontal @resize=\"resized\" @pane-maximize=\"resized\">\n\t\t\t\t\t\t<Pane id=\"editor\" :size=\"splitpaneSizeV[0]\">\n\t\t\t\t\t\t\t<Editor ref=\"editor\" class=\"mainEditor tour-ide-editor\" id=\"main\" :value=\"process\" @input=\"updateEditor\" :title=\"contextTitle\">\n\t\t\t\t\t\t\t\t<template #file-toolbar>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" @click=\"importProcess\" title=\"Import process from external source\"><i class=\"fas fa-cloud-download-alt\"></i></button>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" v-show=\"saveSupported\" :disabled=\"!hasProcess\" @click=\"saveProcess\" :title=\"'Save to ' + contextTitle\"><i class=\"fas fa-save\"></i></button>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" @click=\"exportCode\" :disabled=\"!hasProcess\" title=\"Export into another programming language\"><i class=\"fas fa-file-export\"></i></button>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" v-show=\"validateSupported\" :disabled=\"!hasProcess\" @click=\"validateProcess\" title=\"Validate process on server-side\"><i class=\"fas fa-tasks\"></i></button>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</Editor>\n\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t<Pane id=\"user\" :size=\"splitpaneSizeV[1]\">\n\t\t\t\t\t\t\t<UserWorkspace v-if=\"isAuthenticated\" class=\"userContent tour-ide-workspace\" />\n\t\t\t\t\t\t\t<div v-else class=\"message info\" title=\"Login is required to interact with the server.\">\n\t\t\t\t\t\t\t\t<i class=\"fas fa-sign-in-alt\"></i>\n\t\t\t\t\t\t\t\t<span class=\"login-message\"><strong><a @click=\"login\">Log in</a></strong> is required to interact with the server.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Pane>\n\t\t\t\t\t</Splitpanes>\n\t\t\t\t</Pane>\n\t\t\t\t<Pane id=\"viewer\" :class=\"{empty: !showViewer}\" :size=\"splitpaneSizeH[2]\">\n\t\t\t\t\t<Viewer class=\"tour-ide-viewer\" @empty=\"onViewerEmpty\" />\n\t\t\t\t</Pane>\n\t\t\t</Splitpanes>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport UserMenu from './UserMenu.vue';\nimport UserWorkspace from './UserWorkspace.vue';\nimport Viewer from './Viewer.vue';\nimport Editor from './Editor.vue';\nimport Logo from './Logo.vue';\nimport DiscoveryToolbar from './DiscoveryToolbar.vue';\nimport { ProcessParameter } from '@openeo/js-commons';\nimport { Job, Service, UserProcess } from '@openeo/js-client';\nimport { Splitpanes, Pane } from 'splitpanes';\n\nexport default {\n\tname: 'IDE',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tDiscoveryToolbar,\n\t\tEditor,\n\t\tLogo,\n\t\tViewer,\n\t\tUserMenu,\n\t\tUserWorkspace,\n\t\tSplitpanes,\n\t\tPane\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowViewer: false,\n\t\t\tresizeListener: null,\n\t\t\tuserInfoUpdater: null\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection', 'isAuthenticated']),\n\t\t...Utils.mapState('editor', ['context', 'process', 'collectionPreview']),\n\t\t...Utils.mapGetters(['title', 'apiVersion', 'supports']),\n\t\t...Utils.mapGetters('jobs', {supportsJobUpdate: 'supportsUpdate'}),\n\t\t...Utils.mapGetters('services', {supportsServiceUpdate: 'supportsUpdate'}),\n\t\t...Utils.mapGetters('userProcesses', {supportsUserProcessUpdate: 'supportsUpdate'}),\n\t\tcontextTitle() {\n\t\t\treturn this.context !== null ? Utils.getResourceTitle(this.context, true) : ''\n\t\t},\n\t\tsaveSupported() {\n\t\t\treturn this.context !== null && (\n\t\t\t\t(this.context instanceof Job && this.supportsJobUpdate) ||\n\t\t\t\t(this.context instanceof Service && this.supportsServiceUpdate) ||\n\t\t\t\t(this.context instanceof UserProcess && this.supportsUserProcessUpdate)\n\t\t\t);\n\t\t},\n\t\thasProcess() {\n\t\t\treturn Utils.size(this.process) > 0;\n\t\t},\n\t\tvalidateSupported() {\n\t\t\treturn this.supports('validateProcess');\n\t\t},\n\t\tsplitpaneSizeH() {\n\t\t\tif (this.showViewer) {\n\t\t\t\treturn [20, 40, 40];\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn [25, 75, 0];\n\t\t\t}\n\t\t},\n\t\tsplitpaneSizeV() {\n\t\t\tif (this.isAuthenticated) {\n\t\t\t\treturn [50,50];\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn [99,1];\n\t\t\t}\n\t\t}\n\t},\n\tasync mounted() {\n\t\tthis.listen('showDataForm', this.showDataForm);\n\t\tthis.listen('editProcess', this.editProcess);\n\t\tthis.listen('showLogin', this.login);\n\n\t\tthis.resizeListener = event => this.resized(event);\n\t\twindow.addEventListener('resize', this.resizeListener);\n\t\tif (this.isAuthenticated) {\n\t\t\tthis.userInfoUpdater = setInterval(this.describeAccount, this.$config.dataRefreshInterval*60*1000); // Refresh user data every x minutes\n\t\t}\n\t\tthis.emit('title', this.title);\n\n\t\tif (this.collectionPreview) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.emit('showCollectionPreview', this.collectionPreview);\n\t\t\t\tthis.setCollectionPreview(null);\n\t\t\t});\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tif (this.resizeListener !== null) {\n\t\t\twindow.removeEventListener('resize', this.resizeListener);\n\t\t}\n\t\tif (this.userInfoUpdater !== null) {\n\t\t\tclearInterval(this.userInfoUpdater);\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeAccount']),\n\t\t...Utils.mapMutations(['discoveryCompleted']),\n\t\t...Utils.mapMutations('editor', ['setContext', 'setProcess', 'setCollectionPreview']),\n\n\t\tresized(event) {\n\t\t\tthis.emit('windowResized', event);\n\t\t},\n\t\tonViewerEmpty(empty) {\n\t\t\tthis.showViewer = !empty;\n\t\t},\n\n\t\tlogin() {\n\t\t\tthis.discoveryCompleted(false);\n\t\t},\n\n\t\timportProcess() {\n\t\t\tlet events = {\n\t\t\t\tsave: this.updateEditor\n\t\t\t};\n\t\t\tthis.emit('showModal', 'ImportProcessModal', {}, events);\n\t\t},\n\n\t\tsaveProcess() {\n\t\t\tthis.emit('replaceProcess', this.context, this.process);\n\t\t},\n\n\t\tasync exportCode() {\n\t\t\tthis.emit('showModal', 'ExportCodeModal');\n\t\t},\n\n\t\tasync validateProcess() {\n\t\t\tif (!this.validateSupported) {\n\t\t\t\treturn Utils.error(this, \"Server doesn't support validation\");\n\t\t\t}\n\t\t\telse if (!this.hasProcess) {\n\t\t\t\treturn Utils.info(this, 'Nothing to validate...');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet errors = await this.connection.validateProcess(this.process);\n\t\t\t\tif (errors.length > 0) {\n\t\t\t\t\terrors.forEach(error => error.level = 'error');\n\t\t\t\t\tthis.emit('viewLogs', errors, 'Validation Result', 'fa-tasks');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tUtils.ok(this, \"The process is valid\");\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error, \"Validation rejected\");\n\t\t\t}\n\t\t},\n\n\t\tupdateEditor(value) {\n\t\t\tthis.setProcess(value);\n\t\t\tif (value === null) {\n\t\t\t\tthis.setContext(null);\n\t\t\t}\n\t\t},\n\n\t\teditProcess(obj) {\n\t\t\tthis.setContext(obj);\n\t\t},\n\n\t\tinsertProcess(node) {\n\t\t\tthis.$refs.editor.insertProcess(node);\n\t\t},\n\n\t\tshowServerInfo() {\n\t\t\tthis.emit('showModal', 'ServerInfoModal');\n\t\t},\n\n\t\tshowHelp() {\n\t\t\tthis.emit('showTour', 'ide');\n\t\t},\n\n\t\tshowDataForm(title, fields, saveCallback = null, closeCallback = null) {\n\t\t\tvar editable = typeof saveCallback === 'function';\n\t\t\tvar data = {};\n\t\t\tvar parameters = [];\n\t\t\tfor(let field of fields) {\n\t\t\t\tif (field === null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tparameters.push(new ProcessParameter(field));\n\t\t\t\tdata[field.name] = field.value;\n\t\t\t}\n\t\n\t\t\tlet props = {\n\t\t\t\ttitle,\n\t\t\t\tparameters,\n\t\t\t\tdata,\n\t\t\t\teditable\n\t\t\t};\n\t\t\tlet events = {};\n\t\t\tif (typeof saveCallback === 'function') {\n\t\t\t\tevents.save = saveCallback;\n\t\t\t}\n\t\t\tif (typeof closeCallback === 'function') {\n\t\t\t\tevents.closed = closeCallback;\n\t\t\t}\n\t\t\tthis.emit('showModal', 'ParameterModal', props, events);\n\t\t}\n\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../theme.scss';\n@import '~splitpanes/dist/splitpanes.css';\n\n.splitpanes.default-theme {\n  .splitpanes__pane {\n    background-color: transparent;\n  }\n  .splitpanes__splitter {\n\t  border: 0;\n  }\n  > * {\n\t-webkit-transition: none;\n\ttransition: none;\n  }\n}\n\n#ide {\n\tmargin-top: 80px;\n\theight: calc(100% - 80px);\n\tbackground-color: white;\n}\n#wrapper {\n\theight: 100%;\n}\n#workspace, #viewer {\n\theight: 100%;\n\tmin-width: 200px;\n\tpadding: 1rem;\n\tbox-sizing: border-box;\n\n\t&.empty {\n\t\tmin-width: 0;\n\t\tpadding: 0;\n\t}\n}\n#workspace {\n\tmin-width: 300px;\n}\n#discovery {\n\theight: 100%;\n\toverflow: auto;\n\n\t.search-box {\n\t\tmargin: 1rem;\n\t}\n\t.category {\n\t\tpadding: 5px 1em;\n\t}\n}\n#user {\n\tmin-height: 2.5em;\n}\n#editor, .authenticated #user {\n\tmin-height: 150px;\n}\n#editor {\n\tpadding-bottom: 0.5rem;\n\n\t&:last-child {\n\t\tpadding-bottom: 0;\n\t}\n}\n\n#user {\n\tpadding-top: 0.5rem;\n\n\t.login-message {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n#ide header.navbar {\n\twidth: 100%;\n\tbackground-color: $mainColor;\n\tcolor: white;\n\theight: 80px;\n\tposition: fixed;\n\ttop: 0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tz-index: 100;\n}\n#ide .logo {\n\tflex-grow: 1;\n\talign-content: flex-start;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tjustify-content: left;\n\tpadding-left: 1rem;\n}\n\n#menu {\n\tlist-style-type: none;\n\tmargin: 0 1rem;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\n\tli {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\theight: 80px;\n\n\t\t&:hover {\n\t\t\tbackground-color: white;\n\t\t\tcolor: $mainColor;\n\n\t\t\t.dropdown {\n\t\t\t\tdisplay: block;\n\t\t\t\tborder-color: #ddd;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-width: 0 1px 1px 1px;\n\t\t\t}\n\t\t}\n\n\t\t.menuItem {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 10px 20px;\n\t\t\theight: 60px;\n\t\t\tfont-size: 16px;\n\t\t\tfont-weight: bold;\n\t\t}\n\n\t\t.dropdown {\n\t\t\tdisplay: none;\n\t\t\tposition: absolute;\n\t\t\tbackground-color: white;\n\t\t\tcolor: black;\n\t\t\tmin-width: 200px;\n\t\t\tbox-shadow: 8px 8px 8px 0px rgba(0,0,0,0.3);\n\t\t\ttop: 80px;\n\t\t\tright: -1px;\n\n\t\t\t.item {\n\t\t\t\tpadding: 10px;\n\t\t\t\tdisplay: block;\n\n\t\t\t\t&.separator {\n\t\t\t\t\tborder-bottom: 1px dotted $mainColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thr {\n\t\t\t\tmargin: 5px 10px;\n\t\t\t}\n\n\t\t\ta.item:hover {\n\t\t\t\tbackground-color: $mainColor;\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.tabContent .dataTable,\n.tabContent table {\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tfont-size: 0.95em;\n\n\ttd, th {\n\t\tborder: 1px solid #ddd;\n\t\tpadding: 3px;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IDE.vue?vue&type=template&id=c2af5cc4&\"\nimport script from \"./IDE.vue?vue&type=script&lang=js&\"\nexport * from \"./IDE.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IDE.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function indexOfMatch(xml, pattern, startIndex) {\n  const re = new RegExp(pattern);\n  const match = re.exec(xml.slice(startIndex));\n  if (match) return startIndex + match.index;\n  else return -1;\n}\n\nmodule.exports = indexOfMatch;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=style&index=0&id=76333d38&lang=scss&scoped=true&\""],"sourceRoot":""}