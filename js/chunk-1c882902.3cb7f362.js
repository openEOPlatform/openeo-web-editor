(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c882902"],{"2ce2":function(t,e,n){"use strict";var o=n("e300"),i=n("183a"),r=n("cef7"),a=n("f623"),s=n("4334"),c=n("3e6b"),h=n("57cb"),u=n("38f3"),l=n("6c77"),d=n("9f5e"),p=n("1300"),_=n("06f8"),f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),v={SELECT:"select"},g=function(t){function e(e,n,o,i){var r=t.call(this,e)||this;return r.selected=n,r.deselected=o,r.mapBrowserEvent=i,r}return f(e,t),e}(r["a"]),y={},m=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i,r=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=r.condition?r.condition:_["m"],n.addCondition_=r.addCondition?r.addCondition:_["i"],n.removeCondition_=r.removeCondition?r.removeCondition:_["i"],n.toggleCondition_=r.toggleCondition?r.toggleCondition:_["l"],n.multi_=!!r.multi&&r.multi,n.filter_=r.filter?r.filter:h["b"],n.hitTolerance_=r.hitTolerance?r.hitTolerance:0,n.style_=void 0!==r.style?r.style:O(),n.features_=r.features||new o["a"],r.layers)if("function"===typeof r.layers)i=r.layers;else{var a=r.layers;i=function(t){return Object(d["f"])(a,t)}}else i=h["b"];return n.layerFilter_=i,n.featureLayerAssociation_={},n}return f(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(p["c"])(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(p["c"])(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap();n&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(i["a"].ADD,this.boundAddFeature_),this.features_.addEventListener(i["a"].REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(i["a"].ADD,this.boundAddFeature_),this.features_.removeEventListener(i["a"].REMOVE,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){var n=this.getMap().getAllLayers().find((function(t){if(t instanceof c["a"]&&t.getSource()&&t.getSource().hasFeature(e))return t}));n&&this.addFeatureLayerAssociation_(e,n)}},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=Object(p["c"])(t);e in y||(y[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){for(var n=this.getMap().getInteractions().getArray(),o=n.length-1;o>=0;--o){var i=n[o];if(i!==this&&i instanceof e&&i.getStyle()&&-1!==i.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(i.getStyle())}var r=Object(p["c"])(t);t.setStyle(y[r]),delete y[r]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(p["c"])(t)]},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),o=this.toggleCondition_(t),i=!e&&!n&&!o,r=t.map,a=this.getFeatures(),s=[],c=[];if(i){Object(u["b"])(this.featureLayerAssociation_),r.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),c.push(t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=a.getLength()-1;h>=0;--h){var l=a.item(h),p=c.indexOf(l);p>-1?c.splice(p,1):(a.remove(l),s.push(l))}0!==c.length&&a.extend(c)}else{r.forEachFeatureAtPixel(t.pixel,function(t,i){if(this.filter_(t,i))return!e&&!o||Object(d["f"])(a.getArray(),t)?(n||o)&&Object(d["f"])(a.getArray(),t)&&(s.push(t),this.removeFeatureLayerAssociation_(t)):(this.addFeatureLayerAssociation_(t,i),c.push(t)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var _=s.length-1;_>=0;--_)a.remove(s[_]);a.extend(c)}return(c.length>0||s.length>0)&&this.dispatchEvent(new g(v.SELECT,c,s,t)),!0},e}(s["a"]);function O(){var t=Object(l["b"])();return Object(d["c"])(t[a["a"].POLYGON],t[a["a"].LINE_STRING]),Object(d["c"])(t[a["a"].GEOMETRY_COLLECTION],t[a["a"].LINE_STRING]),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}e["a"]=m},"3a39":function(t,e,n){"use strict";n.d(e,"a",(function(){return Q}));var o=n("e300"),i=n("4334"),r=n("0b2d"),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.delta_=o.delta?o.delta:1,n.duration_=void 0!==o.duration?o.duration:250,n}return a(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==r["a"].DBLCLICK){var n=t.originalEvent,o=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,c=o.getView();Object(i["c"])(c,s,a,this.duration_),n.preventDefault(),e=!0}return!e},e}(i["a"]),c=s,h=n("4105"),u=n("57cb"),l=n("06f8"),d=n("ca42"),p=n("a568"),_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=function(t){function e(e){var n=t.call(this,{stopDown:u["a"]})||this,o=e||{};n.kinetic_=o.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var i=o.condition?o.condition:Object(l["a"])(l["j"],l["k"]);return n.condition_=o.onFocusOnly?Object(l["a"])(l["f"],i):i,n.noKinetic_=!1,n}return _(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Object(h["a"])(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map,r=i.getView();Object(p["h"])(o,r.getResolution()),Object(p["g"])(o,r.getRotation()),r.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([a[0]-o*Math.cos(i),a[1]-o*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:d["b"]})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,n=e.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(h["b"]),v=f,g=n("8cc5"),y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(t){function e(e){var n=this,o=e||{};return n=t.call(this,{stopDown:u["a"]})||this,n.condition_=o.condition?o.condition:l["c"],n.lastAngle_=void 0,n.duration_=void 0!==o.duration?o.duration:250,n}return y(e,t),e.prototype.handleDragEvent=function(t){if(Object(l["h"])(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==g["c"]){var o=e.getSize(),i=t.pixel,r=Math.atan2(o[1]/2-i[1],i[0]-o[0]/2);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){if(!Object(l["h"])(t))return!0;var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Object(l["h"])(t))return!1;if(Object(l["g"])(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1},e}(h["b"]),O=m,E=n("cef7"),b=n("cacb"),w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},P=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=o,i}return w(e,t),e}(E["a"]),T=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var o=e||{};return n.box_=new b["a"](o.className||"ol-dragbox"),n.minArea_=void 0!==o.minArea?o.minArea:64,o.onBoxEnd&&(n.onBoxEnd=o.onBoxEnd),n.startPixel_=null,n.condition_=o.condition?o.condition:l["g"],n.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:n.defaultBoxEndCondition,n}return w(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var o=n[0]-e[0],i=n[1]-e[1];return o*o+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new P(C.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new P(e?C.BOXEND:C.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new P(C.BOXSTART,t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(h["b"]),x=T,D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),j=function(t){function e(e){var n=this,o=e||{},i=o.condition?o.condition:l["l"];return n=t.call(this,{condition:i,className:o.className||"ol-dragzoom",minArea:o.minArea})||this,n.duration_=void 0!==o.duration?o.duration:200,n.out_=void 0!==o.out&&o.out,n}return D(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap(),n=e.getView(),o=this.getGeometry();if(this.out_){var i=n.rotatedExtentForGeometry(o),r=n.getResolutionForExtentInternal(i),a=n.getResolution()/r;o=o.clone(),o.scale(a*a)}n.fitInternal(o,{duration:this.duration_,easing:d["b"]})},e}(x),k=j,F=n("01d4"),I=n("1672"),A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),L=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.defaultCondition_=function(t){return Object(l["j"])(t)&&Object(l["n"])(t)},n.condition_=void 0!==o.condition?o.condition:n.defaultCondition_,n.duration_=void 0!==o.duration?o.duration:100,n.pixelDelta_=void 0!==o.pixelDelta?o.pixelDelta:128,n}return A(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==F["a"].KEYDOWN){var n=t.originalEvent,o=n.keyCode;if(this.condition_(t)&&(o==I["a"].DOWN||o==I["a"].LEFT||o==I["a"].RIGHT||o==I["a"].UP)){var r=t.map,a=r.getView(),s=a.getResolution()*this.pixelDelta_,c=0,h=0;o==I["a"].DOWN?h=-s:o==I["a"].LEFT?c=-s:o==I["a"].RIGHT?c=s:h=s;var u=[c,h];Object(p["g"])(u,a.getRotation()),Object(i["b"])(a,u,this.duration_),n.preventDefault(),e=!0}}return!e},e}(i["a"]),S=L,R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),N=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.condition_=o.condition?o.condition:l["n"],n.delta_=o.delta?o.delta:1,n.duration_=void 0!==o.duration?o.duration:100,n}return R(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==F["a"].KEYDOWN||t.type==F["a"].KEYPRESS){var n=t.originalEvent,o=n.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var r=t.map,a=o=="+".charCodeAt(0)?this.delta_:-this.delta_,s=r.getView();Object(i["c"])(s,a,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(i["a"]),G=N,M=n("25c1"),V=n("617d"),U=n("7fc9"),Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),W={TRACKPAD:"trackpad",WHEEL:"wheel"},B=function(t){function e(e){var n=this,o=e||{};n=t.call(this,o)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==o.maxDelta?o.maxDelta:1,n.duration_=void 0!==o.duration?o.duration:250,n.timeout_=void 0!==o.timeout?o.timeout:80,n.useAnchor_=void 0===o.useAnchor||o.useAnchor,n.constrainResolution_=void 0!==o.constrainResolution&&o.constrainResolution;var i=o.condition?o.condition:l["d"];return n.condition_=o.onFocusOnly?Object(l["a"])(l["f"],i):i,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return Y(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==F["a"].WHEEL)return!0;var n,o=t.map,i=t.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==F["a"].WHEEL&&(n=i.deltaY,V["b"]&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=V["a"]),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?W.TRACKPAD:W.WHEEL);var a=o.getView();if(this.mode_===W.TRACKPAD&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=n;var s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Object(U["b"])(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Object(i["c"])(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(i["a"]),H=B,X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Z=function(t){function e(e){var n=this,o=e||{},i=o;return i.stopDown||(i.stopDown=u["a"]),n=t.call(this,i)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==o.threshold?o.threshold:.3,n.duration_=void 0!==o.duration?o.duration:250,n}return X(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],o=this.targetPointers[1],i=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=i-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==g["c"]){var c=a.getViewport().getBoundingClientRect(),u=Object(h["a"])(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(h["b"]),K=Z,q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),z=function(t){function e(e){var n=this,o=e||{},i=o;return i.stopDown||(i.stopDown=u["a"]),n=t.call(this,i)||this,n.anchor_=null,n.duration_=void 0!==o.duration?o.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return q(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],o=this.targetPointers[1],i=n.clientX-o.clientX,r=n.clientY-o.clientY,a=Math.sqrt(i*i+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,c=s.getView();1!=e&&(this.lastScaleDelta_=e);var u=s.getViewport().getBoundingClientRect(),l=Object(h["a"])(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(l),s.render(),c.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView(),o=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,o),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(h["b"]),J=z;function Q(t){var e=t||{},n=new o["a"],i=new M["a"](-.005,.05,100),r=void 0===e.altShiftDragRotate||e.altShiftDragRotate;r&&n.push(new O);var a=void 0===e.doubleClickZoom||e.doubleClickZoom;a&&n.push(new c({delta:e.zoomDelta,duration:e.zoomDuration}));var s=void 0===e.dragPan||e.dragPan;s&&n.push(new v({onFocusOnly:e.onFocusOnly,kinetic:i}));var h=void 0===e.pinchRotate||e.pinchRotate;h&&n.push(new K);var u=void 0===e.pinchZoom||e.pinchZoom;u&&n.push(new J({duration:e.zoomDuration}));var l=void 0===e.keyboard||e.keyboard;l&&(n.push(new S),n.push(new G({delta:e.zoomDelta,duration:e.zoomDuration})));var d=void 0===e.mouseWheelZoom||e.mouseWheelZoom;d&&n.push(new H({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var p=void 0===e.shiftDragZoom||e.shiftDragZoom;return p&&n.push(new k({duration:e.zoomDuration})),n}},4105:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("4334"),i=n("0b2d"),r=n("38f3"),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(e){var n=this,o=e||{};return n=t.call(this,o)||this,o.handleDownEvent&&(n.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(n.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(n.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(n.handleUpEvent=o.handleUpEvent),o.stopDown&&(n.stopDown=o.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return a(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i["a"].POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==i["a"].POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==i["a"].POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==i["a"].POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(h(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==i["a"].POINTERUP?delete this.trackedPointers_[n]:(t.type==i["a"].POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Object(r["c"])(this.trackedPointers_)}},e}(o["a"]);function c(t){for(var e=t.length,n=0,o=0,i=0;i<e;i++)n+=t[i].clientX,o+=t[i].clientY;return[n/e,o/e]}function h(t){var e=t.type;return e===i["a"].POINTERDOWN||e===i["a"].POINTERDRAG||e===i["a"].POINTERUP}e["b"]=s},4334:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return h}));var o=n("e269"),i=n("bf62"),r=n("ca42"),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return a(e,t),e.prototype.getActive=function(){return this.get(i["a"].ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(i["a"].ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(o["a"]);function c(t,e,n){var o=t.getCenterInternal();if(o){var i=[o[0]+e[0],o[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:r["d"],center:t.getConstrainedCenter(i)})}}function h(t,e,n,o){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==o?o:250,easing:r["b"]})}}e["a"]=s},"617d":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"h",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return d}));var o="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",i=-1!==o.indexOf("firefox"),r=-1!==o.indexOf("safari")&&-1==o.indexOf("chrom"),a=r&&!!(o.indexOf("version/15.4")>=0||o.match(/cpu (os|iphone os) 15_4 like mac os x/)),s=-1!==o.indexOf("webkit")&&-1==o.indexOf("edge"),c=-1!==o.indexOf("macintosh"),h="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,u="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!==typeof Image&&Image.prototype.decode,d=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}()},ac29:function(t,e,n){"use strict";var o=n("f822"),i=n("cef7"),r=n("01d4"),a=n("4cdf"),s=n("f623"),c=n("bf62"),h=n("7a09"),u=n("509b"),l=n("0b2d"),d=n("47e4"),p=n("9a440"),_=n("88da"),f=n("f403"),v=n("4105"),g=n("5bc3"),y=n("3e6b"),m=n("5831"),O=n("57cb"),E=n("06f8"),b=(n("0af5"),n("6c77")),w=n("256f"),C=n("a568"),P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},x={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},D=function(t){function e(e,n){var o=t.call(this,e)||this;return o.feature=n,o}return P(e,t),e}(i["a"]),j=function(t){function e(e){var n=this,i=e;i.stopDown||(i.stopDown=O["a"]),n=t.call(this,i)||this,n.on,n.once,n.un,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.pointerType_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=F(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===T.POLYGON?3:2,n.maxPoints_=n.mode_===T.CIRCLE?2:e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:O["b"];var r=e.geometryFunction;if(!r){var a,s=n.mode_;if(s===T.CIRCLE)r=function(t,e,n){var i=e||new o["a"]([NaN,NaN]),r=Object(w["k"])(t[0],n),a=Object(C["i"])(r,Object(w["k"])(t[t.length-1],n));i.setCenterAndRadius(r,Math.sqrt(a));var s=Object(w["r"])();return s&&i.transform(n,s),i};else s===T.POINT?a=f["a"]:s===T.LINE_STRING?a=h["a"]:s===T.POLYGON&&(a=g["a"]),r=function(t,e,n){return e?s===T.POLYGON?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])]):e.setCoordinates([]):e.setCoordinates(t):e=new a(t),e}}return n.geometryFunction_=r,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new y["a"]({source:new m["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:k(),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:E["j"],n.freehandCondition_,e.freehand?n.freehandCondition_=E["d"]:n.freehandCondition_=e.freehandCondition?e.freehandCondition:E["l"],n.addChangeListener(c["a"].ACTIVE,n.updateState_),n}return P(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===r["a"].CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==T.POINT&&this.freehandCondition_(e);var n=e.type===l["a"].POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===l["a"].POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===l["a"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),o=!1):this.freehand_&&e.type===l["a"].POINTERDOWN?o=!1:n&&this.getPointerCount()<2?(o=e.type===l["a"].POINTERMOVE,o&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===l["a"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===l["a"].DBLCLICK&&(o=!1),t.prototype.handleEvent.call(this,e)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new u["a"](l["a"].POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&this.mode_!==T.POINT||(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,o=e[0]-n[0],i=e[1]-n[1],r=o*o+i*i;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,o=[this.finishCoordinate_],i=this.mode_;if(i===T.POINT)e=!0;else if(i===T.CIRCLE)e=2===this.sketchCoords_.length;else if(i===T.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(i===T.POLYGON){var r=this.sketchCoords_;n=r[0].length>this.minPoints_,o=[r[0][0],r[0][r[0].length-2]]}if(n)for(var a=this.getMap(),s=0,c=o.length;s<c;s++){var h=o[s],u=a.getPixelFromCoordinate(h),l=t[0]-u[0],d=t[1]-u[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(l*l+d*d)<=p,e){this.finishCoordinate_=h;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){if(this.sketchPoint_){var e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}else this.sketchPoint_=new a["a"](new f["a"](t)),this.updateSketchFeatures_()},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new a["a"]);var e=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new h["a"](e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))},e.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===T.POINT?this.sketchCoords_=t.slice():this.mode_===T.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new a["a"](new h["a"](this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new a["a"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new D(x.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,o=this.getMap(),i=this.sketchFeature_.getGeometry(),r=o.getView().getProjection();if(this.mode_===T.POINT?n=this.sketchCoords_:this.mode_===T.POLYGON?(e=this.sketchCoords_[0],n=e[e.length-1],this.atFinish_(o.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(e=this.sketchCoords_,n=e[e.length-1]),n[0]=t[0],n[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,r),this.sketchPoint_){var a=this.sketchPoint_.getGeometry();a.setCoordinates(t)}if(i.getType()===s["a"].POLYGON&&this.mode_!==T.POLYGON)this.createOrUpdateCustomSketchLine_(i);else if(this.sketchLineCoords_){var c=this.sketchLine_.getGeometry();c.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,o=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),r=this.mode_;r===T.LINE_STRING||r===T.CIRCLE?(this.finishCoordinate_=t.slice(),n=this.sketchCoords_,n.length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,o,i)):r===T.POLYGON&&(n=this.sketchCoords_[0],n.length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,o,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),o=this.mode_;if(o===T.LINE_STRING||o===T.CIRCLE){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var i=this.finishCoordinate_.slice();t[t.length-1]=i,this.createOrUpdateSketchPoint_(i)}this.geometryFunction_(t,e,n),e.getType()===s["a"].POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(o===T.POLYGON){t=this.sketchCoords_[0],t.splice(-2,1);var r=this.sketchLine_.getGeometry();if(t.length>=2){i=t[t.length-2].slice();t[t.length-1]=i,this.createOrUpdateSketchPoint_(i)}r.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry(),o=this.getMap().getView().getProjection();this.mode_===T.LINE_STRING?(e.pop(),this.geometryFunction_(e,n,o)):this.mode_===T.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n,o),e=n.getCoordinates()),this.type_===s["a"].MULTI_POINT?t.setGeometry(new p["a"]([e])):this.type_===s["a"].MULTI_LINE_STRING?t.setGeometry(new d["a"]([e])):this.type_===s["a"].MULTI_POLYGON&&t.setGeometry(new _["a"]([e])),this.dispatchEvent(new D(x.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new D(x.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var e,n=this.mode_,o=!this.sketchFeature_;if(o&&this.startDrawing_(t[0]),n===T.LINE_STRING||n===T.CIRCLE)e=this.sketchCoords_;else{if(n!==T.POLYGON)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}o&&e.shift(),e.pop();for(var i=0;i<t.length;i++)this.addToDrawing_(t[i]);var r=t[t.length-1];this.addToDrawing_(r),this.modifyDrawing_(r)},e.prototype.extend=function(t){var e=t.getGeometry(),n=e;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.sketchPoint_=new a["a"](new f["a"](o)),this.updateSketchFeatures_(),this.dispatchEvent(new D(x.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(v["b"]);function k(){var t=Object(b["b"])();return function(e,n){return t[e.getGeometry().getType()]}}function F(t){switch(t){case s["a"].POINT:case s["a"].MULTI_POINT:return T.POINT;case s["a"].LINE_STRING:case s["a"].MULTI_LINE_STRING:return T.LINE_STRING;case s["a"].POLYGON:case s["a"].MULTI_POLYGON:return T.POLYGON;case s["a"].CIRCLE:return T.CIRCLE;default:throw new Error("Invalid type: "+t)}}e["a"]=j},b2fc:function(t,e,n){"use strict";var o=n("183a"),i=n("01d4"),r=n("f623"),a=n("4105"),s=n("4a7d"),c=n("a43f"),h=n("57cb"),u=n("0af5"),l=n("a568"),d=n("5bc3"),p=n("256f"),_=n("1300"),f=n("38f3"),v=n("1e8d"),g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function y(t){return t.feature?t.feature:t.element?t.element:void 0}var m=[],O=function(t){function e(e){var n=this,o=e||{},i=o;return i.handleDownEvent||(i.handleDownEvent=h["b"]),i.stopDown||(i.stopDown=h["a"]),n=t.call(this,i)||this,n.source_=o.source?o.source:null,n.vertex_=void 0===o.vertex||o.vertex,n.edge_=void 0===o.edge||o.edge,n.features_=o.features?o.features:null,n.featuresListenerKeys_=[],n.featureChangeListenerKeys_={},n.indexedFeaturesExtents_={},n.pendingFeatures_={},n.pixelTolerance_=void 0!==o.pixelTolerance?o.pixelTolerance:10,n.rBush_=new s["a"],n.GEOMETRY_SEGMENTERS_={Point:n.segmentPointGemetry_.bind(n),LineString:n.segmentLineStringGemetry_.bind(n),LinearRing:n.segmentLineStringGemetry_.bind(n),Polygon:n.segmentPolygonGemetry_.bind(n),MultiPoint:n.segmentMultiPointGemetry_.bind(n),MultiLineString:n.segmentMultiLineStringGemetry_.bind(n),MultiPolygon:n.segmentMultiPolygonGemetry_.bind(n),GeometryCollection:n.segmentGeometryCollectionGemetry_.bind(n),Circle:n.segmentCircleGemetry_.bind(n)},n}return g(e,t),e.prototype.addFeature=function(t,e){var n=void 0===e||e,o=Object(_["c"])(t),r=t.getGeometry();if(r){var a=this.GEOMETRY_SEGMENTERS_[r.getType()];if(a){this.indexedFeaturesExtents_[o]=r.getExtent(Object(u["j"])());var s=[];if(a(s,r),1===s.length)this.rBush_.insert(Object(u["b"])(s[0]),{feature:t,segment:s[0]});else if(s.length>1){var c=s.map((function(t){return Object(u["b"])(t)})),h=s.map((function(e){return{feature:t,segment:e}}));this.rBush_.load(c,h)}}}n&&(this.featureChangeListenerKeys_[o]=Object(v["a"])(t,i["a"].CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var n=this.snapTo(e.pixel,e.coordinate,e.map);return n&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=y(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=y(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=Object(_["c"])(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(f["c"])(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var n=void 0===e||e,o=Object(_["c"])(t),i=this.indexedFeaturesExtents_[o];if(i){var r=this.rBush_,a=[];r.forEachInExtent(i,(function(e){t===e.feature&&a.push(e)}));for(var s=a.length-1;s>=0;--s)r.remove(a[s])}n&&(Object(v["c"])(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},e.prototype.setMap=function(e){var n=this.getMap(),i=this.featuresListenerKeys_,r=this.getFeatures_();n&&(i.forEach(v["c"]),i.length=0,r.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?i.push(Object(v["a"])(this.features_,o["a"].ADD,this.handleFeatureAdd_,this),Object(v["a"])(this.features_,o["a"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(Object(v["a"])(this.source_,c["a"].ADDFEATURE,this.handleFeatureAdd_,this),Object(v["a"])(this.source_,c["a"].REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,n){var o=n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),i=n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),a=Object(u["b"])([o,i]),s=this.rBush_.getInExtent(a),c=s.length;if(0===c)return null;var h,d=n.getView().getProjection(),_=Object(p["k"])(e,d),f=1/0,v=this.pixelTolerance_*this.pixelTolerance_,g=function(){if(h){var e=n.getPixelFromCoordinate(h),o=Object(l["i"])(t,e);if(o<=v)return{vertex:h,vertexPixel:[Math.round(e[0]),Math.round(e[1])]}}return null};if(this.vertex_){for(var y=0;y<c;++y){var O=s[y];O.feature.getGeometry().getType()!==r["a"].CIRCLE&&O.segment.forEach((function(t){var e=Object(p["k"])(t,d),n=Object(l["i"])(_,e);n<f&&(h=t,f=n)}))}var E=g();if(E)return E}if(this.edge_){for(y=0;y<c;++y){var b=null;O=s[y];if(O.feature.getGeometry().getType()===r["a"].CIRCLE){var w=O.feature.getGeometry(),C=Object(p["r"])();C&&(w=w.clone().transform(C,d)),b=Object(p["s"])(Object(l["b"])(_,w),d)}else{var P=O.segment,T=P[0],x=P[1];x&&(m[0]=Object(p["k"])(T,d),m[1]=Object(p["k"])(x,d),b=Object(l["c"])(_,m))}if(b){var D=Object(l["i"])(_,b);D<f&&(h=b,f=D)}}E=g();if(E)return E}return null},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.segmentCircleGemetry_=function(t,e){var n=this.getMap().getView().getProjection(),o=e,i=Object(p["r"])();i&&(o=o.clone().transform(i,n));var r=Object(d["b"])(o);i&&r.transform(n,i);for(var a=r.getCoordinates()[0],s=0,c=a.length-1;s<c;++s)t.push(a.slice(s,s+2))},e.prototype.segmentGeometryCollectionGemetry_=function(t,e){for(var n=e.getGeometriesArray(),o=0;o<n.length;++o){var i=this.GEOMETRY_SEGMENTERS_[n[o].getType()];i&&i(t,n[o])}},e.prototype.segmentLineStringGemetry_=function(t,e){for(var n=e.getCoordinates(),o=0,i=n.length-1;o<i;++o)t.push(n.slice(o,o+2))},e.prototype.segmentMultiLineStringGemetry_=function(t,e){for(var n=e.getCoordinates(),o=0,i=n.length;o<i;++o)for(var r=n[o],a=0,s=r.length-1;a<s;++a)t.push(r.slice(a,a+2))},e.prototype.segmentMultiPointGemetry_=function(t,e){e.getCoordinates().forEach((function(e){t.push([e])}))},e.prototype.segmentMultiPolygonGemetry_=function(t,e){for(var n=e.getCoordinates(),o=0,i=n.length;o<i;++o)for(var r=n[o],a=0,s=r.length;a<s;++a)for(var c=r[a],h=0,u=c.length-1;h<u;++h)t.push(c.slice(h,h+2))},e.prototype.segmentPointGemetry_=function(t,e){t.push([e.getCoordinates()])},e.prototype.segmentPolygonGemetry_=function(t,e){for(var n=e.getCoordinates(),o=0,i=n.length;o<i;++o)for(var r=n[o],a=0,s=r.length-1;a<s;++a)t.push(r.slice(a,a+2))},e}(a["b"]);e["a"]=O},bf62:function(t,e,n){"use strict";e["a"]={ACTIVE:"active"}},eb48:function(t,e,n){"use strict";var o=n("cef7"),i=n("4cdf"),r=n("f623"),a=n("0b2d"),s=n("f403"),c=n("4105"),h=n("3e6b"),u=n("5831"),l=n("06f8"),d=n("0af5"),p=n("a568"),_=n("6c77"),f=n("5bc3"),v=n("256f"),g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y={EXTENTCHANGED:"extentchanged"},m=function(t){function e(e){var n=t.call(this,y.EXTENTCHANGED)||this;return n.extent=e,n}return g(e,t),e}(o["a"]),O=function(t){function e(e){var n=this,o=e||{};return n=t.call(this,o)||this,n.on,n.once,n.un,n.condition_=o.condition?o.condition:l["d"],n.extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==o.pixelTolerance?o.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,e||(e={}),n.extentOverlay_=new h["a"]({source:new u["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:E(),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new h["a"]({source:new u["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:b(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&n.setExtent(e.extent),n}return g(e,t),e.prototype.snapToVertex_=function(t,e){var n=e.getCoordinateFromPixelInternal(t),o=function(t,e){return Object(p["j"])(n,t)-Object(p["j"])(n,e)},i=this.getExtentInternal();if(i){var r=P(i);r.sort(o);var a=r[0],s=Object(p["c"])(n,a),c=e.getPixelFromCoordinateInternal(s);if(Object(p["d"])(t,c)<=this.pixelTolerance_){var h=e.getPixelFromCoordinateInternal(a[0]),u=e.getPixelFromCoordinateInternal(a[1]),l=Object(p["i"])(c,h),d=Object(p["i"])(c,u),_=Math.sqrt(Math.min(l,d));return this.snappedToVertex_=_<=this.pixelTolerance_,this.snappedToVertex_&&(s=l>d?a[1]:a[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,n=t.map,o=this.snapToVertex_(e,n);o||(o=n.getCoordinateFromPixelInternal(e)),this.createOrUpdatePointerFeature_(o)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry(Object(f["c"])(t)):e.setGeometry(void 0):(e=t?new i["a"](Object(f["c"])(t)):new i["a"]({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;if(e){var n=e.getGeometry();n.setCoordinates(t)}else e=new i["a"](new s["a"](t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e);return e},e.prototype.handleEvent=function(e){return!e.originalEvent||!this.condition_(e)||(e.type!=a["a"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,n=t.map,o=this.getExtentInternal(),i=this.snapToVertex_(e,n),r=function(t){var e=null,n=null;return t[0]==o[0]?e=o[2]:t[0]==o[2]&&(e=o[0]),t[1]==o[1]?n=o[3]:t[1]==o[3]&&(n=o[1]),null!==e&&null!==n?[e,n]:null};if(i&&o){var a=i[0]==o[0]||i[0]==o[2]?i[0]:null,s=i[1]==o[1]||i[1]==o[3]?i[1]:null;null!==a&&null!==s?this.pointerHandler_=w(r(i)):null!==a?this.pointerHandler_=C(r([a,o[1]]),r([a,o[3]])):null!==s&&(this.pointerHandler_=C(r([o[0],s]),r([o[2],s])))}else i=n.getCoordinateFromPixelInternal(e),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=w(i);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtentInternal();return e&&0!==Object(d["t"])(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return Object(v["t"])(this.getExtentInternal(),this.getMap().getView().getProjection())},e.prototype.getExtentInternal=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new m(this.extent_))},e}(c["b"]);function E(){var t=Object(_["b"])();return function(e,n){return t[r["a"].POLYGON]}}function b(){var t=Object(_["b"])();return function(e,n){return t[r["a"].POINT]}}function w(t){return function(e){return Object(d["b"])([t,e])}}function C(t,e){return t[0]==e[0]?function(n){return Object(d["b"])([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return Object(d["b"])([t,[e[0],n[1]]])}:null}function P(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}e["a"]=O}}]);
//# sourceMappingURL=chunk-1c882902.3cb7f362.js.map